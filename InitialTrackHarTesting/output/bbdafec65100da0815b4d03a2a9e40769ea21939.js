var searchTypes,BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(e){for(var t=0;t<e.length;t++){var r=e[t].string;if(this.versionSearchString=e[t].subString,-1!=r.indexOf(e[t].subString))return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]};function toggle(e,t){e=document.getElementById(e);"none"==e.style.display?(e.style.display=t,e.focus()):e.style.display="none"}if(BrowserDetect.init(),"undefined"!=typeof AUTOCOMPLETE_SEARCH_TYPES&&((searchTypes=[]).push({name:AUTOCOMPLETE_SEARCH_TYPES.video,className:"video bg-sprite-icons",autocompleteUrl:"/api/v1/video/search_autocomplete",submitUrl:searchUrlVideo,testTypePattern:"video"}),void 0!==AUTOCOMPLETE_SEARCH_TYPES.photos&&searchTypes.push({name:AUTOCOMPLETE_SEARCH_TYPES.photos,className:"photos bg-sprite-icons",autocompleteUrl:"/api/v1/video/search_autocomplete",submitUrl:searchUrlPhoto,testTypePattern:"albums"}),searchTypes.push({name:AUTOCOMPLETE_SEARCH_TYPES.members,className:"members bg-sprite-icons",autocompleteUrl:null,submitUrl:searchUrlMember,testTypePattern:"user"}),searchTypes.push({name:AUTOCOMPLETE_SEARCH_TYPES.pornstars,className:"pornstars bg-sprite-icons",autocompleteUrl:"/api/v1/pornstar/search_autocomplete",submitUrl:searchUrlPornstar,submitUrlVideo:searchUrlVideo,testTypePattern:"pornstars"}),void 0!==AUTOCOMPLETE_SEARCH_TYPES.gifs&&searchTypes.push({name:AUTOCOMPLETE_SEARCH_TYPES.gifs,className:"gifs bg-sprite-icons",autocompleteUrl:"/api/v1/video/search_autocomplete",submitUrl:searchUrlGifs,testTypePattern:"gifs"}),1==showStreamate)&&searchTypes.push({name:AUTOCOMPLETE_SEARCH_TYPES.camModels,className:"cam models bg-sprite-icons",autocompleteUrl:"/live/search_autocomplete",submitUrl:searchUrlCam,testTypePattern:"live"}),"Firefox"===BrowserDetect.browser){var i,arrowIcons=document.querySelectorAll(".arrow.arrowMenu");if(arrowIcons)for(i=0;i<arrowIcons.length;i++)MG_Utils.addClass(arrowIcons[i],"fFox")}document.querySelector(".fakeClick")&&document.querySelector(".fakeClick").addEventListener("click",function(){var e=document.querySelector("#searchTypeSelected"),t=document.querySelector("#searchTypeSelected i");MG_Utils.hasClass(e,"active")?(MG_Utils.removeClass(e,"active"),MG_Utils.removeClass(t,"active")):(MG_Utils.addClass(e,"active"),MG_Utils.addClass(t,"active"))}),document.addEventListener("click",function(e){var t=document.querySelector("#searchTypeSelected.active"),r=document.querySelector("#searchTypeSelected i");t&&"fakeClick"!==e.target.className&&(MG_Utils.removeClass(t,"active"),MG_Utils.removeClass(r,"active"))});show=function(e){var t,r,e=e.target,s=(null==e.querySelector("video")?(t=e.querySelector("img.thumb"),i=e.querySelector("div"),t&&t.setAttribute("src",t.getAttribute("data-gif-url")),MG_Utils.addClass(e.querySelector("img.loader"),"fade"),i&&MG_Utils.addClass(i,"slide")):(t=e.querySelector("video"))&&(i=t.querySelector(".js-webm"),r=t.querySelector(".js-mp4"),i&&i.setAttribute("src",t.getAttribute("data-webm")),r&&r.setAttribute("src",t.getAttribute("data-mp4")),e.querySelectorAll("video")[0].load(),t.setAttribute("autoplay",!0)),"undefined"!=typeof gifLoadTimeout&&clearTimeout(gifLoadTimeout),e),i=s.querySelectorAll("img.thumb");"undefined"!=typeof gifLoadTimeout&&(gifLoadTimeout=setTimeout(function(){var e=s.querySelector("img.loader");e&&MG_Utils.removeClass(e,"fade")},1e4)),[].forEach.call(i,function(e){e.addEventListener("load",function(){MG_Utils.removeClass(e.parentNode.querySelector("img.loader"),"fade")})})};var gifMenuItem={hideGifs:hide=function(e){var t,r,s,e=e.target;null==e.querySelector("video")?(t=e.querySelector("img.thumb"),r=e.querySelector("div"),t&&t.setAttribute("src",t.getAttribute("data-static-url")),MG_Utils.removeClass(e.querySelector("img.loader"),"fade"),r&&MG_Utils.removeClass(r,"slide")):(t=e.querySelector("video"))&&(r=e.querySelectorAll("video")[0],e=t.querySelector(".js-webm"),s=t.querySelector(".js-mp4"),e&&e.removeAttribute("src"),s&&s.removeAttribute("src"),r.pause(),t.setAttribute("autoplay",!1),r.load())},showGifs:show};let fancentroButton=document.querySelector(".js-external-link-fancentro");fancentroButton?.addEventListener("click",()=>{"undefined"!=typeof userClogTracking&&userClogTracking(currentDomain,"external-link",originPart,originUrl,"fancentro","")});
(()=>{var s={options:{debug:!1,parent:"#headerMainMenu",menuItem:".menu",submenu:".js-dropdown",submenuContent:".js-submenu",topMenu:".js-topMenuLink",discover:".discover",timeout:250},asyncMenuItems:["menu_livesex"],cache:{},cacheTime:(new Date).getTime()+18e5,init:function(e){document.querySelector(this.options.parent)&&(e=e||{},this.options=MG_Utils.extendSimple(this.options,e),this.options.debug&&console.log("Menu debug mode"),this.createMenuInStorage(),this.eventHandlers())},isHovered:function(e){return 1==e.getAttribute("data-hover")},createMenuInStorage:function(){this.asyncMenuItems.forEach(function(t){var e;switch(t){case"menu_livesex":e=MENU_MAIN_HEADER.liveSexUrl;break;case"menu_photos":e=MENU_MAIN_HEADER.photosUrl;break;default:return""}s.cache[t]||MG_Utils.ajaxCall({dataType:"text",type:"GET",url:e,headers:"undefined"!=typeof liuIdOrNull&&liuIdOrNull?{__m:liuIdOrNull}:{},success:function(e){s.cache[t]={data:e}}})})},asyncItems:function(e,t){var n,o;MG_Utils.hasClass(e,"asyncLoad")&&(n=this,MG_Utils.hasClass(e,"livesex")?o=MENU_MAIN_HEADER.liveSexUrl:MG_Utils.hasClass(e,"photos")&&(o=MENU_MAIN_HEADER.photosUrl),MG_Utils.ajaxCall({type:"GET",url:o,dataType:"text",headers:"undefined"!=typeof liuIdOrNull&&liuIdOrNull?{__m:liuIdOrNull}:{},beforeSend:function(){t.innerHTML='<div class="menuAsync"><img class="menuAsyncPreload" src="'+MENU_MAIN_HEADER.preloadImage+'"></div>'},success:function(e){e&&e.length&&(n.createMenuInStorage(),t.innerHTML=e)}}))},cacheExpire:function(e){return this.cacheTime-e<=0},loadContent:function(e,t){var n=(new Date).getTime();return MG_Utils.hasClass(e,"livesex")&&s.cache.menu_livesex&&!this.cacheExpire(n)?t.innerHTML=s.cache.menu_livesex.data:MG_Utils.hasClass(e,"photos")&&s.cache.menu_photos&&!this.cacheExpire(n)?t.innerHTML=s.cache.menu_photos.data:(this.cacheExpire(n)&&(this.cacheTime=(new Date).getTime()+18e5,this.cache={}),void this.asyncItems(e,t))},showSubmenu:function(e){var o=e.target||e.srcElement,i=o.querySelector(s.options.submenu);i&&(o.setAttribute("data-hover",1),(e=document.querySelector(".activeMenuTab"))&&MG_Utils.removeClass(e,"activeMenuTab"),MG_Utils.addClass(o,"activeMenuTab"),setTimeout(function(){if(s.isHovered(o)){var e=i.querySelector(s.options.discover);if(e){e.style.display="inline-block";var t=i.querySelectorAll(".js-menuSwap"),n=0;if(t&&t.length)for(;n<t.length;n++)t[n].setAttribute("src",t[n].getAttribute("data-image"))}else i.querySelector(s.options.submenuContent).style.display=checkForGridSupport()?"grid":"block",MG_Utils.hasClass(o,"asyncLoad")&&s.loadContent(o,i.querySelector(s.options.submenuContent));MG_Utils.addClass(o.querySelector(s.options.topMenu),"hovered"),i.style.display="block"}s.removeTargetFromLink()},s.options.timeout),e=document.querySelectorAll("#headerMainMenu li.menu").length)&&MG_Utils.hasClass(o,"item-"+e)&&document.activeElement===o&&(e=o&&o.getElementsByTagName("a")[o.getElementsByTagName("a").length-1])&&e.addEventListener("blur",function(){o.setAttribute("data-hover",0);var e=o.querySelector(".js-dropdown"),t=o.querySelector(".js-topMenuLink");e&&(e.style.display="none"),t&&MG_Utils.removeClass(t,"hovered")})},hideSubmenu:function(e){var t=e.target||e.srcElement,n=t.querySelector(s.options.submenu);n&&(t.setAttribute("data-hover",0),setTimeout(function(){var e;s.isHovered(t)||(n.style.display="none",(e=n.querySelector(s.options.discover))?(e.style.display="none",MG_Utils.hasClass(t,"asyncLoad")&&(n.querySelector(s.options.submenuContent).innerHTML="")):n.querySelector(s.options.submenuContent).style.display="none",MG_Utils.removeClass(t.querySelector(s.options.topMenu),"hovered"))},s.options.timeout+200))},eventHandlers:function(){for(var e=document.querySelector(this.options.parent).querySelectorAll(this.options.menuItem),n=this,t=0;t<e.length;t++){var o=e[t];MG_Utils.addEventHandler(o,"mouseenter",this.showSubmenu),MG_Utils.addEventHandler(o,"mouseleave",this.hideSubmenu),MG_Utils.addEventHandler(o,"focus",function(e){var t=e.target;t&&document.activeElement===t&&(t=(t=n.options&&document.querySelector(n.options.parent))&&t.querySelectorAll(".menu:not(.activeMenuTab)"))&&t.forEach(function(e){e.setAttribute("data-hover",0);var t=e.querySelector(".js-dropdown"),e=e.querySelector(".js-topMenuLink");t&&(t.style.display="none"),e&&MG_Utils.removeClass(e,"hovered")}),n.showSubmenu(e)})}},removeTargetFromLink:function(){void 0===page_params.holiday_promo_prem&&document.querySelectorAll("div.livesex div.innerDropdown a").forEach(function(e){e.getAttribute("target")&&e.removeAttribute("target")})}},r={options:{debug:!1,parent:"#headerMainMenu",menuItem:".menu",submenu:".js-dropdown",submenuContent:".js-submenu",topMenu:".js-topMenuLink",discover:".discover",timeout:250},asyncMenuItems:["livesex"],cache:{},cacheTime:(new Date).getTime()+18e5,init:function(e){document.querySelector(this.options.parent)&&(e=e||{},this.options=MG_Utils.extendSimple(this.options,e),this.options.debug&&console.log("Menu debug mode"),this.createMenuInStorage(),this.eventHandlers())},isHovered:function(e){return 1==e.getAttribute("data-hover")},createMenuInStorage:function(){~this.asyncMenuItems.indexOf(this.cache)||MG_Utils.ajaxCall({type:"GET",url:MENU_MAIN_HEADER.menuUrl,headers:"undefined"!=typeof liuIdOrNull&&liuIdOrNull?{__m:liuIdOrNull}:{},success:function(t){r.asyncMenuItems.forEach(function(e){r.cache[e]={data:t[e]}})}})},asyncItems:function(n,o){var e;MG_Utils.hasClass(n,"asyncLoad")&&(e=this,MG_Utils.ajaxCall({type:"GET",url:MENU_MAIN_HEADER.menuUrl,headers:"undefined"!=typeof liuIdOrNull&&liuIdOrNull?{__m:liuIdOrNull}:{},beforeSend:function(){o.innerHTML='<div class="menuAsync"><img class="menuAsyncPreload" src="'+MENU_MAIN_HEADER.preloadImage+'"></div>'},success:function(t){t&&(e.createMenuInStorage(),r.asyncMenuItems.forEach(function(e){MG_Utils.hasClass(n,e)&&(o.innerHTML=t[e])}))}}))},cacheExpire:function(e){return this.cacheTime-e<=0},displayContent:function(t,n){var o=(new Date).getTime(),i=!1;r.asyncMenuItems.forEach(function(e){if(MG_Utils.hasClass(t,e)&&r.cache[e]&&!r.cacheExpire(o))return n.innerHTML=r.cache[e].data,i=!0}),i||(this.cacheExpire(o)&&(this.cacheTime=(new Date).getTime()+18e5,this.cache={}),this.asyncItems(t,n))},showSubmenu:function(e){var o=e.target||e.srcElement,i=o.querySelector(r.options.submenu);i&&(o.setAttribute("data-hover",1),setTimeout(function(){if(r.isHovered(o)){var e=i.querySelector(r.options.discover);if(e){e.style.display="inline-block";var t=i.querySelectorAll(".js-menuSwap"),n=0;if(t&&t.length)for(;n<t.length;n++)t[n].setAttribute("src",t[n].getAttribute("data-image"))}else i.querySelector(r.options.submenuContent).style.display=checkForGridSupport()?"grid":"block",MG_Utils.hasClass(o,"asyncLoad")&&r.displayContent(o,i.querySelector(r.options.submenuContent));MG_Utils.addClass(o.querySelector(r.options.topMenu),"hovered"),i.style.display="block"}r.removeTargetFromLink()},r.options.timeout))},hideSubmenu:function(e){var t=e.target||e.srcElement,n=t.querySelector(r.options.submenu);n&&(t.setAttribute("data-hover",0),setTimeout(function(){var e;r.isHovered(t)||(n.style.display="none",(e=n.querySelector(r.options.discover))?(e.style.display="none",MG_Utils.hasClass(t,"asyncLoad")&&(n.querySelector(r.options.submenuContent).innerHTML="")):n.querySelector(r.options.submenuContent).style.display="none",MG_Utils.removeClass(t.querySelector(r.options.topMenu),"hovered"))},r.options.timeout+200))},eventHandlers:function(){for(var e=document.querySelector(this.options.parent).querySelectorAll(this.options.menuItem),t=0;t<e.length;t++){var n=e[t];MG_Utils.addEventHandler(n,"mouseenter",this.showSubmenu),MG_Utils.addEventHandler(n,"mouseleave",this.hideSubmenu)}},removeTargetFromLink:function(){void 0===page_params.holiday_promo_prem&&document.querySelectorAll("div.livesex div.innerDropdown a").forEach(function(e){e.getAttribute("target")&&e.removeAttribute("target")})}};MG_Utils.domReady(function(){(page_params.getMenuType?r:s).init()})})(),(()=>{(e=document.querySelectorAll("ul.gifsMenuItems li"))&&[].forEach.call(e,function(e){e.addEventListener("mouseenter",gifMenuItem.showGifs),e.addEventListener("mouseleave",gifMenuItem.hideGifs)});var n,e=document.querySelector(".realsex"),t=(void 0===page_params.holiday_promo_prem&&e&&(n=e.querySelector(".js-topMenuLink"))&&(n.href="/",e.addEventListener("click",function(e){var t=n.dataset.href;e.preventDefault(),e.stopPropagation(),window.open(t,"_blank")})),document.querySelector(".js-liveCam"));if(t&&t.getAttribute("data-value")&&t.addEventListener("click",function(){window.idsync&&"function"==typeof window.idsync.setProduct&&"function"==typeof window.idsync.send_event&&window.idsync.setProduct(576).send_event({name:"click",value:t.getAttribute("data-value"),type:"inquiry"})}),"undefined"!=typeof premiumFlag&&"0"===premiumFlag){let e=document.querySelector(".js-upgradeBtn");e&&e.addEventListener("click",function(){window.idsync&&window.idsync.setProduct(576).send_event({name:"click",value:e.innerText.toLowerCase(),type:"inquiry"})})}(e=document.querySelector(".js-upload-photo"))&&null===liuIdOrNull&&e.addEventListener("click",()=>{"undefined"!=typeof updateClogTracking&&updateClogTracking("upload-photo")}),(e=document.getElementById("makeYourGif"))&&null===liuIdOrNull&&e.addEventListener("click",e=>{"undefined"!=typeof updateClogTracking&&updateClogTracking("make-gif"),userClogTracking(currentDomain,"signup-open",originPart,originUrl,clickedElement,"")})})();
var MG_Flipbook=function(){var Self=this,timer,o={},data={},flipTimer,oldThumbUrlAC;Self.init=function(e){Self.params=e,Self.addEvents()},Self.addEvent=function(e,t,i){var a;e.addEventListener?e.addEventListener(t,i,!1):(i.$$guid||(i.$$guid=Self.addEvent.guid++),e.events||(e.events={}),(a=e.events[t])||(a=e.events[t]={},e["on"+t]&&(a[0]=e["on"+t])),a[i.$$guid]=i,e["on"+t]=Self.handleEvent)},Self.addEvent.guid=1,Self.removeEvent=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.events&&e.events[t]&&delete e.events[t][i.$$guid]},Self.handleEvent=function(e){var t,i=!0,a=(e=e||Self.fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event),this.events[e.type]);for(t in a)this.$$handleEvent=a[t],!1===this.$$handleEvent(e)&&(i=!1);return i},Self.fixEvent=function(e){return e.preventDefault=Self.fixEvent.preventDefault,e.stopPropagation=Self.fixEvent.stopPropagation,e},Self.fixEvent.preventDefault=function(){this.returnValue=!1},Self.fixEvent.stopPropagation=function(){this.cancelBubble=!0},Self.addEvents=function(){Self.addEvent(document.body,"mousemove",Self.initFlip),Self.addEvent(document.body,"mouseout",Self.terminateFlip),Self.addEvent(window,"scroll",Self.endFlip)},Self.hasClass=function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},Self.closestElm=function(e,t,i){for(var i=i||document.body,a=t.charAt(0);e&&e!==i;){if("."===a&&Self.hasClass(e,t.substr(1)))return e;if("#"===a&&e.id===t.substr(1))return e;if("["===a&&e.getAttribute(t.substr(1,t.indexOf("]")-1)))return e;e=e.parentNode}return!1},Self.dataSet=function(string){var data;try{data=eval("("+string+")")}catch(e){data=!1}return data},Self.data=function(e,t,i){switch(e.data=e.data||{},arguments.length){case 3:e.data[t]=i;break;case 2:return e.data[t];default:return e.data}},Self.callbackData=function(){return data={index:o.index,setLength:o.setLength,currentImage:o.currentImage,imgWrapper:o.imgWrapper,currentUrl:o.currentUrl,active:o.active,status:o.status}},Self.initFlip=function(e){var t,e=(e=e||window.event).target||e.srcElement;window.clearTimeout(flipTimer),MG_Utils.hasClass(e,"img")&&MG_Utils.hasClass(e.querySelector(".thumb"),"js-videoThumbFlip")&&!e.querySelector(".js-videoThumbFlip").getAttribute("data-flipbook_active")&&(t=e.querySelector(".js-videoThumbFlip")),(t=MG_Utils.hasClass(e,"js-videoThumbFlip")&&!e.getAttribute("data-flipbook_active")?e:t)&&!Self.closestElm(t,".img").querySelector(".privateOverlay")&&(flipTimer=window.setTimeout(function(){Self.startFlip(t)},100))},Self.terminateFlip=function(e){var t=(e=e||window.event).target,e=e.relatedTarget;window.clearTimeout(flipTimer),MG_Utils.hasClass(t,"img")&&MG_Utils.hasClass(t.querySelector(".thumb"),"js-videoThumbFlip")&&t.querySelector(".thumb").getAttribute("data-flipbook_active")&&e&&!MG_Utils.hasClass(e,"thumb")&&Self.endFlip(),MG_Utils.hasClass(t,"js-videoThumbFlip")&&t.getAttribute("data-flipbook_active")&&Self.endFlip()},Self.startFlip=function(e){var t,i,a,l,n,s,r,f,u,d,c,m,S=0,b=Self.params.thumbnailsSets.length;for(o.active&&!Self.closestElm(e,"[data-flipbook_active]")&&Self.endFlip(),oldThumbUrlAC=e.src;S<b;S++)if(Self.closestElm(e,Self.params.thumbnailsSets[S].thumbnailsContainer)&&(!Self.params.thumbnailsSets[S].extendHoverClassName&&Self.hasClass(e,Self.params.thumbnailsSets[S].thumbnailsClassName)||Self.params.thumbnailsSets[S].extendHoverClassName&&Self.closestElm(e,"."+Self.params.thumbnailsSets[S].extendHoverClassName))){if(u=f=e,!Self.params.thumbnailsSets[S].excludeContainer||!Self.closestElm(f,Self.params.thumbnailsSets[S].excludeContainer)){if(Self.params.thumbnailsSets[S].extendHoverClassName&&(u=(f=Self.closestElm(f,"."+Self.params.thumbnailsSets[S].extendHoverClassName)).querySelector("."+Self.params.thumbnailsSets[S].thumbnailsClassName)),o.active){if(f.getAttribute("data-flipbook_active"))return!1;Self.endFlip()}n=Self.params.thumbnailsSets[S].cover?(l=(r=Self.dataSet(u.getAttribute("data-flipbook"))).setLength,a=r.firstThumbnail,s=parseInt(r.firstThumbnail,10)-r.incrementer,t=r.digitsPreffix,i=r.digitsSuffix,r=r.incrementer,-1):(Self.params.thumbnailsSets[S].adultCentro?(d=9,u.src=u.src.replace("primary","baseline/"+S)):d=1,m=/\(([^)]+)\)/,c=u.src.indexOf(")."),t=!(m=m.exec(u.src))||-1!==c?u.src.substring(0,u.src.lastIndexOf(Self.params.thumbnailsSets[S].digitsPreffix)+d):u.src.substring(0,u.src.lastIndexOf(")")+1),s=u.src.replace(t,""),i=Self.params.thumbnailsSets[S].digitsSuffix,s=parseInt(s.replace(i,""),10),a=Self.params.thumbnailsSets[S].firstThumbnail,l=Self.params.thumbnailsSets[S].setLength,(s-a)/(r=Self.params.thumbnailsSets[S].incrementer)),o={index:n,setLength:l,currentUrl:u.src,firstThumbnail:a,digits:s,digitsPreffix:t,digitsSuffix:i,matches:m,testString:c,incrementer:r,currentImage:u,imgWrapper:!1,interval:Self.params.thumbnailsSets[S].interval,active:!0,callback:Self.params.thumbnailsSets[S].callback,init:Self.params.thumbnailsSets[S].init,status:"started"},f.setAttribute("data-flipbook_active","1"),Self.params.thumbnailsSets[S].extendHoverClassName&&(o.imgWrapper=f),o.init&&!f.init&&(Self.callbackData(),o.init(data)),f.init||(Self.params.thumbnailsSets[S].adultCentro?Self.data(f,"oldThumbUrl",oldThumbUrlAC):(Self.data(f,"oldThumbUrl",u.src),Self.data(f,"oldIndex",n)),f.init=!0),o.callback&&(Self.callbackData(),o.callback(data)),Self.params.thumbnailsSets[S].resetIndex&&(o.digits=(l-1)*o.incrementer+parseInt(o.firstThumbnail,10),o.index=l-1,Self.callbackData()),window.clearTimeout(timer),timer=window.setTimeout(Self.preload,0)}return!1}},Self.endFlip=function(){var e;window.clearTimeout(timer),o.active&&((e=document.querySelector("[data-flipbook_active]"))&&(e.removeAttribute("data-flipbook_active"),"IMG"===e.nodeName?e.src=Self.data(e,"oldThumbUrl"):e.querySelector("img").src=Self.data(e,"oldThumbUrl")),o.active=!1,o.status="ended",o.index=Self.data(e,"oldIndex"),o.callback)&&(Self.callbackData(),o.callback(data))},Self.preload=function(){var e=new Image;o.digits<(o.setLength-1)*o.incrementer+parseInt(o.firstThumbnail,10)?(o.digits=o.digits+o.incrementer,o.index++):(o.digits=parseInt(o.firstThumbnail,10),o.index=0),o.firstThumbnail.length>String(o.digits).length?o.currentUrl=o.digitsPreffix+o.firstThumbnail.substring(0,o.firstThumbnail.length-String(o.digits).length)+o.digits+o.digitsSuffix:-1!==o.testString?o.currentUrl=o.digitsPreffix+o.digits+"("+o.matches[1]+")"+o.digitsSuffix:o.currentUrl=o.digitsPreffix+o.digits+o.digitsSuffix,e.onerror=function(){Self.endFlip()},e.onload=function(){o.active&&(timer="running"!==o.status?window.setTimeout(Self.flipImage,0):window.setTimeout(Self.flipImage,o.interval))},e.src=o.currentUrl},Self.flipImage=function(e){window.clearTimeout(timer),o.currentImage.src=o.currentUrl,o.status="running",o.callback&&(Self.callbackData(),o.callback(data)),void 0!==e&&(o.digits=e*o.incrementer+parseInt(o.firstThumbnail,10),o.index=e,Self.callbackData()),Self.preload()},Self.jumpTo=function(e){o.digits=e*o.incrementer+parseInt(o.firstThumbnail,10),o.index=e,o.firstThumbnail.length>String(o.digits).length?o.currentUrl=o.digitsPreffix+o.firstThumbnail.substring(0,o.firstThumbnail.length-String(o.digits).length)+o.digits+o.digitsSuffix:o.currentUrl=o.digitsPreffix+o.digits+o.digitsSuffix,o.currentImage.src=o.currentUrl,o.callback&&(Self.callbackData(),o.callback(data))},Self.changeIndex=function(e){o.digits=e*o.incrementer+parseInt(o.firstThumbnail,10),o.index=e,Self.callbackData()},Self.pauseFlip=function(){window.clearTimeout(timer),o.status="paused"}};
var MG_Scroll={init:function(e){MG_Scroll._isPlainObject(e)&&MG_Scroll._setupElements(MG_Scroll._extend({},{width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:0,alwaysVisible:!0,disableFadeOut:!0,railVisible:!0,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"scrollRail",barClass:"scrollBar",wrapperClass:"scrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px",selector:null,horizontal:!1,wrapperStylePosition:"relative",wheelScrollAllowClass:null,enLargeOnHover:!0,enLargedSize:"10px",isMobile:!1,minBarHeight:30},e))},_extend:function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var l in arguments[t])arguments[t].hasOwnProperty(l)&&(e[l]=arguments[t][l]);return e},_fadeIn:function(e){var t,l=10*+MG_Scroll._getStyle(e,"opacity");clearInterval(t),t=setInterval(function(){l<4?(l++,e.style.opacity=(l/10).toFixed(1)):(clearInterval(t),t=0)},50)},_fadeOut:function(e){var t,l=10*+MG_Scroll._getStyle(e,"opacity");clearInterval(t),t=setInterval(function(){0<l?(l--,e.style.opacity=(l/10).toFixed(1)):(clearInterval(t),t=0)},100)},_closestClassElement:function(e,t){for(;e.className!=t;)if(!(e=e.parentNode))return null;return e},_getStyle:function(e,t){return window.getComputedStyle?getComputedStyle(e,"")[t]:e.currentStyle?e.currentStyle[t]:void 0},_isPlainObject:function(e){if(!e||e.nodeType||"undefined"!=typeof jQuery&&jQuery.isWindow(e))return!1;try{if(e.constructor&&!core_hasOwn.call(e,"constructor")&&!core_hasOwn.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!0}if("undefined"!=typeof jQuery&&jQuery.support.ownLast)for(var t in e)return core_hasOwn.call(e,t);for(t in e);return void 0===t||core_hasOwn.call(e,t)},isWindow:function(e){return e&&(e===function(){return this}()||e.eval&&e.eval.call&&e.eval("this === (function(){ return this })()"))||!1},_makeUnselectable:function(e){(e="string"==typeof e?document.getelentById(e):e)&&(e.onselectstart=function(){return!1},e.style.MozUserSelect="none",e.style.KhtmlUserSelect="none",e.unselectable="on")},_getOffset:function(e,t){var l=e.ownerDocument&&e.ownerDocument.defaultView&&e.ownerDocument.defaultView.getComputedStyle&&e.ownerDocument.defaultView.getComputedStyle(e,null),r=l&&l.getPropertyValue(t?"height":"width")||"";return r=r&&-1<r.indexOf(".")?parseFloat(r)+parseInt(l.getPropertyValue(t?"padding-top":"padding-left"))+parseInt(l.getPropertyValue(t?"padding-bottom":"padding-right"))+parseInt(l.getPropertyValue(t?"border-top-width":"border-left-width"))+parseInt(l.getPropertyValue(t?"border-bottom-width":"border-right-width")):t?e.offsetHeight:e.offsetWidth},_outerHeight:function(e){var t=MG_Scroll._getOffset(e,!0),l=MG_Scroll._getStyle(e,"marginTop"),e=MG_Scroll._getStyle(e,"marginBottom");return t+=parseInt(l)+parseInt(e)},_outerWidth:function(e){var t=MG_Scroll._getOffset(e),l=MG_Scroll._getStyle(e,"marginLeft"),e=MG_Scroll._getStyle(e,"marginRight");return t+=parseInt(l)+parseInt(e)},_wrap:function(e,t){return t=t||document.createElement("div"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)},_setupElements:function(e){el=e.selector;for(var t=0;t<el.length;t++)MG_Scroll._processElement(el[t],e)},_processElement:function(e,a){var r,t,i,l,o,s,n,c,d,h,u=a.minBarHeight,p=!1,g=e;if(g.parentNode.classList.contains(a.wrapperClass)){var f,e=a.horizontal?g.scrollLeft:g.scrollTop,y=document.querySelectorAll("."+a.barClass)[0],m=document.querySelectorAll("."+a.railClass)[0];if(S(),MG_Scroll._isPlainObject(a)){if(!a.horizontal&&"height"in a&&"auto"==a.height?(g.parentNode.style.height="auto",g.style.height="auto",f=g.parentNode.parentNode.style.height,g.parentNode.style.height=f,g.style.height=f):"height"in a&&(f=a.height,g.parentNode.style.height=f,g.style.height=f),"scrollTo"in a)e=parseInt(a.scrollTo);else if("scrollBy"in a)e+=parseInt(a.scrollBy);else if("bottom"===a.start)e=5e3;else if("destroy"in a)return;v(e,!1,!0)}}else MG_Scroll._isPlainObject(a)&&"destroy"in a||(a.horizontal?a.width="auto"==a.width?g.parentNode.clientWidth:a.width:a.height="auto"==a.height?g.parentNode.clientHeight+"px":a.height,(f=document.createElement("div")).className=a.wrapperClass,Object.assign(f.style,{position:a.wrapperStylePosition,overflow:"hidden",width:a.width,height:a.height}),Object.assign(g.style,{overflow:"hidden",width:a.width,height:a.height}),(m=document.createElement("div")).className=a.railClass,Object.assign(m.style,{position:"absolute",display:a.alwaysVisible&&a.railVisible?"block":"none",borderRadius:a.railBorderRadius,background:a.railColor,opacity:a.railOpacity,zIndex:90}),a.horizontal?Object.assign(m.style,{width:"100%",height:a.size,bottom:0}):Object.assign(m.style,{width:a.size,height:"100%",top:0}),(y=document.createElement("div")).className=a.barClass,Object.assign(y.style,{background:a.color,position:"absolute",opacity:a.opacity,display:a.alwaysVisible?"block":"none",borderRadius:a.borderRadius,zIndex:99}),a.horizontal?Object.assign(y.style,{height:a.size,left:0,bottom:0}):(Object.assign(y.style,{top:0,width:a.size}),e="right"===a.position?"right":"left",m.style[e]=0,y.style[e]=0),MG_Scroll._wrap(g,f),g.parentNode.appendChild(y),g.parentNode.appendChild(m),a.railDraggable&&(d=c="",h=g.clientHeight,a.isMobile&&(g.addEventListener("touchstart",function(e){c=a.horizontal?e.touches[0].clientX:e.touches[0].clientY,d=a.horizontal?parseInt(y.style.left):parseInt(y.style.top)},{passive:!0}),g.addEventListener("touchmove",function(e){a.enLargeOnHover&&a.isMobile&&(a.horizontal?y.style.height=a.enLargedSize:y.style.width=a.enLargedSize);var t=a.horizontal?e.touches[0].clientX:e.touches[0].clientY,t=c+d-t;0<=t&&t<=h&&e.cancelable&&e.stopPropagation(),v(t,!0,!0)},{passive:!0}),g.addEventListener("touchend",function(){a.horizontal?y.style.height=a.size:y.style.width=a.size})),y.addEventListener("mousedown",function(e){e.preventDefault(),i=!0;let t=a.horizontal,l=t?e.clientX:e.clientY,r=t?parseInt(y.style.left)||0:parseInt(y.style.top)||0;function o(e){e=t?e.clientX:e.clientY;v(r+e-l,!0,!0)}document.addEventListener("mousemove",o),document.addEventListener("mouseup",function e(){i=!1;b();document.removeEventListener("mousemove",o);document.removeEventListener("mouseup",e);"undefined"!==page_params&&void 0!==page_params.isDraggingScrollbar&&page_params.isDraggingScrollbar&&(page_params.isDraggingScrollbar=!1)}),"undefined"!==page_params&&void 0!==page_params.isDraggingScrollbar&&page_params.isDraggingScrollbar&&(page_params.isDraggingScrollbar=!0)})),m.addEventListener("mouseenter",w),m.addEventListener("mouseleave",b),y.addEventListener("mouseenter",()=>{var e;t=!0,a.enLargeOnHover&&!a.isMobile&&(e=a.horizontal?"height":"width",y.style[e]=a.enLargedSize)}),y.addEventListener("mouseleave",()=>{var e;t=!1,a.isMobile||(e=a.horizontal?"height":"width",y.style[e]=a.size)}),g.addEventListener("mouseenter",()=>{r=!0,w()}),g.addEventListener("mouseleave",()=>{r=!1,b()}),S(),"bottom"===a.start?v(a.horizontal?g.offsetWidth-y.offsetWidth:g.offsetHeight-y.offsetHeight,!0,!0):"top"!==a.start&&(v(a.start,null,!0),a.alwaysVisible||(y.style.display="none")),(e=g)&&(e.addEventListener("DOMMouseScroll",_,{passive:!1}),e.addEventListener("mousewheel",_,{passive:!1})),this.showDefault=function(){w()});function _(e){var t,l;(e.target||e.srcElement).classList.contains(a.wheelScrollAllowClass)||r&&(t=0,(e=e||window.event).wheelDelta&&(t=-e.wheelDelta/120),e.detail&&(t=e.detail/3),l=e.target||e.srcTarget||e.srcElement,MG_Scroll._closestClassElement(l,a.wrapperClass)==g.parentNode&&v(t,!0,!1),e.preventDefault&&!p&&e.preventDefault(),p||(e.returnValue=!1))}function v(e,t,l){p=!1;var r=e,o=a.horizontal?MG_Scroll._getOffset(g):MG_Scroll._getOffset(g,!0),i=a.horizontal?MG_Scroll._getOffset(y):MG_Scroll._getOffset(y,!0),o=o-i;function n(e){a.horizontal?y.style.left=e+"px":y.style.top=e+"px"}t&&(r=a.horizontal?parseInt(y.style.left)+e*parseInt(a.wheelStep)/100*i:parseInt(y.style.top)+e*parseInt(a.wheelStep)/100*i,r=Math.min(Math.max(r,0),o),n(r=0<e?Math.ceil(r):Math.floor(r))),l&&(n(e),(t=Math.min(Math.max(e,0),o))<=e&&n(t),e<=0)&&n(0),a.horizontal?(i=MG_Scroll._outerWidth(g),r=(s=parseInt(y.style.left)/(i-MG_Scroll._outerWidth(y)))*(g.scrollWidth-i),g.scrollLeft=r):(l=MG_Scroll._outerHeight(g),r=(s=parseInt(y.style.top)/(l-MG_Scroll._outerHeight(y)))*(g.scrollHeight-l),g.scrollTop=r),w(),b()}function S(){var e;e=a.horizontal?(n=Math.max(g.offsetWidth/g.scrollWidth*g.offsetWidth,u),y.style.width=n+"px",n==g.offsetWidth?"none":"block"):(o=Math.max(g.offsetHeight/g.scrollHeight*g.offsetHeight,u),y.style.height=o+"px",o==g.offsetHeight?"none":"block"),y.style.display=e}function w(){if(S(),clearTimeout(l),p=s==~~s&&a.allowPageScroll,a.horizontal){if(n>=g.offsetWidth)return void(p=!0)}else if(o>=g.offsetHeight)return void(p=!0);MG_Scroll._fadeIn(y),a.railVisible&&MG_Scroll._fadeIn(m)}function b(){a.alwaysVisible||(l=setTimeout(function(){a.disableFadeOut&&r||t||i||(MG_Scroll._fadeOut(y),MG_Scroll._fadeOut(m))},1500))}}};
var dropdown=function(){var instance=null,dropdowns=[],id=0,dontProcess=!1;function Dropdown(options){var defaults={dropdownTrigger:"dropdownTrigger",dropdownWrapper:"dropdownWrapper",timeout:4e3,hideDelay:!0};this.options=MG_Utils.extendDefaults(defaults,options),this.wrapper=this.options.wrapper,this.selector=this.options.selector,this.additionalElements=document.querySelectorAll(eval(this.options.additionalElements)),this.triggers=this.wrapper.querySelectorAll("."+this.options.dropdownTrigger),this.dropdown=this.wrapper.querySelector("."+this.options.dropdownWrapper),this.hiddenValue=this.wrapper.querySelector('input[type="hidden"]'),this.activateCloseDelay=hideDelayed.call(this),this.closeCallback="function"==typeof this.options.closeCallback?this.options.closeCallback:"",_init.call(this)}function _init(){return!(!this.triggers||!this.dropdown||MG_Utils.hasClass(this.wrapper,"js_dropdownBound"))&&(MG_Utils.addClass(this.wrapper,"js_dropdownBound"),_initEvents.call(this),_checkHiddenValue.call(this),void this.wrapper.setAttribute("data-dropdown-id",id++))}function isScrollBarClick(e){e=e.target;return e&&e.classList.contains("scrollBar")}function _initEvents(){var t=this;[].forEach.call(this.triggers,function(e){MG_Utils.addEventHandler(e,"click",function(e){isScrollBarClick(e)||_triggersHandler.call(t,e)}),MG_Utils.hasClass(e,"js-accessibleDropdown")&&MG_Utils.addEventHandler(e,"keypress",function(e){_triggersHandler.call(t,e)})}),("string"==typeof this.selector&&".channelsAZ"!=this.selector||"object"==typeof this.selector&&!MG_Utils.hasClass(this.wrapper,"channelsAZ"))&&("string"==typeof this.selector&&".alphabetFilter"!=this.selector||"object"==typeof this.selector&&!MG_Utils.hasClass(this.wrapper,"alphabetFilter"))&&this.options.hideDelay&&this.activateCloseDelay(),MG_Utils.addEventHandler(this.dropdown,"click",function(e){_dropdownHandler.call(t,e)})}function _nextDivSibling(e){for(;(e=e.nextSibling)&&1!==e.nodeType&&e.tagName&&"div"===e.tagName.toLowerCase(););return e}function _triggersHandler(e){var t=null;if(dontProcess)dontProcess=!1;else{var o=(e=e||window.event).target||e.srcElement;if(!MG_Utils.hasClass(o,this.options.dropdownTrigger))for(;(o=o.parentElement)&&!MG_Utils.hasClass(o,this.options.dropdownTrigger););var i=!1,n="withScroll"==this.dropdown.id?1:0;1==this.triggers.length?i=!(!this.dropdown.style.display||"none"===this.dropdown.style.display):1<this.triggers.length&&(i=!(!this.dropdown.style.display||"none"===this.dropdown.style.display)&&this.dropdown.getAttribute("data-type")==o.getAttribute("data-type")),i?(this.dropdown.style.display="none",(i=MG_Utils.closest(this.dropdown,".dropdownTrigger"))&&MG_Utils.toggleClass(i,"active"),n&&(t=_nextDivSibling(this.dropdown))&&void 0!==t.style&&(t.style.display="none")):(dropdowns.forEach(function(e){e.dropdown.style.display="none";e=MG_Utils.closest(e.dropdown,".dropdownTrigger");e&&MG_Utils.hasClass(e,"active")&&MG_Utils.removeClass(e,"active")}),o.getAttribute("data-type")&&(this.dropdown.getAttribute("data-type"),o.getAttribute("data-type")),this.dropdown.style.display="block",(i=MG_Utils.closest(this.dropdown,".dropdownTrigger"))&&MG_Utils.toggleClass(i,"active"),_notificationPosition.call(this,e),"undefined"!=typeof js_shouldShowChangeUsernameTooltip&&js_shouldShowChangeUsernameTooltip&&fetch("change_username_tooltip_shown",{method:"GET"}).catch(e=>{console.log(e)}))}}function _notificationPosition(e){var t,o,i,e=e.target||e.srcElement;"notificationIcons"!=e.parentNode.getAttribute("id")&&"notificationIcons"!=e.parentNode.parentNode.getAttribute("id")||(e=e.querySelector("i")||e.parentNode.querySelector("i"),o=(t=document.querySelector("#notificationBox")).clientWidth/1.25,i=MG_Utils.offset(e).left,e=e.clientWidth/2,t.style.left=Math.round(i-o+e)+"px")}function _dropdownHandler(e){var t=(e=e||window.event).target||e.srcElement;if("li"!==t.tagName.toLowerCase())for(;(t=t.parentElement)&&"li"!==t.tagName.toLowerCase(););this.setItem(t)}function _checkHiddenValue(){this.hiddenValue&&this.hiddenValue.length&&""!=this.hiddenValue.value&&(_selectActiveItem.call(this)||setTimeout(function(){_selectActiveItem.apply(context)},1e3))}function _selectActiveItem(){var e=this.dropdown.querySelector('li[data-value="'+this.hiddenValue_.value+'"]');if(!e.length)return!1;MG_Utils.triggerEvent(e,"click"),dontProcess=!0}Dropdown.prototype={constructor:Dropdown,setItem:function(e){var t,o=this.wrapper.querySelector(".dropdownTrigger .textFilter");if(isNaN(e)||(0|(t=parseFloat(e)))!==t||(e=this.dropdown.querySelectorAll("li")[e]),!("object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName))return!1;MG_Utils.removeClassMultiple(this.dropdown.querySelectorAll("li"),"active"),MG_Utils.addClass(e,"active"),o&&MG_Utils.setText(o,e.textContent||e.innerText),this.hiddenValue&&(this.hiddenValue.value=e.getAttribute("data-value"))}};var hideDelayed=function(){var i=this;let n=document.getElementById("languageMenu"),s=document.getElementById("locationMenu"),r=document.getElementById("profileMenuDropdown");function l(){i.dropdown.getAttribute("data-hideDelayedTimeoutId")&&(clearTimeout(parseInt(MG_Utils.getData(i.dropdown,"hideDelayedTimeoutId"))),MG_Utils.setData(i.dropdown,"hideDelayedTimeoutId",""))}return function(){for(var e=[],t=0;t<=i.triggers.length-1;t++)e.push(i.triggers[t]);e.push(i.dropdown),e.forEach(function(e){MG_Utils.addEventHandler(e,"mouseenter",function(e){MG_Utils.setData(i.dropdown,"hideDelayedOver","1"),l(i.dropdown)});let o=!1;document.addEventListener("mousedown",function(){o=!0}),document.addEventListener("mouseup",function(){o=!1}),MG_Utils.addEventHandler(e,"mouseleave",function(e){if(!o){if(n&&MG_Utils.hasClass(n,"active"))return!1;if(s&&MG_Utils.hasClass(s,"active"))return!1;if(r)return!1;MG_Utils.setData(i.dropdown,"hideDelayedOver","0"),l(i.dropdown);var t=setTimeout(function(){if("0"==MG_Utils.getData(i.dropdown,"hideDelayedOver")){for(var e,t=[],o=0;o<=i.additionalElements.length-1;o++)t.push(i.additionalElements[o]);t.push(i.dropdown),t.forEach(function(e){e.style.display="none";e=document.querySelector(".dropdownTrigger.active");e&&MG_Utils.removeClass(e,"active")}),document.getElementById("withScroll")&&(e=_nextDivSibling())&&void 0!==e.style&&(e.style.display="none"),"function"==typeof i.closeCallback&&i.closeCallback(),clearTimeout(parseInt(MG_Utils.getData(i.dropdown,"hideDelayedTimeoutId"))),MG_Utils.setData(i.dropdown,"hideDelayedTimeoutId","")}},i.options.timeout);MG_Utils.setData(i.dropdown,"hideDelayedTimeoutId",t)}})})}},isClickInsideNotificationDropdown=!1,isClickInsideUserMenu=!1;return document.addEventListener("mousedown",function(e){var t=document.querySelector("#notificationBox"),o=document.getElementById("profileMenuDropdown");isClickInsideNotificationDropdown=t&&t.contains(e.target),isClickInsideUserMenu=o&&o.contains(e.target)}),MG_Utils.addEventHandler(document,"click",function(e){var t=(e=e||window.event).target||e.srcElement;if(MG_Utils.hasClass(t,"js_showSubMenu")||isClickInsideNotificationDropdown||isClickInsideUserMenu)return!1;if(MG_Utils.closest(t,".dropdownTrigger")||(e=document.querySelector(".dropdownTrigger.active"))&&MG_Utils.removeClass(e,"active"),!MG_Utils.hasClass(t,"dropdownTrigger"))for(;(t=t.parentElement)&&!MG_Utils.hasClass(t,"dropdownTrigger"););dropdowns.forEach(function(e){if(t&&t.parentNode.querySelector(".dropdownWrapper")===e.dropdown)return!1;e.dropdown.style.display="none"})}),{init:function(t,o){var o=o||{},e="object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName,e=t instanceof Array||e?t:document.querySelectorAll(t);[].forEach.call(e,function(e){o.wrapper=e,o.selector=t,(instance=new Dropdown(o)).triggers&&instance.dropdown&&dropdowns.push(instance)})},get:function(e){return dropdowns[e]}}}();function filterableDropDown(e,t){var n=document.querySelector(".js-languages"),s="displayNone";e=e.target,e=MG_Utils.closest(e,".dropDownColumn")&&MG_Utils.closest(e,".dropDownColumn");if(e&&MG_Utils.hasClass(e,"js-filterable"))switch(t){case"mouseleave":case"click":n&&(n.value="",MG_Utils.addClass(n,s));break;case"mouseenter":var o=0<document.querySelectorAll(".dropDownColumn.js-filterable .dropDown li").length&&document.querySelectorAll(".dropDownColumn.js-filterable .dropDown li");if(n&&(MG_Utils.removeClass(n,s),n.addEventListener("keyup",function(){var e=n.value.toUpperCase(),t=document.querySelector(".dropDownColumn.js-filterable .dropDown")&&document.querySelector(".dropDownColumn.js-filterable .dropDown"),o=t&&0<t.querySelectorAll("li").length&&t.querySelectorAll("li");if(o)for(i=0;i<o.length;i++)-1<(txtValue=o[i].innerText).toUpperCase().indexOf(e)?MG_Utils.removeClass(o[i],s):MG_Utils.addClass(o[i],s)})),o)for(i=0;i<o.length;i++)MG_Utils.removeClass(o[i],s)}}
let Autocomplete_var={timer:null,value:null,name:null,matches:0,type:null,originalVal:null};var autocompleteSearch=(()=>{var e;function s(e){let t=this.input.value.replace(/^[ \t]+|[ \t]+$/gi,""),s=this.input.getAttribute("placeholder");var i;return""!=(t=t.replace(/[\.,'/:=\(\)&!\?@\[\]"\*\$#%\^;\|`\\~><¿\{\}]/gi," ").replace(/[éèëê]/gi,"e").replace(/[äàâ]/gi,"a").replace(/[îï]/gi,"i").replace(/ô/gi,"o").replace(/[üùû]/gi,"u").replace(/ç/gi,"c").replace(/【/gi,"").replace(/】/gi,"").replace(/〈/gi,"").replace(/〉/gi,"").replace(/〖/gi,"").replace(/〗/gi,"").replace(/（/gi,"").replace(/）/gi,"").replace(/　/gi,"").replace(/〔/gi,"").replace(/〕/gi,"").replace(/『/gi,"").replace(/』/gi,"").replace(/］/gi,"").replace(/［/gi,""))&&t!=s&&(RecentSearches.add(t),i=L.call(this,t,Autocomplete_var.type),window.location=i),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}function i(e){var t,s=RegExp(/[\<\>]/gi),i=this.input.value.match(s),s=this.input.value.replace(s,""),e=e.keyCode||e.charCode,r=this,a=this.input.value.trim(),n=Autocomplete_var.type,l=!1;if("38"==e||"40"==e||"13"==e)return!1;if(this.term&&this.term==a)return r.searchesWrapper.style.display="none",!(r.suggestionsList.style.display="block");for(t in i&&(this.input.value=s),"13"!=e||"undefined"!=typeof arrowKeysSelected||MG_Utils.hasClass(this.form,"onHold")||"hd"==this.input.value.toLowerCase()&&"video"==Autocomplete_var.type&&(window.location="/hd"),0<this.input.value.length?(this.clearInput&&MG_Utils.removeClass(this.clearInput,"hidden"),this.inputLabel&&MG_Utils.addClass(this.inputLabel,"extraPadding")):(this.clearInput&&MG_Utils.addClass(this.clearInput,"hidden"),this.inputLabel&&MG_Utils.removeClass(this.inputLabel,"extraPadding")),this.term=a,Autocomplete_var.originalVal=a,this.cache=this.input.getAttribute("data-autocomplete-cache")||{},"object"!=typeof this.cache&&(this.cache=JSON.parse(this.cache)),void 0===this.cache[n]&&(this.cache[n]={}),this.cache[n])this.term==t&&(response(this.cache[n][t]),l=!0);if(l)return!1;"Video"!==n&&MG_Utils.addClass(r.trendingListWrapper,"hidden");i=page_params.cpuProtection&&page_params.cpuProtection.minimumCharacters&&"0"!==page_params.cpuProtection.minimumCharacters?parseInt(page_params.cpuProtection.minimumCharacters):this.options.minLength;this.input.value.length<i?(Autocomplete_var.value="",clearTimeout(Autocomplete_var.timer),Autocomplete_var.matches=0,this.suggestionsList.style.display="none",c.call(this),o.call(this)):this.input.value===Autocomplete_var.value&&Autocomplete_var.type===Autocomplete_var.name||(Autocomplete_var.value=this.input.value,clearTimeout(Autocomplete_var.timer),Autocomplete_var.timer=setTimeout(function(){MG_Utils.ajaxCall({type:"GET",url:"/api/v1/video/search_autocomplete",data:{pornstars:r.options.showPornstars,token:r.input.getAttribute("data-token"),orientation:r.input.getAttribute("data-orientation"),q:r.input.value,alt:0},headers:"undefined"!=typeof liuIdOrNull&&liuIdOrNull?{__m:liuIdOrNull}:{},success:function(e){!function(e){var t=function(e){let t=!1,s=this,i=[],r=[],a=[],n=[],l=[],o=[];if(e.queries instanceof Array&&e.queries.length){Autocomplete_var.matches=e.queries.length;for(var c in e.queries){var h=L.call(s,e.queries[c],"video"),p=L.call(s,e.queries[c],"gifs");h={id:c,href:h,value:e.queries[c]},p={id:c,href:p,value:e.queries[c]},i.push(h),a.push(p)}s.suggestionElement.videoList=JSON.stringify(i),s.suggestionElement.gifList=JSON.stringify(a),t=!0}if(e.albums instanceof Array&&e.albums.length){for(var u in e.albums){var d=L.call(s,e.albums[u],"photo");d={id:u,href:d,value:e.albums[u]},r.push(d),s.suggestionElement.photoList=JSON.stringify(r)}t=!0}if(e.pornstars instanceof Array&&e.pornstars.length){var g,m;for(m in e.pornstars)g={id:m,href:"/pornstar/"+e.pornstars[m].slug,value:e.pornstars[m].name},n.push(g),s.suggestionElement.pornstarList=JSON.stringify(n);t=!0}if(e.models instanceof Array&&e.models.length){var y,f;for(f in e.models)y={id:f,href:"/model/"+e.models[f].slug,value:e.models[f].name},l.push(y),s.suggestionElement.modelList=JSON.stringify(l);t=!0}if(e.channels instanceof Array&&e.channels.length){var v,S;for(S in e.channels)v={id:S,href:"/channels/"+e.channels[S].slug,value:e.channels[S].name},o.push(v),s.suggestionElement.channelList=JSON.stringify(o);t=!0}s.suggestionElement&&s.suggestionElement.getVueInstance()&&s.suggestionElement.getVueInstance().updateScroll();return t}.call(this,e);t||(Autocomplete_var.matches=0,this.suggestionElement.videoList="",this.suggestionElement.gifList="",this.suggestionElement.photoList="",this.suggestionElement.pornstarList="",this.suggestionElement.modelList="",this.suggestionElement.channelList="");e&&"true"===e.isDdBannedWord?(this.suggestionElement.getVueInstance().isDDBannedWord=!0,this.suggestionsList.style.display="none"):(this.suggestionElement.getVueInstance().isDDBannedWord=!1,this.suggestionsList.style.display="block")}.call(r,e),r.searchesWrapper.style.display="none"}})},page_params.cpuProtection&&page_params.cpuProtection.autocompleteDelay&&"0"!==page_params.cpuProtection.autocompleteDelay?parseInt(page_params.cpuProtection.autocompleteDelay):this.options.showDelay),this.suggestionsList.addEventListener("mouseenter",function(){var e=r.suggestionsListWrapper.scrollTop+2;!MG_Utils.hasClass(document.querySelector(".noMatches"),"hidden")||"none"==document.querySelector(".js_searchSuggestionScroll").style.display||e+r.suggestionsListWrapper.clientHeight>=r.suggestionsListWrapper.scrollHeight?MG_Utils.addClass(r.suggestionsFadeOutOverly,"hidden"):MG_Utils.removeClass(r.suggestionsFadeOutOverly,"hidden")}),r.suggestionsFadeOutOverly.addEventListener("click",function(){let e=document.querySelector(".js_searchSuggestionScroll"),t=r.suggestionsListWrapper.clientHeight-e.offsetHeight;r.suggestionsListWrapper.scrollTo({top:r.suggestionsListWrapper.scrollHeight,behavior:"smooth"}),setTimeout(()=>{e.style.top=t+"px",MG_Utils.addClass(r.suggestionsFadeOutOverly,"hidden")},500)}),r.suggestionsListWrapper.addEventListener("scroll",function(){r.suggestionsListWrapper.scrollTop+3+r.suggestionsListWrapper.clientHeight>=r.suggestionsListWrapper.scrollHeight?MG_Utils.addClass(r.suggestionsFadeOutOverly,"hidden"):MG_Utils.removeClass(r.suggestionsFadeOutOverly,"hidden")}))}function L(e,t){var s={};switch(t=""!==this.suggestionsList.style.display&&"block"!==this.suggestionsList.style.display||null===t||""===t?"video":t){case"video":case"models":s.string="1"===isGay?"gay/video/search":"gay"==e.toLowerCase()?"gayporn":"video/search",s.query="search",s.connective="?";break;case"photo":s.string="gay"==e.toLowerCase()||"1"===isGay?"albums/gay":"albums/female-straight-uncategorized",s.query="search",s.connective="?";break;case"pornstars":s.string="gay"==e.toLowerCase()||-1<e.toLowerCase().indexOf("gay")?"gay/pornstars":"1"===isGay?"gay/pornstars/search":"pornstars/search",s.query="search",s.connective="?";break;case"channels":s.string="gay"==e.toLowerCase()||-1<e.toLowerCase().indexOf("gay")?"gay/channels":"1"===isGay?"gay/channels/search":"channels/search",s.query="channelSearch",s.connective="?";break;case"gifs":s.string="gay"==e.toLowerCase()||-1<e.toLowerCase().indexOf("gay")?"gay/gifs":"1"===isGay?"gay/gifs/search":"gifs/search",s.query="search",s.connective="?"}return e=(e=e.toLowerCase()).replace(/[—]/g," ").replace(/\-/g," "),e=(e=(e=encodeURIComponent(e)).replace(/%20/g,"+")).replace(/\++/g,"+"),"/"+s.string+s.connective+s.query+"="+e}function o(){this.searchesWrapper.style.display="block",MG_Utils.removeClass(this.trendingListWrapper,"hidden")}function c(){let r=this;Autocomplete_var.timer=setTimeout(function(){var e,t=RecentSearches.get(),s=(r.searchesWrapper.style.display="block",t&&t.reverse(),t.length&&MG_Utils.removeClass(r.recentListWrapper,"hidden"),[]);for(e in t){var i=L.call(r,t[e],"video"),i={id:e,href:i,value:t[e]};s.push(i)}r.recentSearchesElement.searchList=JSON.stringify(s)},page_params.cpuProtection&&page_params.cpuProtection.autocompleteDelay&&"0"!==page_params.cpuProtection.autocompleteDelay?parseInt(page_params.cpuProtection.autocompleteDelay):this.options.showDelay)}return function(){return this.options={minLength:2,showDelay:200,showPornstars:!0,formId:"search_form",inputId:"searchInput",submitBtnId:"btnSearch",suggestionsListId:"searchSuggestions",searchesWrapper:"searchesWrapper",recentListWrapper:"recentSearchesListWrapper",trendingListWrapper:"trendingSearchesListWrapper",trendingPMsWrapper:"pornstarSearchesListWrapper",clearInput:"clearInput",inputLabel:"#searchBarContainer label",fadeOutOverlySuggestions:"fadeOutOverlySuggestions",scrollableSearchSuggestion:"scrollableSearchSuggestion"},this.form=document.getElementById(this.options.formId),this.input=document.getElementById(this.options.inputId),this.submitBtn=document.getElementById(this.options.submitBtnId),this.suggestionsList=document.getElementById(this.options.suggestionsListId),this.searchesWrapper=document.getElementById(this.options.searchesWrapper),this.suggestionElement=document.querySelector("suggestion-element")?document.querySelector("suggestion-element"):null,this.recentSearchesElement=document.querySelector('search-list[type="recent"]'),this.recentListWrapper=document.querySelector("."+this.options.recentListWrapper),this.trendingListWrapper=document.querySelector("."+this.options.trendingListWrapper),this.trendingPMsWrapper=document.querySelector("."+this.options.trendingPMsWrapper),this.clearInput=document.getElementById(this.options.clearInput),this.inputLabel=document.querySelector(this.options.inputLabel),this.focusInput=focusSearchInput,this.currentType=null,this.cache=null,this.term=null,this.suggestionsFadeOutOverly=document.querySelector("."+this.options.fadeOutOverlySuggestions),this.suggestionsListWrapper=document.querySelector("."+this.options.scrollableSearchSuggestion),this.isClickInsideWrapper=!1,e||function(){this.input&&(this.focusInput?this.input.focus():this.input.blur(),function(){var t=this;(function(){var s=this;MG_Utils.addEventHandler(this.input,"keyup",function(e){i.call(s,e)}),MG_Utils.addEventHandler(this.input,"keypress",function(e){e=e.keyCode||e.charCode;if(60==e||62==e)return!1}),document.addEventListener("mousedown",function(e){s.isClickInsideWrapper=s.searchesWrapper&&s.searchesWrapper.contains(e.target)}),MG_Utils.addEventHandler(document.body,"click",function(e){e.target||e.srcElement;var t=s.searchesWrapper;s.isClickInsideWrapper||!e.target||"searchInput"===e.target.id||"clearInput"===e.target.id||MG_Utils.hasClass(e.target,"searches")||MG_Utils.hasClass(e.target,"clearIcon")||MG_Utils.hasClass(e.target,"keepOpen")||MG_Utils.hasClass(e.target,"fadeOutOverlySuggestions")||MG_Utils.hasClass(e.target,"js_suggestionsScrollIcon")||(s.suggestionsList.style.display="none",t.style.display="none")}),this.input.addEventListener("click",function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1,0===this.value.length?(s.suggestionsList&&(s.suggestionsList.style.display="none"),c.call(s),o.call(s)):i.call(s,e)})}).call(this),this.submitBtn&&MG_Utils.addEventHandler(this.submitBtn,"click",function(e){s.call(t,e)}),this.form&&MG_Utils.addEventHandler(this.form,"submit",function(e){s.call(t,e)}),this.clearInput&&this.clearInput.addEventListener("click",function(){t.suggestionsList.style.display="none",t.recentListWrapper.style.display="block",t.trendingListWrapper.style.display="block",t.trendingPMsWrapper&&(t.trendingPMsWrapper.style.display="block"),t.input.value="",t.input.focus(),t.input.click(),MG_Utils.addClass(this,"hidden"),t.inputLabel&&MG_Utils.removeClass(t.inputLabel,"extraPadding"),"none"===window.getComputedStyle(t.searchesWrapper).display&&(t.searchesWrapper.style.display="block")})}.call(this),e=this)}.call(this),e}})(),RecentSearches=(()=>{let i="recentSearch",r=LocalStorageManager.getInstance();function a(){var e=r.get(i);return!!e&&JSON.parse(e)}function s(e){var t,s=a();s?(-1!==(t=s.indexOf(e))?s.splice(t,1):r.set("newTermSearched",1),5<=s.length&&s.shift(),s.push(e),r.set(i,s)):(r.set(i,[e]),r.set("newTermSearched",1))}function n(e){var t=a();t&&(-1!==(e=t.indexOf(e))&&t.splice(e,1),r.set(i,t),t)&&!t.length&&((e=document.querySelector(".recentSearchesListWrapper"))&&(e.style.display="none"),l())}function l(){let e=document.querySelector('search-list[type="trending"]'),t=e?e.searchList:[];e&&t&&(e.searchList="",setTimeout(function(){e.searchList=t},100))}function o(){var e=document.querySelector('search-list[type="trending"] > div'),t=a();t&&t.length||e&&MG_Utils.addClass(e,"firstSection")}return{add:s,get:a,remove:n,checkBannedWords:function(){let t=a();t&&((()=>{var e=r.get("currentTimeStamp"),t=(new Date).getTime();return(!e||t>parseInt(e)+72e5)&&(r.set("currentTimeStamp",t),1)})()||r.get("newTermSearched"))&&"function"==typeof validateBannedWords&&validateBannedWords(t,!0,function(e){e&&("boolean"==typeof e?t.pop():-1!==(e=t.indexOf(e))&&t.splice(e,1),r.set(i,t))}),r.get("newTermSearched")&&r.remove("newTermSearched")},initializeElement:function(){Vue.customElement("search-list",{props:{type:{type:String,required:!0},label:{type:String,required:!0},clearBtnText:{type:String},seeMoreText:{type:String},viewAllUrl:{type:String},searchList:[String]},data(){return{topBody:"undefined"!=typeof TOP_BODY?TOP_BODY:{},localStorageName:void 0!==i?i:"",currentDomain:"undefined"!=typeof currentDomain?currentDomain:"",originPart:"undefined"!=typeof originPart?originPart:"",originUrl:"undefined"!=typeof originUrl?originUrl:"",recentListCache:[],parsedSearchList:[],showTrendingFirst:!1}},computed:{parseData(){return this.searchList!==this._lastSearchList&&(this.parsedSearchList=this.searchList?JSON.parse(this.searchList):[],this._lastSearchList=this.searchList),"trending"===this.type&&this.parsedSearchList.length&&this.recentListCache.length?this.parsedSearchList.slice(0,5):this.parsedSearchList},mainClass(){return this.type+"SearchesListWrapper"},topMostClass(){return this.showTrendingFirst?"trendingFirst":""},emptyImgSrc(){return this.topBody.emptyImgSrc||""}},methods:{handleItemClick(e,t){"pornstar"===this.type?this.recentSearchClick(e.value,t):this.recentSearchClick(e.value)},removeSearch(e,t){t.preventDefault(),n(e),t.target?.parentElement?.parentElement?.removeChild(t.target.parentElement)},recentSearchClick(e,t){s(e),this.sendClogEvent(this.type)},removeAllRecentSearch(){this.parsedSearchList=[],this.showTrendingFirst=!1,r.remove(this.localStorageName),l()},sendClogEvent(e){this.clogHandlers&&this.clogHandlers[e]?.()}},watch:{searchList(e,t){e!==t&&(this.parsedSearchList=e?JSON.parse(e):[],setTimeout(o,100))}},created(){this.recentListCache=a()||[],this.clogHandlers={recent:()=>userClogTracking(this.currentDomain,"search-bar-recent-search",this.originPart,this.originUrl,"",""),trending:()=>userClogTracking(this.currentDomain,"search-bar-trending-searches",this.originPart,this.originUrl,"",""),pornstar:()=>userClogTracking(this.currentDomain,"search-bar-trending-creators",this.originPart,this.originUrl,"","")}},mounted(){"trending"!==this.type||this.recentListCache&&0!==this.recentListCache.length||(this.showTrendingFirst=!0)},template:`
                <div :class="[mainClass, {hidden: !parseData || !parseData.length}]">
                    <div class="label first recentFirst" v-if="type === 'recent' && parseData.length">
                        <span class="title">{{label}}</span>
                        <span class="clearAllBtn" @click="removeAllRecentSearch">{{clearBtnText}}</span>
                    </div>
                    <p :class="['label', 'first', topMostClass]" v-if="['trending','pornstar'].includes(type) && parseData.length">
                        {{label}}
                        <a v-if="type==='pornstar'" class="viewAll" :href="viewAllUrl">{{seeMoreText}}</a>
                    </p>
                    <ul>
                        <li v-for="(item, index) in parseData" :key="item.value" :data-value="item.value">
                            <a v-if="!item.viewAllPMs" :class="['searches', {first: index===0}]" :href="item.href" @click="handleItemClick(item, index)">
                                <img v-if="item.avatar" loading="lazy" :src="item.avatar">
                                {{item.value}}
                            </a>
                            <i v-if="type==='recent'" class="clearIcon ph-icon-cross" @click="removeSearch(item.value, $event)"></i>
                        </li>
                    </ul>
                </div>
            `})}}})();function initSuggestionListComponent(){Vue.customElement("suggestion-list",{props:{dataTitle:{type:String,required:!0},type:{type:String,required:!0},selected:{type:Boolean,default:!1},noMatch:{type:String,required:!0},currentType:{type:String,required:!0},dataList:[String]},data:function(){return{inputField:document.getElementById("searchInput"),Autocomplete_var:void 0!==Autocomplete_var?Autocomplete_var:null,RecentSearches:void 0!==RecentSearches?RecentSearches:null,minLength:4,maxLength:10}},computed:{parseDataList:function(){try{return this.dataList?JSON.parse(this.dataList):[]}catch(e){return console.warn("parseDataList JSON parse error",e),[]}},mainClass:function(){return this.type+"Suggestion"}},methods:{suggestionClick:function(e){this.RecentSearches&&this.RecentSearches.add(e)},highLightMatch:function(e){if(!e)return"";let t=this.Autocomplete_var?this.Autocomplete_var.value:this.inputField?this.inputField.value:"";if(t){var s=e.search(RegExp(t,"i"));if(0<=s){t=t.toLowerCase();var i=e.split(/\s|_/);for(let e=0;e<i.length;e++)i[e]=i[e].substr(0,1).toUpperCase()+(1<i[e].length?i[e].substr(1).toLowerCase():"");e=(e=i.join(" ")).slice(0,s)+'<span class="soughtValue">'+t+"</span>"+e.slice(s+t.length)}}return e},showLink:function(e){return this.selected&&e<this.maxLength||!this.selected&&e<this.minLength?"":"displayNone"}},watch:{dataList:function(e,t){return e!=t}},template:`<div :class="['keepOpen', 'heading', mainClass, {hidden: !parseDataList || !parseDataList.length}, {'first': type==='video'}]" v-if="parseDataList && parseDataList.length">
            <p :class="['keepOpen', 'label', {'first': type==='video'}]" v-if="!selected">{{dataTitle}}</p>
            <a v-for="(item, index) in parseDataList"
               :href="item.href"
               class="keepOpen"
               @click="suggestionClick(item.value)"
               v-html="highLightMatch(item.value)"
               :data-value="item.value"
               :class="showLink(index)"></a>
        </div>
        <div v-else-if="(!parseDataList || (parseDataList && !parseDataList.length)) && currentType!=='all'">
            <p class="noMatches keepOpen">{{noMatch}}</p>
        </div>`})}function initSuggestionElementComponent(){Vue.customElement("suggestion-element",{props:{translation:{type:String,required:!0},videoList:[String],photoList:[String],pornstarList:[String],modelList:[String],channelList:[String],gifList:[String]},data(){var e=this.translation?JSON.parse(this.translation):{};return{inputField:null,searchesWrapper:null,i18n:e,types:e.types||[],defaultType:"all",currentType:"all",isDDBannedWord:!1,scrollableWrapper:null,scrollContainer:null,leftArrow:null,rightArrow:null,scrollBy:300,scrollOffset:0,setContainerWidthDiff:0,autocompleteVar:{type:"video",originalVal:""},mgUtils:"undefined"!=typeof MG_Utils?MG_Utils:null,mgScroll:"undefined"!=typeof MG_Scroll?MG_Scroll:null,premiumFlag:"undefined"!=typeof premiumFlag?premiumFlag:"0"}},computed:{noMatches(){var e=this.videoList||[],t=this.photoList||[],s=this.pornstarList||[],i=this.modelList||[],r=this.channelList||[],a=this.gifList||[];return!(e.length||t.length||s.length||i.length||r.length||a.length)},isPremium(){return"1"===this.premiumFlag}},methods:{selectTab(e){this.currentType=e,Autocomplete_var.type="all"===e?"video":e;e=document.querySelectorAll("#searchesWrapper li, #searchSuggestions a");this.mgUtils?.removeClassMultiple(e,"selected"),this.inputField&&(this.inputField.value=Autocomplete_var.originalVal)},setType(){var e=window.location.pathname.split("/"),t=e[1];this.currentType=this.defaultType,"gay"===t||"transgender"===t?"gifs"===e[2]?this.currentType="gifs":"pornstars"===e[2]&&(this.currentType="pornstars"):this.types.includes(t)&&"edit"!==e[2]&&(this.currentType=t),"albums"===e[2]&&(this.currentType="photo")},calcOffset(e){return this.setContainerWidthDiff=this.scrollContainer&&this.scrollableWrapper?Math.max(this.scrollContainer.clientWidth-this.scrollableWrapper.clientWidth,0):0,Math.min(Math.max(e,0),this.setContainerWidthDiff)},updateScroll(){this.scrollContainer&&(0===this.scrollOffset?this.leftArrow?.classList.add("hide"):this.leftArrow?.classList.remove("hide"),this.scrollOffset===this.setContainerWidthDiff&&0!==this.setContainerWidthDiff?this.rightArrow?.classList.add("hide"):this.rightArrow?.classList.remove("hide"),this.updateArrows())},updateArrows(){this.scrollContainer&&this.scrollableWrapper&&(this.scrollContainer.clientWidth<=this.scrollableWrapper.clientWidth?(this.scrollOffset=0,this.scrollContainer.style.transform=`translateX(-${this.scrollOffset}px)`,this.leftArrow?.classList.add("noScroll"),this.rightArrow?.classList.add("noScroll")):(this.leftArrow?.classList.remove("noScroll"),this.rightArrow?.classList.remove("noScroll")))},wheelEvent(e){e.preventDefault(),this.scrollOffset+=Math.abs(e.deltaX)>Math.abs(e.deltaY)?e.deltaX:e.deltaY,this.scrollOffset=this.calcOffset(this.scrollOffset),this.scrollContainer.style.transform=`translateX(-${this.scrollOffset}px)`,this.updateScroll()},leftArrowClick(){this.scrollOffset=this.calcOffset(this.scrollOffset-this.scrollBy),this.scrollContainer.style.transform=`translateX(-${this.scrollOffset}px)`,this.updateScroll()},rightArrowClick(){this.scrollOffset=this.calcOffset(this.scrollOffset+this.scrollBy),this.scrollContainer.style.transform=`translateX(-${this.scrollOffset}px)`,this.updateScroll()},adjustTrendingWrapperWidth(){this.setContainerWidthDiff=this.scrollContainer&&this.scrollableWrapper?Math.max(this.scrollContainer.clientWidth-this.scrollableWrapper.clientWidth,0):0},keyboardMoveHandler(r){r=r.keyCode||r.charCode;if([38,40].includes(r)){var a=document.getElementById("searchSuggestions"),n="all"===this.currentType?'[class*="Suggestion"] ':"."+this.currentType+"Suggestion ";let e=a.querySelectorAll(n+"a:not(.displayNone)");n=this.searchesWrapper?.querySelectorAll("li")||[];let t=a.querySelector(".selected"),s,i;"block"===this.searchesWrapper?.style.display&&(e=n,t=this.searchesWrapper.querySelector(".selected")),this.mgUtils?.removeClassMultiple(e,"selected"),t?(a=Array.prototype.indexOf.call(e,t),40===r&&(s=e[a+1]||e[0]),38===r&&(s=e[a-1]||e[e.length-1])):s=40===r?e[0]:e[e.length-1],this.mgUtils?.addClass(s,"selected"),i=s?.getAttribute("data-value")||"",this.inputField.value=i||Autocomplete_var.originalVal,s?.scrollIntoView({behavior:"smooth",block:"nearest"});n=document.querySelector(".scrollableSearchSuggestion"),a=document.querySelector(".js_searchSuggestionScroll");n&&a&&(r=(s.offsetTop-n.offsetTop)/(n.scrollHeight-n.clientHeight),a.style.top=Math.min(r*(n.clientHeight-a.clientHeight),n.clientHeight-a.clientHeight)+"px")}}},mounted(){this.inputField=document.getElementById("searchInput"),this.searchesWrapper=document.getElementById("searchesWrapper"),this.setType(),this.inputField?.addEventListener("keydown",this.keyboardMoveHandler);var e=document.querySelectorAll(".scrollableSearchSuggestion"),e=(this.mgScroll&&e.length&&(e[0].style.maxHeight=window.innerHeight-260+"px",this.mgScroll.init({width:"auto",selector:e,height:"100%",color:"#2F2F2F",size:"4px",alwaysVisible:!0,railVisible:!0,railOpacity:1,railColor:"transparent",distance:"5px",opacity:1,railClass:"track3",barClass:"handle3 js_searchSuggestionScroll",wrapperClass:"wrapper3",wheelStep:5,enLargeOnHover:!1})),document.querySelector(".scrollableTabsContainer"));e&&(this.scrollableWrapper=e.querySelector(".searchScrollableWrapper"),this.scrollContainer=e.querySelector(".searchScrollableWrapper ul"),this.leftArrow=e.querySelector(".searchLeftArrowWrapper"),this.rightArrow=e.querySelector(".searchRightArrowWrapper"),setTimeout(()=>{this.adjustTrendingWrapperWidth(),this.scrollContainer?.addEventListener("wheel",this.wheelEvent),this.leftArrow?.addEventListener("click",this.leftArrowClick),this.rightArrow?.addEventListener("click",this.rightArrowClick),window.addEventListener("resize",this.adjustTrendingWrapperWidth),window.addEventListener("resize",this.updateScroll),this.updateArrows()},0))},template:`<div id="searchSuggestions" :class="['suggestions', 'keepOpen', {'noMatches' : noMatches}]">
                <div :class="['scrollableTabsContainer', 'keepOpen', {'hidden' : noMatches}]">
                    <div class="searchLeftArrowWrapper keepOpen hide">
                        <span class="arrow keepOpen"><i class="ph-icon-chevron-left"></i></span>
                    </div>
                    <div class="searchScrollableWrapper">
                        <ul class="keepOpen">
                            <li v-for="value in types" :class="['keepOpen', value, {'active' : value == currentType}]" @click="selectTab(value)">{{i18n[value]}}</li>
                        </ul>
                    </div>
                    <div class="searchRightArrowWrapper keepOpen">
                        <span class="arrow keepOpen"><i class="ph-icon-chevron-right"></i></span>
                    </div>
                </div>
                <p :class="['noMatches', 'keepOpen', {hidden: !noMatches || isDDBannedWord}]">{{i18n.noMatch}}</p>
                <div class="scrollableSearchSuggestion">
                    <suggestion-list :data-title="i18n.video" type="video" :selected="currentType === 'video'" :data-list="videoList" v-if="(currentType === 'all' || currentType === 'video') && !noMatches" :no-match="i18n.noMatch" :current-type="currentType"></suggestion-list>
                    <suggestion-list :data-title="i18n.channels" type="channels" :selected="currentType === 'channels'" :data-list="channelList" v-if="(currentType === 'all' || currentType === 'channels') && !noMatches" :no-match="i18n.noMatch" :current-type="currentType"></suggestion-list>
                    <suggestion-list :data-title="i18n.models" type="models" :selected="currentType === 'models'" :data-list="modelList" v-if="(currentType === 'all' || currentType === 'models') && !noMatches" :no-match="i18n.noMatch" :current-type="currentType"></suggestion-list>
                    <suggestion-list :data-title="i18n.pornstars" type="pornstars" :selected="currentType === 'pornstars'" :data-list="pornstarList" v-if="(currentType === 'all' || currentType === 'pornstars') && !noMatches" :no-match="i18n.noMatch" :current-type="currentType"></suggestion-list>
                    <suggestion-list :data-title="i18n.gifs" type="gifs" :selected="currentType === 'gifs'" :data-list="gifList" v-if="!isPremium && (currentType === 'all' || currentType === 'gifs') && !noMatches" :no-match="i18n.noMatch" :current-type="currentType"></suggestion-list>
                    <suggestion-list :data-title="i18n.photo" type="photo" :selected="currentType === 'photo'" :data-list="photoList" v-if="!isPremium && (currentType === 'all' || currentType === 'photo') && !noMatches" :no-match="i18n.noMatch" :current-type="currentType"></suggestion-list>
                </div>
                <div class="fadeOutOverlySuggestions hidden"><i class="ph-icon-chevron-right js_suggestionsScrollIcon"></i></div>
            </div>`})}void 0!==RecentSearches&&(RecentSearches.initializeElement(),RecentSearches.checkBannedWords()),initSuggestionListComponent(),initSuggestionElementComponent(),MG_Utils.domReady(function(){let t=document.querySelector(".fadeOutOverly"),s=document.getElementById("searchesWrapperScroll");var e=document.querySelectorAll("#searchesWrapperScroll");"undefined"!=typeof MG_Scroll&&e.length&&(e[0].style.maxHeight=window.innerHeight-210+"px",MG_Scroll.init({width:"auto",selector:e,height:"100%",color:"#FF9000",size:"4px",alwaysVisible:!0,railVisible:!0,railOpacity:1,railColor:"transparent",distance:"5px",opacity:1,railClass:"track3",barClass:"handle3 serachesScroll",wrapperClass:"wrapper3",wheelStep:5,enLargeOnHover:!0,enLargedSize:"8px"}));let i=document.querySelector(".serachesScroll");function r(){!i||"none"!=i.style.display&&0!=i.offsetHeight?t&&MG_Utils.removeClass(t,"hidden"):t&&MG_Utils.addClass(t,"hidden")}r(),window.addEventListener("resize",function(){var e=s,t=document.querySelector(".scrollableSearchSuggestion");e&&(e.style.maxHeight=window.innerHeight-210+"px"),t&&(t.style.maxHeight=window.innerHeight-260+"px"),r()}),s&&s.addEventListener("scroll",function(){s.scrollTop+2+s.clientHeight>=s.scrollHeight?MG_Utils.addClass(t,"hidden"):MG_Utils.removeClass(t,"hidden")}),s&&s.addEventListener("mouseenter",function(){s.scrollTop+2+s.clientHeight>=s.scrollHeight||r()}),t&&t.addEventListener("click",function(){var e=s.clientHeight-i.offsetHeight;MG_Utils.hasClass(document.querySelectorAll("html")[0],"safari")?s.scroll(0,1e3):s.scrollTo({top:s.scrollHeight,behavior:"smooth"}),i.style.top=e+"px",MG_Utils.addClass(t,"hidden")})});
(()=>{var t={log:function(){},warn:function(){},error:function(){},info:function(){}};try{"undefined"!=typeof console&&"function"==typeof console.log||(console=t)}catch(e){window.console=t}})();var tooltipPromoContent,tooltipPromoRemove,disablePlaylistPlusButon="false";function scrollToElement(e,t){let s=document.documentElement.scrollTop||document.body.scrollTop;e=document.querySelector(e);if(e){let i=MG_Utils.offset(e).top-s,l=10*Math.abs(i/t),n=performance.now();requestAnimationFrame(function e(t){var t=t-n,t=Math.min(t/l,1),o=s+i*t;window.scrollTo(0,o),t<1&&requestAnimationFrame(e)})}}function getCookie(e){for(var t=e+"=",o=document.cookie.split(";"),i=0;i<o.length;i++){var l=o[i].trim();if(0===l.indexOf(t))return decodeURIComponent(l.substring(t.length))}return null}function setCookie(e,t,o){var i,l,n;"undefined"!=typeof CookieHelper&&!CookieHelper.canAdd(e)||(i="undefined"!=typeof COOKIE_DOMAIN?";domain="+COOKIE_DOMAIN:"",l="",null!=o&&((n=new Date).setDate(n.getDate()+o),l="; expires="+n.toUTCString()),o=encodeURIComponent(t)+l,document.cookie=e+"="+o+i+"; path=/")}function getUrlVars(){var e,t,o={};for([e,t]of new URLSearchParams(window.location.search).entries())o[e]=t;return o}function nl2br(e){return e.replace(/\n/g,"<br />")}function strpos(e,t,o){e=(e+"").indexOf(t,o||0);return-1!==e&&e}function updateQueryStringParameter(e,t,o){var i=new RegExp("([?&])"+t+"=.*?(&|$)","i"),l=-1!==e.indexOf("?")?"&":"?";return e.match(i)?e.replace(i,"$1"+t+"="+o+"$2"):e+l+t+"="+o}function initTooltip(){var o=document.getElementById("tooltip");function i(e,t){o.style.left=t.left-o.clientWidth/2+Math.floor(e.clientWidth/2)-1+"px",o.style.left=parseFloat(o.style.left)<0?"0":o.style.left,o.classList.remove("tooltipSmall"),o.style.width="auto"}o&&(document.body.addEventListener("mouseenter",function(e){var t,e=e.target;e&&MG_Utils.hasClass(e,"tooltipTrig")&&(t=e.getAttribute("data-title"),o.innerHTML="<div class='tooltip-sub'>"+t+" </div></div><div class='arrow-down'></div>",o.style.display="block",MG_Utils.addClass(o,e.getAttribute("type")),t=e,e=MG_Utils.offset(t),o.style.left=e.left-o.clientWidth/2+Math.floor(t.clientWidth/2)-1+"px",window.onresize=function(){o.style.left=0},t.classList.contains("pornstarPrev")&&parseFloat(o.style.left)<-3?(o.classList.add("tooltipSmall"),o.style.width=o.clientWidth+parseFloat(o.style.left)-14+"px",o.style.left="0"):i(t,e),o.style.top=e.top-o.clientHeight-o.querySelector(".arrow-down").clientTop+"px")},!0),document.body.addEventListener("mouseleave",function(e){e=e.target;e&&MG_Utils.hasClass(e,"tooltipTrig")&&(o.style.display="none")},!0))}function renderCommentLinks(){for(var e,t=document.querySelectorAll(".commentUsernameLink"),o=0;o<t.length;o++)e=t[o],MG_Utils.hasClass(e,"processed")||(MG_Utils.addClass(e,"processed"),e.getAttribute("data-href")?e.innerHTML='<a href="'+e.getAttribute("data-href")+'">@'+e.getAttribute("data-username")+"</a>":e.innerHTML="<span>@"+e.getAttribute("data-username")+"</span>");var i=document.querySelectorAll(".js_taggable");if(0<i.length){for(o=0;o<i.length;o++)MG_Utils.empty(i[o]);friendList=[]}}Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var o,i;if(null==this)throw new TypeError(" this is null or not defined");var l,n=Object(this),s=n.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(o=t),i=0;i<s;)i in n&&(l=n[i],e.call(o,l,i,n)),i++}),document.querySelector(".tooltipPromo")&&document.querySelector("#headerUpgradePremiumBtn")&&(tooltipPromoRemove=(tooltipPromoContent=document.querySelector(".tooltipPromo")).querySelector("span"),MG_Utils.addEventHandler(tooltipPromoRemove,"click",function(e){e.stopPropagation(),setCookie("promoTooltip","1"),tooltipPromoContent.remove()}));var blurTimeout="";function focusReply(){if(document.querySelectorAll("form.streamCommentFrom"))for(var e=document.querySelectorAll("form.streamCommentFrom"),t=0;t<e.length;t++)MG_Utils.addEventHandler(e[t],"blur",function(e){blurTimeout=setTimeout(function(){var e=MG_Utils.closest(this,"form"),t=e.querySelectorAll(".streamSubmitInput"),e=e.querySelectorAll(".streamSections");t&&MG_Utils.addClass(t,"focusReply"),t&&MG_Utils.addClass(t,"hidden"),e&&MG_Utils.addClass(e,"hidden")},200)});if(document.querySelectorAll(".streamTextArea")){var o=document.querySelectorAll(".streamTextArea");MG_Utils.setText(o,"");for(t=0;t<o.length;t++)MG_Utils.addEventHandler(o[t],"focus",function(e){var t=this.value,o=MG_Utils.closest(this,".streamSubmitInput"),i=MG_Utils.closest(this,".streamSections");"Click to leave a comment"===t&&(this.value=""),o&&MG_Utils.addClass(o,"showme"),i&&MG_Utils.addClass(i,"showme"),MG_Utils.triggerEvent(this,"resize")})}}function openReply(){if(document.querySelectorAll(".reply a"))for(var t,o,i,l,e=document.querySelectorAll(".reply a"),n=0;n<e.length;n++)MG_Utils.addEventHandler(e[n],"click",function(e){e=e||window.event,i=MG_Utils.closest(this,".feedItemSection"),t=i.querySelector(".postingForm"),o=i.querySelector(".formAvatar"),i=i.querySelector(".formText"),l=i.querySelector("textarea"),i.querySelector(".js_taggable"),MG_Utils.addClass(this,"hideme"),MG_Utils.addClass(t,"showme"),MG_Utils.addClass(o,"showme"),MG_Utils.addClass(i,"showme"),MG_Utils.setText(l,""),MG_Utils.triggerEvent(l,"click")})}function addShareExternal(e,t,o){WIDGET_SHARE.shareButtonsLoaded?"function"==typeof e&&e():(WIDGET_SHARE.shareButtonsLoaded=!0,void 0===t&&(t=WIDGET_SHARE.urlShare),void 0===o&&(o=WIDGET_SHARE.shareTitle),0<document.querySelectorAll("a.sharesTwitter").length&&(t=(e=document.querySelectorAll("a.sharesTwitter")[0]).getAttribute("href"),e.setAttribute("href",updateQueryStringParameter(t,"text",encodeURIComponent(o)))),0<document.querySelectorAll("a.sharesReddit").length&&(t=(e=document.querySelectorAll("a.sharesReddit")[0]).getAttribute("href"),e.setAttribute("href",updateQueryStringParameter(t,"title",encodeURIComponent(o)))),0<document.querySelectorAll("a.sharesTumblr").length&&(t=(e=document.querySelectorAll("a.sharesTumblr")[0]).getAttribute("href"),e.setAttribute("href",updateQueryStringParameter(t,"t",encodeURIComponent(o)))),0<document.querySelectorAll("a.sharesStubleUpon").length&&(t=(e=document.querySelectorAll("a.sharesStubleUpon")[0]).getAttribute("href"),e.setAttribute("href",updateQueryStringParameter(t,"title",encodeURIComponent(o)))),0<document.querySelectorAll("a.sharesBlogger").length&&(t=(e=document.querySelectorAll("a.sharesBlogger")[0]).getAttribute("href"),e.setAttribute("href",updateQueryStringParameter(t,"n",encodeURIComponent(o)))))}var modelNotificationList,VideoPreview=(()=>{var M,_=300;function S(e){window.mediabookdebug&&console.log("[MediaBook Debug] "+e)}function C(e,t,o){e.style.opacity=t,e.style.width=o}window.mediabookdebug=window.mediabookdebug||!1;let U=null;function i(e){var t,l,o,i,n,s,a,r,c,d,u,m,p,f,h,v,g;let y=performance.now();S("Event registration for WebM."),MG_Utils.hasClass(e.target,"js-videoPreview")&&!MG_Utils.hasClass(e.target,"activeVideo")&&(t=e.target),MG_Utils.hasClass(e.target,"premiumHolder")&&(t=MG_Utils.closest(e.target,".img").querySelector(".js-videoPreview")),(t=MG_Utils.hasClass(e.target,"premiumLockedVideo")||MG_Utils.hasClass(e.target,"fade")?e.target.querySelector(".js-videoPreview"):t)&&(l=t.parentNode,e=MG_Utils.closest(t,".phimage"),o=e?e.querySelector(".preloadLine"):void 0,i=(()=>{var e,t=document.createElement("div"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(void 0!==t.style[e])return o[e]})(),n=MG_Utils.hasClass(t,"js-menuSwap")?t.getAttribute("data-image"):t.getAttribute("data-mediumthumb"),s=e?e.querySelector(".privateOverlay"):void 0,a=l.querySelector(".watchedVideoText, .hideOnHover"),e=e?e.querySelector(".modelThumbnail"):void 0,r="undefined"!=typeof BrowserDetect&&"Safari"==BrowserDetect.browser,c=l.parentElement?l.parentElement.querySelectorAll(".hideOnPreview"):null,d=l.querySelector("img"),o&&C(o,1,"100%"),d.classList.contains("in-video")&&d.classList.remove("in-video"),(g=e)&&-1===g.className.indexOf("loaded")&&(u=g.querySelector(".js-viewDetails"),m=g.querySelector(".modelThumbnailOverlay"),e=m.dataset.videoId,p=g.querySelector(".js-video-thumb-sold .amount"),f=g.querySelector(".js-video-thumb-earnings span"),h=g.querySelector(".spinner"),v=void 0!==v?v:"",MG_Utils.ajaxCall({url:MODEL_OVERLAY_THUMBNAIL.ajaxUrl,type:"POST",data:{video_id:e,token:v},dataType:"json",success:function(e){null!=e&&(g.className+=" loaded",p.innerHTML=e.sold,f.innerHTML=e.earned,u.href=e.url,MG_Utils.removeClass(m,"hidden"),h.className+=" hidden")}})),MG_Utils.hasClass(t,"activeVideo")||l.querySelector(".videoPreviewEl")||s||(M=setTimeout(function(){a&&MG_Utils.addClass(a,"hide"),c&&MG_Utils.addClassMultiple(c,"hide");var e=((e,t)=>{let o=document.createElement("video"),i=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),l=o.canPlayType("application/vnd.apple.mpegurl"),n=e.includes(".m3u8");return o.autoplay=!0,o.className="videoPreviewEl",o.loop=!0,o.muted=!0,o.playsInline=!0,o.setAttribute("webkit-playsinline","true"),o.preload="metadata",n?o.removeAttribute("poster"):o.poster=t,!n||i&&l?o.src=e:window.hls||new Promise((e,t)=>{if(window.Hls)return e();var o=document.createElement("script");o.type="text/javascript",o.src=hlsLib,o.onload=()=>e(),o.onerror=()=>t(new Error("Failed to load HLS.js")),document.head.appendChild(o)}).then(()=>{(U=new Hls).loadSource(e),U.attachMedia(o)}).catch(e=>{console.error("Failed to load HLS.js:",e)}),o})(t.getAttribute("data-mediabook"),n);S(`Video element created. Delay: ${((performance.now()-y-_)/1e3).toFixed(3)}s`),e&&e.addEventListener("loadeddata",function(){MG_Utils.addClass(t,"activeVideo")}),e&&e.addEventListener("play",function(){d.classList.add("in-video"),S(`Video playback started. Delay: ${((performance.now()-y-_)/1e3).toFixed(3)}s`)}),l.appendChild(e),e&&r&&e.load();{var o=l,i=e;let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting||(t.unobserve(e.target),i.pause(),i.removeAttribute("src"),i.load())})},{root:null,threshold:.2});t.observe(o)}},_)),o)&&i&&o.addEventListener(i,function(){o.style.opacity=0})}function l(e){if(MG_Utils.hasClass(e.target,"js-videoPreview")&&MG_Utils.hasClass(e.target,"activeVideo")&&(o=e.target),MG_Utils.hasClass(e.target,"premiumHolder")&&(o=closestElement(e.target,".img").querySelector(".js-videoPreview")),(MG_Utils.hasClass(e.target,"premiumLockedVideo")||MG_Utils.hasClass(e.target,"fade")&&e.target.querySelector(".js-videoPreview")&&!MG_Utils.hasClass(e.target.querySelector(".js-videoPreview"),"activeVideo"))&&(o=e.target.querySelector(".js-videoPreview")),o=MG_Utils.hasClass(e.target,"fade")&&e.target.querySelector(".js-videoPreview")&&MG_Utils.hasClass(e.target.querySelector(".js-videoPreview"),"activeVideo")&&e.relatedTarget&&"IMG"!==e.relatedTarget.nodeName?e.target.querySelector(".js-videoPreview"):o){var e=o.parentNode,t=e.querySelectorAll(".videoPreviewEl"),o=MG_Utils.closest(o,".phimage"),o=o?o.querySelector(".preloadLine"):void 0,i=e.querySelector(".watchedVideoText, .hideOnHover"),l=document.querySelectorAll(".activeVideo"),n=e.parentElement?e.parentElement.querySelectorAll(".hideOnPreview"):null,e=e.querySelector("img");if(window.clearTimeout(M),o&&C(o,0,0),i&&MG_Utils.removeClass(i,"hide"),e&&e.classList.remove("in-video"),n&&MG_Utils.removeClassMultiple(n,"hide"),t.length&&[].forEach.call(t,function(e){e.parentNode.removeChild(e)}),l.length)for(var s=0;s<l.length;s++)MG_Utils.removeClass(l[s],"activeVideo")}U&&U.destroy()}return{getTarget:function(){var e,t,o="undefined"!=typeof BrowserDetect&&"Safari"==BrowserDetect.browser;if(document.createElement("video").play&&(o||(()=>{var e=document.createElement("video"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),t="maybe"==t.webm||"probably"==t.webm)}catch(e){console.log(e)}return t})()))return o=arguments[0],o=document.querySelectorAll("."+o),e=o.length,t=document.querySelector("body"),MG_Utils.addEventHandler(t,"mouseover",i),MG_Utils.addEventHandler(t,"mouseout",l),void(0<e&&MG_Utils.removeClassMultiple(o,"js-videoThumbFlip"));document.querySelector("body").addEventListener("mouseover",i)}}})();function removeProfileItem(e,t){MG_Utils.ajaxCall({url:e,type:"POST"});var o,e=document.querySelectorAll("#"+t),i=MG_Utils.closest(e[0],".videoSection"),l=0,e=(e[0].parentNode.removeChild(e[0]),0==document.querySelectorAll("#"+t).length&&(l+=1),i.querySelectorAll(".showingInfo .totalSpan")),t=i.querySelectorAll(".showingInfo .videoSpan");(e||t)&&(2<=i.querySelectorAll(".showingInfo span").length&&(o=parseInt(t[0].textContent,10)),i=parseInt(e[0].textContent,10),vVideos=o,vVideos-=1,i-=l,e.length&&(e[0].innerHTML=i),t.length)&&(t[0].innerHTML=vVideos)}function removeItem(e,t,o,i){MG_Utils.ajaxCall({url:e,data:{id:t},type:"POST"});e=document.querySelectorAll("#"+o);e[0].parentNode.removeChild(e[0])}function removeItemSimple(e,t){MG_Utils.ajaxCall({url:e,type:"POST"});e=document.querySelectorAll("#"+t);e[0].parentNode.removeChild(e[0])}0!=document.querySelectorAll("#modelNotificationList").length&&(modelNotificationList=(modelNotificationList=document.querySelectorAll("#modelNotificationList"))[0].innerHTML);var myInt,cacheAjaxNotif=[],offset=[5,5,5],limit=5,scrollLimit=[0,0,0];function htmlspecialchars_decode(e){return e="string"==typeof e?(e=(e=(e=(e=e.replace(/&amp;/g,"&")).replace(/&quot;/g,'"')).replace(/&#039;/g,"'")).replace(/&lt;/g,"<")).replace(/&gt;/g,">"):e}function createMailAlert(o){if((o.isVideoNotification||o.lastMessageIdReceived||o.lastMessageSent)&&"0000-00-00 00:00:00"!=o.lastAction&&(o.isVideoNotification||!o.profileSpammer)){var{lastMessageIdReceived:i,lastMessageIdSent:l,lastMessageReceived:n,lastMessageSent:s}=o;let e="",t=(e=0<i&&i<l?s:0<i?n:0<l?s:n||s||"",escapeHtml(unEscapeHtml(e)).replace(/{{phTransactionIcon}}/g,'<i class="transactionIcon"></i>'));o.isVideoNotification&&(t='<i class="ph-icon-fire"></i>'+t,o.link=o.link.concat("&is_video_notification=1"),o.senderType)&&(o.link=o.link.concat("&sender_type="+o.senderType));i=(i=document.querySelectorAll("ul#modelNotificationList > li.messageTemplate"))[0].cloneNode(!0);document.querySelectorAll("ul#modelNotificationList")[0].appendChild(i),MG_Utils.removeClass(i,"messageTemplate"),MG_Utils.addClass(i,o.status),MG_Utils.addClass(i,"newElement"),o.isRequest&&(o.link=o.link.concat("&tab=requests")),document.querySelectorAll(".newElement")[0].setAttribute("data-link",o.link),document.querySelectorAll(".newElement .js-messageLink")[0].setAttribute("data-link",o.link),document.querySelectorAll(".newElement img")[0].setAttribute("src",o.profileImage),document.querySelectorAll(".newElement .from")[0].innerHTML=o.profileUsername,document.querySelectorAll(".newElement .userProfileLink")[0].setAttribute("href",o.profileLink),document.querySelectorAll(".newElement .userProfileLink.from")[0].setAttribute("href",o.profileLink),document.querySelectorAll(".newElement .message")[0].innerHTML=t,document.querySelectorAll(".newElement .date")[0].innerHTML=o.lastActionNice,o.isFanClubChat&&(document.querySelectorAll(".newElement .js-iconPlaceHolder")[0].className+=" fanOnlyIcon"),o.profileVerified&&(document.querySelectorAll(".newElement .js-verifiedIcon")[0].className+=" verified-icon"),i&&i.addEventListener("click",function(){window.location.href=this.getAttribute("data-link")}),document.querySelectorAll(".newElement")[0].style.display="block",MG_Utils.removeClass(i,"newElement")}}function noAlert(e){document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",0),document.querySelectorAll("ul#modelNotificationList > li")[0].style.display="none",document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="block",document.querySelectorAll("ul#modelNotificationList > li.noNewItem > span")[0].innerHTML=e}function insertNotificationContent(){document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="block",document.getElementById("scrollNotif").style.height="50%";var e=document.querySelectorAll("#notificationBox")[0].getAttribute("type"),t=document.querySelectorAll("ul#modelNotificationList > li,.handle3, .track3");for(var o=t.length-1;0<=o;o--)t[o].style.display="none";if(initScroll(),"messageContent"==e)if(document.querySelectorAll("#notificationBox .headerBox a.headerLink")[0].setAttribute("href",messageViewAll),document.querySelectorAll("#notificationBox .footerBox a")[0].setAttribute("href",messageViewAll),cacheAjaxNotif[0]){document.querySelectorAll("#modelNotificationList")[0].innerHTML=cacheAjaxNotif[0],document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",cacheAjaxNotif[3]),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none";for(var i=document.querySelectorAll(".js-messageLink"),l=i.length-1;0<=l;l--)MG_Utils.addEventHandler(i[l],"click",function(e){window.location.href=this.getAttribute("data-link")});initScroll()}else MG_Utils.ajaxCall({type:"POST",data:{limit:5,token:token},url:"/api/v1/chat/threads?limit=5&reset=1&requests=1",dataType:"json",headers:"undefined"!=typeof liuIdOrNull&&liuIdOrNull?{__m:liuIdOrNull}:{},success:function(t){if('"EXPIRED"'==t)document.location.reload();else{if(0==t.jsonNonBlockedThreadsCount)noAlert("messages");else{let e=0;for(var o in t.jsonThreads)e<5&&createMailAlert(t.jsonThreads[o]),e++;console.log(e),document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",t.count),document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="none",initScroll()}cacheAjaxNotif[0]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[3]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count"),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"}}});else"notifContent"==e&&(document.querySelectorAll("#notificationBox .headerBox a#notifViewAll")[0].setAttribute("href",notifViewAll),document.querySelectorAll("#notificationBox .headerBox a.headerLink")[0].setAttribute("href",notifViewAll),cacheAjaxNotif[2]?(document.querySelectorAll("#modelNotificationList")[0].innerHTML=cacheAjaxNotif[2],document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",cacheAjaxNotif[5]),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none",initScroll()):MG_Utils.ajaxCall({url:"/api/v1/stream/notifications_mini",type:"GET",data:{limit:5,token:token},dataType:"json",headers:"undefined"!=typeof liuIdOrNull&&liuIdOrNull?{__m:liuIdOrNull}:{},success:function(e){var t,o=e.stream.html;"REFRESH"==e.message?document.location.reload():e?(t=JSON.parse(JSON.stringify(e.notifications.html).replace("#*","").replace("*#","")),o=JSON.parse(JSON.stringify(o).replace("#*","").replace("*#","")),document.querySelectorAll("#modelNotificationList")[0].innerHTML+=t+o,document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",e.stream.count+e.notifications.count),leaveModal(),initScroll()):noAlert("notifications"),countAll=e.stream.count+e.notifications.count,cacheAjaxNotif[2]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[5]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count"),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"}}),leaveModal());initTooltip()}function initScroll(){var e=document.querySelectorAll("#scrollNotif"),t=window.innerHeight;let o="100%";var i=e[0].offsetHeight;t<609&&81.5*t/100<i&&(o=60*t/100+"px"),MG_Scroll.init({selector:e,height:o,color:"#FF9000",size:"4px",alwaysVisible:!0,railVisible:!0,railOpacity:1,railColor:"transparent",distance:"5px",opacity:1,railClass:"track3",barClass:"handle3",wrapperClass:"wrapper3",enLargeOnHover:!0,enLargedSize:"8px"})}function setActiveStyle(t){var e=document.getElementById("notificationIcons");e&&[].forEach.call(e.querySelectorAll(".notificationIcon"),function(e){e&&MG_Utils.hasClass(e,"active")&&MG_Utils.removeClass(e,"active"),e&&e.getAttribute("data-type")==t&&MG_Utils.addClass(e,"active")})}function leaveModal(){document.getElementById("fileupload")&&MG_Utils.hasClass(document.getElementById("fileupload"),"fileUploadPass")&&(LeavePageConfirmationModal.formChangedHandler(),LeavePageConfirmationPrompt.formChangedHandler())}function fetchDataMessages(){scrollLimit[0]||MG_Utils.ajaxCall({url:"/api/v1/chat/threads?limit=5&offset="+offset[0],type:"POST",data:{token:token},dataType:"json",headers:"undefined"!=typeof liuIdOrNull&&liuIdOrNull?{__m:liuIdOrNull}:{},success:function(e){if('"EXPIRED"'==e)document.location.reload();else{if(0!=e.jsonThreadsCount){for(var t in offset[0]=offset[0]+5,e.jsonThreads)createMailAlert(e.jsonThreads[t]);document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="none"}e.jsonNonBlockedThreadsCount<5&&(scrollLimit[0]=1),setTimeout(function(){cacheAjaxNotif[0]=document.querySelectorAll("#modelNotificationList")[0].innerHTML},600)}}})}function fetchDataNotification(){scrollLimit[2]||offset[2]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||MG_Utils.ajaxCall({url:"/api/v1/stream/notifications_mini",type:"GET",data:{offset:offset[2],limit:15,token:token},dataType:"json",headers:"undefined"!=typeof liuIdOrNull&&liuIdOrNull?{__m:liuIdOrNull}:{},success:function(e){document.querySelectorAll("#modelNotificationList")[0].innerHTML+=e.stream.html+e.notifications.html,offset[2]=offset[2]+5,(offset[2]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||100<=offset[2])&&(scrollLimit[2]=1),setTimeout(function(){cacheAjaxNotif[2]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,initTooltip()},600)}})}function avatarPopupHandler(i,e){for(var t=document.querySelectorAll("."+i),l=MG_Utils.hasClass(document.querySelector("body"),"logged-out"),o=t.length-1;0<=o;o--)MG_Utils.addEventHandler(t[o],"mouseenter",function(e){var t=this,o=e.target||e.srcElement;for(mouseEnterAvatar(t,l,e);0==MG_Utils.hasClass(o,i);)o=o.parentNode;myInt=setInterval(function(){MG_Utils.hasClass(o,i)||(mouseLeaveAvatar(t,l,e),clearInterval(myInt))},3e3)}),MG_Utils.addEventHandler(t[o],"mouseleave",function(e){mouseLeaveAvatar(this,l,e),myInt&&clearInterval(myInt)})}var cache={},timeout={timer:null,el:null};function avatarLoad(){document.querySelectorAll(".avatarWrap")&&avatarPopupHandler("avatarWrap"),document.querySelectorAll(".usernameWrap")&&avatarPopupHandler("usernameWrap"),document.querySelectorAll(".userLink")&&avatarPopupHandler("userLink")}function mouseEnterAvatar(e,t,o){var l,i,n;0==MG_Utils.getData(e,"disable-popover")&&(o=(l=o.target).querySelectorAll(".avatarPosition"),MG_Utils.hasClass(l,"avatarTrigger")&&""==o[0].innerHTML||MG_Utils.hasClass(l,"usernameWrap")&&""==o[0].innerHTML||MG_Utils.hasClass(l,"userLink"))&&(i=MG_Utils.getData(e,"type"),n=MG_Utils.getData(l,i+"id"),MG_Utils.addClass(l,"elementHovered"),timeout.timer&&clearTimeout(timeout.timer),timeout.el=e,timeout.timer=setTimeout(function(e){cache[n]?(l.querySelector(".avatarPosition").innerHTML=cache[n],MG_Utils.hasClass(l,"elementHovered")&&(l.querySelector(".avatarPopOver").style.display="block")):MG_Utils.ajaxCall({type:"POST",url:"/"+i+"/hover?id="+n,headers:"undefined"!=typeof liuIdOrNull&&liuIdOrNull?{__m:liuIdOrNull}:{},dataType:"text",context:this,success:function(e){var t=document.querySelectorAll(".avatarPopOver"),o=document.querySelector(".wrapper").offsetWidth;l.querySelector(".avatarPosition").innerHTML=e;for(var i=t.length-1;0<=i;i--)t[i].style.display="none";MG_Utils.hasClass(l,"elementHovered")&&(l.querySelector(".avatarPopOver").style.display="block",o<(e=document.querySelector(".avatarPopOver")).getBoundingClientRect().left+e.offsetWidth?MG_Utils.addClass(e,"popOverEdge"):MG_Utils.removeClass(e,"popOverEdge")),MG_Utils.hasClass(l,"elementHovered")&&(cache[n]=l.querySelector(".avatarPosition").innerHTML)}})},1e3))}function mouseLeaveAvatar(e,t,o){var i;0==MG_Utils.getData(e,"disable-popover")&&(o=o.target,i=MG_Utils.getData(e,"type"),o=MG_Utils.getData(o,i+"id"),t&&e.querySelector(".avatarPosition").length&&(cache[o]=e.querySelector(".avatarPosition").innerHTML),e.querySelector(".avatarPopOver")&&(e.querySelector(".avatarPopOver").style.display="none"),timeout.timer&&clearTimeout(timeout.timer),MG_Utils.removeClass(e,"elementHovered"))}var fadeClickthroughEvent=function(){var e=document.querySelectorAll("#moreData, ul.videos-list, ul.videos, ul.popularSectionListPremium");[].forEach.call(e,function(e){e.addEventListener("mousedown",function(e){var t,o=e.target;(MG_Utils.hasClass(o,"fadeImage")||MG_Utils.hasClass(o,"fade"))&&(t=o.querySelector("a.img"),t=(o.querySelector("a.selectVideoThumb")||t||(o.querySelector("a")||o.parentElement)).getAttribute("href"))&&(e.preventDefault(),1===e.which&&(window.location.href=t),2===e.which)&&window.open(t,"_blank")})})};function firstChild(e){if(!e.children.length)return null;if(e.firstElementChild)return e.firstElementChild;for(var t=0,o=e.children.length;t<=o;t++){var i=e.children[t];if(1===i.nodeType)return i}}MG_Utils.domReady(function(){var t,o;if(w=document.querySelector("#js-noticeWarningModal"),U=document.querySelector("#js-blackListModal"),w&&U&&(t=new MG_Modal({content:w,closeButton:!1,className:"noticeModal",closeDocument:!1}),o=new MG_Modal({content:U,closeButton:!1,className:"blackListModal",closeDocument:!1}),document.addEventListener("click",function(e){e=e.target;(MG_Utils.hasClass(e,"js-closeBlackList")||MG_Utils.hasClass(e,"js-closeNotice"))&&(MG_Utils.hasClass(e,"js-closeBlackList")&&o.closeModal(),MG_Utils.hasClass(e,"js-closeNotice"))&&t.closeModal()}),document.querySelector(".js-extrnalLink"))&&document.addEventListener("click",function(e){MG_Utils.hasClass(e.target,"js-extrnalLink")&&t.closeModal()}),"undefined"!=typeof BrowserDetect){switch(BrowserDetect.browser){case"Opera":MG_Utils.addClass(document.documentElement,"opera");break;case"Safari":MG_Utils.addClass(document.documentElement,"safari");break;case"Firefox":MG_Utils.addClass(document.documentElement,"firefox");break;case"Chrome":MG_Utils.addClass(document.documentElement,"chrome")}"Win32"==navigator.platform?MG_Utils.addClass(document.documentElement,"windows"):"MacIntel"==navigator.platform&&MG_Utils.addClass(document.documentElement,"osx"),BrowserDetect.init()}"undefined"!=typeof autocompleteSearch&&new autocompleteSearch,"undefined"!=typeof dropdown&&(dropdown.init(".mainFilter, .sortFilter"),dropdown.init("#languageWrapper"),dropdown.init(".languageWrapper"),dropdown.init("#notificationIcons",{closeCallback:function(){var e=document.querySelector('.notificationIcon[data-type="'+document.getElementById("notificationBox").getAttribute("type")+'"] > span');e&&(e.style.display="none")}}),"undefined"!=typeof isLogged)&&isLogged&&dropdown.init("#profileMenuWrapper"),renderCommentLinks();for(var e=document.querySelectorAll("textarea[data-val]"),i=0;i<e.length;i++)""==(element=e[i]).value&&(element.value=element.getAttribute("data-val"));for(var l=document.querySelectorAll("ul"),n=0;n<l.length;++n){var s=firstChild(l[n]),a=MG_Utils.lastChild(l[n]);s&&MG_Utils.addClass(s,"alpha"),a&&(MG_Utils.hasClass(a,"sectionMoreBtn")?MG_Utils.addClass(a.previousElementSibling||MG_Utils.previousElementSibling(a),"omega"):MG_Utils.addClass(a,"omega"))}for(var r=document.querySelectorAll(".container a.img, .container img"),c=0;c<r.length;++c)MG_Utils.hasClass(r[c],"catIcon")||(r[c].setAttribute("data-title",r[c].title),r[c].setAttribute("title",""));initTooltip();for(var d,u,m,p=document.querySelectorAll(".wideDropdown"),f=0;f<p.length;++f)if(u=p[f],d=document.querySelector(".menu."+u.getAttribute("data-submenu-type")),m=document.querySelectorAll(".wideDropdown."+u.getAttribute("data-submenu-type")),d)for(var h=0;h<m.length;h++)d.appendChild(m[h]);var v=document.getElementById("countryRedirectMessage");if(v&&!PH_Storage.getItem("hideLangRedirect")){v.style.display="block";for(var g=v.querySelectorAll("i"),y=0;y<g.length;y++)MG_Utils.addEventHandler(g[y],"click",function(e){(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0,v.style.display="none",PH_Storage.saveWithExpiry("hideLangRedirect",!0)})}for(var M=document.querySelectorAll(".shareIcons a"),_=0;_<M.length;_++)MG_Utils.addEventHandler(M[_],"click",function(e){var t,o=(e=e||window.event).target||e.srcElement;if(MG_Utils.preventDefault(e),"a"!==o.nodeName.toLowerCase())for(;(o=o.parentElement)&&"a"!==o.nodeName.toLowerCase(););e=Math.floor(((screen.availWidth||1024)-640)/2),t=Math.floor(((screen.availHeight||700)-320)/2),window.open(o.href,"social","width=640,height=320,left="+e+",top="+t+",location=0,menubar=0,toolbar=0,status=0,scrollbars=1,resizable=1")});VideoPreview.getTarget("js-videoPreview"),MG_Utils.limit=function(e,t){for(var t=MG_Utils.extendSimple({limit:200},t),o=e.length-1;0<=o;o--)MG_Utils.addEventHandler(e[o],"keyup",function(e){e=(e=e||event).target||e.srcElement;e.value.length>t.limit&&(e.value=e.value.substring(0,t.limit))})};var S,C,U,G,b,w={getInstance:function(){return null==S&&((S=new O).constructor=null),S}};function O(){var o={},t="extended";function a(e){e.preventDefault(),i(this.bioAbout,t),i(this.biographyBtns,t),i(this.bioText,t),i(this.profileDetails,t),i(this.showMoreLink,t),i(this.socials,t),this.parentElement&&i(this.parentElement,t),this.showMoreLink.innerHTML=MG_Utils.hasClass(this.showMoreLink,t)?o.showLess:o.showMore}function i(e,t){e&&MG_Utils.toggleClass(e,t)}this.init=function(e,t){o=t,function(){var e={parentElement:this.querySelector(".bottomDescription "),bioAbout:this.querySelector(".js-bioAbout"),biographyBtns:this.querySelector(".biographyBtns"),bioText:this.querySelector(".js-bioText"),profileDetails:this.querySelector(".js-infoText"),showMoreLink:this.querySelector(".js-showMoreLess"),socials:this.querySelector(".js-socials")};!function(){if(this.showMoreLink)if(document.querySelector(".claimed")||document.querySelector(".amateurModel")){var e=document.querySelectorAll(".js-headerContent"),t=!1,o=(()=>{var t=0;return[].forEach.call(document.querySelectorAll(".js-highestChild"),function(e){null!==e.offsetParent&&(t=Math.max(e.offsetHeight,t))}),t+20})();if(void 0!==e&&0<e.length)for(var i=0;i<e.length;i++)if(e[i].offsetHeight>o){t=!0;break}t?(MG_Utils.addClass(this.showMoreLink,"displayNone"),MG_Utils.addClass(document.querySelector(".fadeout"),"displayNone")):(this.showMoreLink.style.visibility="visible",this.showMoreLink.style.display="initial",this.showMoreLink.addEventListener("click",a.bind(this)))}else{var l,n,s;(this.bioText&&0<this.bioText.scrollHeight||this.profileDetails&&0<this.profileDetails.scrollHeight)&&(l=this.bioText?this.bioText.scrollHeight:0,s=this.profileDetails?this.profileDetails.scrollHeight:0,n=this.bioAbout?205:0,s=s<=n,l<=n&&s?MG_Utils.addClass(this.showMoreLink,"displayNone"):(this.showMoreLink.style.visibility="visible",this.showMoreLink.style.display="initial",this.showMoreLink.addEventListener("click",a.bind(this))))}}.call(e)}.call(e)}}try{var q=document.querySelectorAll(".topProfileHeader")?document.querySelectorAll(".topProfileHeader")[0]:null,I="undefined"!=typeof PROFILE_MORE_LESS_TEXT?PROFILE_MORE_LESS_TEXT:null;q&&I&&w.getInstance().init(q,I)}catch(e){console.log("ERROR === SHOW MORE LESS CLASS ==="),console.log(e)}if(document.querySelectorAll(".createPlaylistModalTrigger"))for(var N=document.querySelectorAll(".createPlaylistModalTrigger"),A=N.length-1;0<=A;A--)MG_Utils.addEventHandler(N[A],"click",function(e){(e=e||event).preventDefault(),"undefined"!=typeof createPlaylistModalComponent&&createPlaylistModalComponent.open(function(){dropdown.init("#playlist-form .privacySelector"),MG_Utils.limit(document.querySelectorAll("#new-playlist-description"),{limit:1e3})})});if(document.querySelectorAll(".blockPageScroll"))for(var L=document.querySelectorAll(".blockPageScroll"),T=L.length-1;0<=T;T--)L[T].addEventListener("mousewheel",function(e){(e=e||event).preventDefault()},{passive:!1}),L[T].addEventListener("DOMMouseScroll",function(e){(e=e||event).preventDefault()},{passive:!1});if(document.querySelectorAll(".expandable-title")){for(var H=document.querySelectorAll(".expandable-title"),E=H.length-1;0<=E;E--)MG_Utils.addEventHandler(H[E],"click",function(){if(MG_Utils.hasClass(this.parentNode,"active")){var e=this.parentNode;e.querySelector(".expandable-content").style.display="none",MG_Utils.removeClass(e,"active")}else{for(var e=this.parentNode,t=document.querySelectorAll(".expandable-section.active"),o=t.length-1;0<=o;o--)MG_Utils.removeClass(t[o],"active"),t[o].querySelector(".expandable-content").style.display="none";e.querySelector(".expandable-content").style.display=globalObjUtils.isMac&&globalObjUtils.isSafari?"contents":"block",MG_Utils.addClass(e,"active")}});for(var B=document.querySelectorAll(".expandable-title .expand-button"),E=B.length-1;0<=E;E--)MG_Utils.addEventHandler(B[E],"click",function(e){(e=e||event).preventDefault()})}function k(e){e.length&&[].forEach.call(e,function(e){var t=document.querySelector(".add-to-playlist-menu");t&&!MG_Utils.hasClass(t,"display-none")||MG_Utils.removeClass(e,"active")})}function P(e){var t,o=document.querySelector(".add-to-playlist-menu");if(e?t=e.querySelector(".playlist-trigger"):(e=document.querySelector(".zoom.active"))&&(t=e.querySelector(".playlist-trigger")),t)for(;"block"===o.style.display;)t.click()}function j(e){return!!e&&!MG_Utils.hasClass(e,"playlist-trigger")&&!(MG_Utils.hasClass(e,"playlist-menu-addTo")||MG_Utils.hasClass(e,"playlist-list")||MG_Utils.hasClass(e,"playlist-menu-createNew"))}(U=document.body).addEventListener("mouseover",function(e){var t,o,i=e.target,l=null;window.clearTimeout(C),MG_Utils.hasClass(i,"fadeUp")&&!MG_Utils.hasClass(i.parentNode,"js-noFade")&&(e=i.querySelector(".thumb"),t=i.querySelector(".privateOverlay"),o=i.parentElement?i.parentElement.querySelectorAll(".hideOnPreview"):null,l=(MG_Utils.hasClass(i,"fade")?i:MG_Utils.closest(i,".fade")).querySelector(".watchedVideoText, .hideOnHover"),!t)&&e&&(!MG_Utils.hasClass(e,"js-videoPreview")||MG_Utils.hasClass(e,"js-videoThumbFlip")||MG_Utils.hasClass(e,"activeVideo")||(C=setTimeout(function(){MG_Utils.removeClass(i,"fadeUp")},300)),MG_Utils.hasClass(e,"js-videoThumbFlip"))&&!e.getAttribute("data-flipbook_active")&&(MG_Utils.hasClass(e,"js-videoPreview")||(C=setTimeout(function(){MG_Utils.removeClass(i,"fadeUp"),l&&!MG_Utils.hasClass(l,"hide")&&MG_Utils.addClass(l,"hide"),o&&MG_Utils.addClassMultiple(o,"hide")},100)),MG_Utils.hasClass(e,"js-videoPreview"))&&(C=setTimeout(function(){MG_Utils.removeClass(i,"fadeUp"),l&&!MG_Utils.hasClass(l,"hide")&&MG_Utils.addClass(l,"hide"),o&&MG_Utils.addClassMultiple(o,"hide")},100))}),U.addEventListener("mouseout",function(e){var t,o=e.target,e=e.relatedTarget,i=null,l=o.parentElement?o.parentElement.querySelectorAll(".hideOnPreview"):null;window.clearTimeout(C),MG_Utils.closest(o,".fade")&&!MG_Utils.hasClass(MG_Utils.closest(o,".fade"),"fadeUp")&&(i=MG_Utils.closest(o,".fade").querySelector(".watchedVideoText, .hideOnHover"),MG_Utils.hasClass(o,"js-videoThumbFlip")&&MG_Utils.hasClass(o,"js-videoPreview")&&(MG_Utils.addClass(MG_Utils.closest(o,".fade"),"fadeUp"),i&&MG_Utils.hasClass(i,"hide")&&MG_Utils.removeClass(i,"hide"),l)&&MG_Utils.removeClassMultiple(l,"hide"),MG_Utils.hasClass(o,"js-videoPreview")&&!MG_Utils.hasClass(o,"js-videoThumbFlip"))&&MG_Utils.addClass(MG_Utils.closest(o,".fade"),"fadeUp"),MG_Utils.hasClass(o,"fade")&&!MG_Utils.hasClass(o,"fadeUp")&&(t=o.querySelector(".thumb"),MG_Utils.hasClass(o,"fade")&&(i=o.querySelector(".watchedVideoText, .hideOnHover")),t&&MG_Utils.hasClass(t,"js-videoThumbFlip")&&MG_Utils.hasClass(t,"js-videoPreview")&&e&&!MG_Utils.hasClass(e,"thumb")&&(MG_Utils.addClass(o,"fadeUp"),i&&MG_Utils.hasClass(i,"hide")&&MG_Utils.removeClass(i,"hide"),l)&&MG_Utils.removeClassMultiple(l,"hide"),t&&MG_Utils.hasClass(t,"js-videoThumbFlip")&&!MG_Utils.hasClass(t,"js-videoPreview")&&e&&!MG_Utils.hasClass(e,"thumb")&&(MG_Utils.addClass(o,"fadeUp"),i&&MG_Utils.hasClass(i,"hide")&&MG_Utils.removeClass(i,"hide"),l)&&MG_Utils.removeClassMultiple(l,"hide"),t)&&MG_Utils.hasClass(t,"js-videoPreview")&&!MG_Utils.hasClass(t,"js-videoThumbFlip")&&!MG_Utils.hasClass(t,"activeVideo")&&MG_Utils.addClass(o,"fadeUp")}),(w=document.body).addEventListener("mouseover",function(e){var t,o,i,e=e.target;window.clearTimeout(G),MG_Utils.closest(e,".zoom")&&!MG_Utils.hasClass(MG_Utils.closest(e,".zoom"),"active")&&((MG_Utils.hasClass(e,"img")&&MG_Utils.hasClass(e.querySelector(".thumb"),"js-videoThumbFlip")||MG_Utils.hasClass(e,"js-videoThumbFlip"))&&(t=MG_Utils.closest(e,".zoom"),o=document.querySelectorAll(".zoom.active"),(i=document.querySelector(".add-to-playlist-menu"))&&"block"===i.style.display&&P(),k(o),G=setTimeout(function(){MG_Utils.addClass(t,"active")},100)),MG_Utils.hasClass(e,"img")&&e.querySelector(".js-videoPreview")&&!MG_Utils.hasClass(e.querySelector(".js-videoPreview"),"activeVideo")&&!e.querySelector(".js-videoThumbFlip")||MG_Utils.hasClass(e,"js-videoPreview")&&!MG_Utils.hasClass(e,"activeVideo")&&!MG_Utils.hasClass(e,"js-videoThumbFlip"))&&(t=MG_Utils.closest(e,".zoom"),o=document.querySelectorAll(".zoom.active"),(i=document.querySelector(".add-to-playlist-menu"))&&"block"===i.style.display&&P(),k(o),G=setTimeout(function(){MG_Utils.addClass(t,"active")},100))}),w.addEventListener("mouseout",function(e){var t=e.target,e=e.relatedTarget,o=this.querySelector(".add-to-playlist-menu");if(MG_Utils.closest(t,".zoom")){var i,l=MG_Utils.closest(t,".zoom");if(window.clearTimeout(G),(MG_Utils.hasClass(t,"img")||MG_Utils.hasClass(t,"thumb"))&&(!o||MG_Utils.hasClass(o,"display-none"))&&e&&(MG_Utils.hasClass(e,"playlist-trigger")||MG_Utils.hasClass(e,"not-interested-trigger")||MG_Utils.closest(e,".playlist-menu-addTo")||MG_Utils.closest(e,".playlist-list")||MG_Utils.closest(e,".playlist-menu-createNew")||MG_Utils.closest(e,".marker-overlays")))return;(MG_Utils.hasClass(l,"active")&&MG_Utils.hasClass(t,"js-videoPreview")&&MG_Utils.hasClass(t,"js-videoThumbFlip")||t.querySelector(".js-videoPreview")&&t.querySelector(".js-videoThumbFlip")&&!MG_Utils.hasClass(e,"thumb")&&j(e))&&(i=document.querySelectorAll(".zoom.active"),o&&"block"===o.style.display&&P(l),k(i)),(MG_Utils.hasClass(l,"active")&&MG_Utils.hasClass(t,"js-videoThumbFlip")||MG_Utils.hasClass(t,"img")&&t.querySelector(".js-videoThumbFlip")&&e&&j(e)&&!MG_Utils.hasClass(e,"thumb"))&&(i=document.querySelectorAll(".zoom.active"),o&&"block"===o.style.display&&P(l),k(i)),(MG_Utils.hasClass(l,"active")&&MG_Utils.hasClass(t,"js-videoPreview")&&!MG_Utils.hasClass(t,"activeVideo")&&!MG_Utils.hasClass(t,"js-videoThumbFlip")||MG_Utils.hasClass(t,"img")&&t.querySelector(".js-videoPreview")&&!t.querySelector(".js-videoThumbFlip")&&!MG_Utils.hasClass(t.querySelector(".js-videoPreview"),"activeVideo")&&j(e))&&(i=document.querySelectorAll(".zoom.active"),o&&"block"===o.style.display&&P(l),k(i))}(MG_Utils.closest(t,".marker-overlays")||MG_Utils.closest(t,".add-to-playlist-icon"))&&MG_Utils.closest(t,".zoom")&&MG_Utils.hasClass(MG_Utils.closest(t,".zoom"),"active")&&e&&!MG_Utils.closest(e,".marker-overlays")&&!MG_Utils.closest(e,".phimage")&&!MG_Utils.closest(e,".add-to-playlist-menu")&&(i=document.querySelectorAll(".zoom.active"),l=MG_Utils.closest(t,".zoom"),window.clearTimeout(G),o&&"block"===o.style.display&&P(l),k(i)),t&&e&&(MG_Utils.closest(t,".playlist-menu-addTo")||MG_Utils.closest(t,".playlist-list")||MG_Utils.closest(t,".playlist-menu-createNew"))&&!MG_Utils.hasClass(e,"playlist-trigger")&&!MG_Utils.hasClass(e,"img")&&!MG_Utils.closest(e,".add-to-playlist-menu")&&(i=document.querySelectorAll(".zoom.active"),window.clearTimeout(G),o&&"block"===o.style.display&&P(),k(i))}),q=document.querySelector("#searchInput"),b=document.querySelector("#searchBarContainer"),null!==q&&(MG_Utils.addEventHandler(q,"focus",function(){MG_Utils.addClass(b,"active")}),MG_Utils.addEventHandler(q,"blur",function(){MG_Utils.removeClass(b,"active")})),fadeClickthroughEvent();var D=document.querySelector(".js-uploadModalContent");document.querySelectorAll(".js-headerUploadBtn").forEach(e=>{e&&e.addEventListener("click",e=>{var t=e.target;e.stopPropagation(),"undefined"!=typeof isLogged&&isLogged&&(D&&MG_Utils.toggleClass(D,"displayNone"),t.classList.contains("js-videoUpload")?userClogTracking(currentDomain,"ph_video_upload_icon_button",originPart,originUrl,"video-upload",""):userClogTracking(currentDomain,"ph_photo_upload_icon_button",originPart,originUrl,"photo-upload",""))})});let x=document.getElementById("avBannerWrapper");x&&document.addEventListener("click",function(e){var e=e.target;e&&e.classList.contains("closeBanner")&&x&&MG_Utils.addClass(x,"displayNone"),e&&e.classList.contains("js-avYoutubeLink")&&(e=e.getAttribute("data-href"),void 0===page_params.holiday_promo_prem?window.location=e:window.open(e))})});var PH_PromotionalContentCmp=function(){var t=this,o={promotionalContentID:document.getElementById("promotionalContent"),promotionalContentText:document.querySelector(".promotionalContentText"),promotionalContentTooltipTextClass:"promotionalContentTooltipText",promotionalContentClass:"promotionalContent",hideClass:"hide"};t.init=function(){o.promotionalContentID&&t.attachEvents()},t.attachEvents=function(){window.addEventListener("click",function(e){e=e.target||e.srcElement;e.id!=o.promotionalContentTooltipTextClass&&(e.id==o.promotionalContentClass?t.triggerPromotionalContent():t.triggerPromotionalContent(!0))}),window.addEventListener("blur",function(e){o.promotionalContentText&&t.triggerPromotionalContent(!0)})},t.triggerPromotionalContent=function(e){void 0===e?o.promotionalContentText.classList.contains(o.hideClass)?o.promotionalContentText.classList.remove(o.hideClass):o.promotionalContentText.classList.add(o.hideClass):o.promotionalContentText.classList.contains(o.hideClass)||o.promotionalContentText.classList.add(o.hideClass)}},PH_OrientationMenuCmp=function(){var o=this,i={orientationMenu:document.getElementById("orientationMenu"),subMenuSelect:".wrapOrientationSubMenu",subMenuTriggerSelect:".subMenuTrigger",arrowupClass:"ph-icon-arrow-drop-up",arrowdownClass:"ph-icon-arrow-drop-down",activeClass:"active",currentURLClass:"currentURL",orientationSubMenuClass:".orientationSubMenu",loggedOut:"0",wrapOrientationSubMenu:null,postSwitchOrientationURL:"/front/sync_preference",requestToken:"",iconsClass:"",titleText:""};o.init=function(){i.wrapOrientationSubMenu=document.querySelector(i.subMenuSelect),i.requestToken=i.wrapOrientationSubMenu.dataset.token||"",i.loggedOut=i.wrapOrientationSubMenu.dataset.login||"0",i.iconsClass=i.orientationMenu.querySelector("div.menuIconBox i"),i.titleText=i.orientationMenu.querySelector("span"),i.orientationMenu&&MG_Utils.addEventHandler(i.orientationMenu,"click",o.attachEventsTriggerOrientationMenu);var e=i.wrapOrientationSubMenu.querySelectorAll(i.orientationSubMenuClass);"1"==i.loggedOut?(sessionStorage.removeItem("dataOrientation"),e.forEach(function(e){MG_Utils.addEventHandler(e,"click",o.switchOrientation)})):("undefined"!=typeof JSON_ORIENTATION_INFO&&sessionStorage.getItem("dataOrientation")&&JSON_ORIENTATION_INFO.forEach(function(e){e[3]==sessionStorage.getItem("dataOrientation")&&(i.iconsClass.setAttribute("class",""),i.titleText.innerHTML=e[0],i.iconsClass.classList.add(e[1]))}),e.forEach(function(e){e.classList.contains(i.currentURLClass)&&e.classList.remove(i.currentURLClass),e.dataset.orientation==sessionStorage.getItem("dataOrientation")&&e.classList.add(i.currentURLClass),MG_Utils.addEventHandler(e,"click",o.setSessionOrientation)}))},o.setSessionOrientation=function(e){e=(e.target||e.srcElement).dataset.orientation||0;sessionStorage.setItem("dataOrientation",e)},o.switchOrientation=function(e){e.preventDefault();var e=e.target||e.srcElement,t=e.dataset.orientation||0,e=e.getAttribute("href")||"";o.postSwitchOrientation(t,e)},o.postSwitchOrientation=function(e,t){fetch(""+i.postSwitchOrientationURL,{method:"POST",body:JSON.stringify({preference:Number(e),token:i.requestToken}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(e=>{e&&t&&(window.location.href=t)})},o.attachEventsTriggerOrientationMenu=function(e){var e=e.target||e.srcElement,t=e.querySelector(i.subMenuTriggerSelect);i.wrapOrientationSubMenu&&!MG_Utils.hasClass(i.wrapOrientationSubMenu,i.activeClass)?(MG_Utils.addClass(i.wrapOrientationSubMenu,i.activeClass),MG_Utils.addClass(t,i.arrowupClass),MG_Utils.removeClass(t,i.arrowdownClass),e.dataset.label="orientation_close",userClogTracking(currentDomain,"user-menu",originPart,originUrl,"orien-dropdown","")):i.wrapOrientationSubMenu&&MG_Utils.hasClass(i.wrapOrientationSubMenu,i.activeClass)&&(MG_Utils.removeClass(i.wrapOrientationSubMenu,i.activeClass),MG_Utils.addClass(t,i.arrowdownClass),MG_Utils.removeClass(t,i.arrowupClass),e.dataset.label="orientation_open")}};document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("languageMenu"),t=document.getElementById("locationMenu");function o(e){e.stopPropagation();var t,o,i,e=e.target&&e.target[this.selectedIndex];e&&(t=MG_Utils.getData(e,"href"),o=MG_Utils.getData(e,"root"),i=e.value,e=MG_Utils.getData(e,"type"),t)&&o&&i&&e&&("language"==e?("function"==typeof setCookieAdvanced&&setCookieAdvanced("lang",i,30,"/","."+o,!0),window.location=t):("function"==typeof setCookieAdvanced&&setCookieAdvanced("overwriteCCVal",t.split("=")[1],1,"/","."+o,!0),window.location.reload()))}e&&MG_Utils.addEventHandler(e,"change",o),t&&MG_Utils.addEventHandler(t,"change",o);let i=document.getElementById("profileMenuDropdown"),l=document.querySelector(".userMenuFadeOutOverly"),n=document.getElementById("profileMenuDropdownScroll"),s=document.querySelector(".js_userMenuScroll");i&&i.addEventListener("click",function(e){var t=e.target;((n?n.contains(t):null)||e.target||s&&MG_Utils.hasClass(e.target,s))&&(e.stopPropagation(),i.style.display="block")}),n&&n.addEventListener("mouseenter",function(){var e=n.scrollTop+2;!s||"block"!=s.style.display||e+n.clientHeight>=n.scrollHeight?l&&MG_Utils.addClass(l,"hidden"):l&&MG_Utils.removeClass(l,"hidden")}),n&&n.addEventListener("scroll",function(){n.scrollTop+2+n.clientHeight>=n.scrollHeight?l&&MG_Utils.addClass(l,"hidden"):l&&MG_Utils.removeClass(l,"hidden")}),l&&l.addEventListener("click",function(){var e=n.clientHeight-s.offsetHeight;MG_Utils.hasClass(document.querySelectorAll("html")[0],"safari")?n.scroll(0,1e3):n.scrollTo({top:n.scrollHeight,behavior:"smooth"}),s.style.top=e+"px",MG_Utils.addClass(l,"hidden")});try{"undefined"!=typeof orientationMenuEnabled&&orientationMenuEnabled&&(phOrientationMenu=new PH_OrientationMenuCmp).init(),(phPromotionalContent=new PH_PromotionalContentCmp).init()}catch(e){console.log(e)}});let popUpMenu={toggleMenu:function(e,t){e&&t&&(MG_Utils.toggleClass(t,"active"),MG_Utils.toggleClass(e,"active"))},closeMenu:function(e,t,o){e&&t&&(e.contains(o)&&t.contains(o)||(MG_Utils.removeClass(t,"active"),MG_Utils.removeClass(e,"active")))}};function changeCC(e){var t,e=e.target;MG_Utils.hasClass(e,"js-ccOption")&&(e.dataset.originId&&userClogTracking(currentDomain,"sort",originPart,originUrl,e.dataset.originId,newModal),t=MG_Utils.getData(e,"href"),e=MG_Utils.getData(e,"root"),t)&&e&&("function"==typeof setCookieAdvanced&&setCookieAdvanced("overwriteCCVal",t,1,"/","."+e,!0),window.location.reload())}function toggleGtmLabel(e,t,o){e.dataset.label&&(e.dataset.label=e.classList.contains("active")?t:o)}(()=>{let o=document.querySelector(".js-filterTriggerBtn"),i=document.querySelector(".js-filterMenu"),t=document.querySelector(".js-allCategoriesBtn"),l=document.querySelector(".js-includeAll-categories-menu"),e=document.querySelectorAll(".js-backToAllFilters"),n=document.querySelector(".js-categoriesNoneBtn"),s=document.querySelector(".js-excludeAll-categories-menu"),a=(i&&o&&(o.addEventListener("click",function(e){var t=this.dataset.label;e.stopPropagation(),void 0!==closeSortingMenu&&closeSortingMenu(),popUpMenu.toggleMenu(i,o),toggleGtmLabel(o,"menu_close","menu_open"),sortingTriggerBtn&&toggleGtmLabel(sortingTriggerBtn,"menu_close","menu_open"),l.classList.remove("active"),s.classList.remove("active"),"menu_open"===t&&userClogTracking(currentDomain,"filter",originPart,originUrl,"menu-open","")}),i.addEventListener("click",function(e){e.stopPropagation()})),document.addEventListener("click",function(e){e=e.target;if("undefined"!==page_params&&void 0!==page_params.isDraggingScrollbar&&!page_params.isDraggingScrollbar)return!(page_params.isDraggingScrollbar=!0);a(i,o,e),a(l,t,e),a(s,n,e)}),(e,t,o)=>{t&&e&&(popUpMenu.closeMenu(t,e,o),toggleGtmLabel(e,"menu_close","menu_open"))});e&&e.forEach(e=>{e.addEventListener("click",e=>{l&&l.classList.remove("active"),s&&s.classList.remove("active"),i&&i.classList.add("active")})}),l&&t&&(t.addEventListener("click",function(e){e.stopPropagation(),void 0!==closeSortingMenu&&closeSortingMenu(),popUpMenu.toggleMenu(l,t),toggleGtmLabel(t,"menu_close","menu_open"),i.classList.remove("active"),sortingTriggerBtn&&toggleGtmLabel(sortingTriggerBtn,"menu_close","menu_open"),userClogTracking(currentDomain,"filter",originPart,originUrl,"open-include-categories","")}),l.addEventListener("click",function(e){e.stopPropagation()})),s&&n&&(n.addEventListener("click",function(e){e.stopPropagation(),void 0!==closeSortingMenu&&closeSortingMenu(),popUpMenu.toggleMenu(s,n),toggleGtmLabel(n,"menu_close","menu_open"),i.classList.remove("active"),sortingTriggerBtn&&toggleGtmLabel(sortingTriggerBtn,"menu_close","menu_open"),userClogTracking(currentDomain,"filter",originPart,originUrl,"open-exclude-categories","")}),s.addEventListener("click",function(e){e.stopPropagation()}))})();let sortingTriggerBtn=document.querySelector(".js-sortingTriggerBtn"),sortingVideoMenu=document.querySelector(".js-sortingMenu"),sortingMenuLinks=sortingVideoMenu&&sortingVideoMenu.querySelectorAll("a");{function closeSortingMenu(){sortingVideoMenu&&sortingTriggerBtn&&(sortingVideoMenu.classList.add("displayNone"),sortingTriggerBtn.classList.remove("active"))}sortingVideoMenu&&sortingTriggerBtn&&(sortingTriggerBtn.addEventListener("click",function(){sortingVideoMenu.classList.toggle("displayNone"),this.classList.toggle("active"),toggleGtmLabel(sortingTriggerBtn,"menu_close","menu_open")}),document.addEventListener("click",function(e){e=e.target;e.classList.contains("js-sortingMenu")||e.classList.contains("js-sortingTriggerBtn")||e.classList.contains("js-filterBtnClickArea")||(closeSortingMenu(),toggleGtmLabel(sortingTriggerBtn,"menu_close","menu_open"))}),sortingMenuLinks.length)&&[].forEach.call(sortingMenuLinks,function(e){e.addEventListener("click",function(){this.dataset.originId&&userClogTracking(currentDomain,"sort",originPart,originUrl,this.dataset.originId,newModal)})})}function mountInfoTooltip(e,t,i){var o=t&&t.querySelector("v-info-tooltip");if(o)o.remove();else{document.querySelectorAll("v-info-tooltip").forEach(e=>e.remove());let o=document.createElement("v-info-tooltip");Object.entries(e).forEach(([e,t])=>{e=e.replace(/([A-Z])/g,"-$1").toLowerCase();o.setAttribute(e,String(t))}),i&&(o.trigger=i),t&&t.appendChild(o)}}(()=>{let e=document.querySelector(".js-suggestions-scroll-area"),t=document.querySelector(".js-suggestions-scroll-container"),o=document.querySelector(".js-suggestions-left-arrow"),i=document.querySelector(".js-suggestions-right-arrow"),l=0,n;function s(){n=e&&t?t.clientWidth-e.clientWidth:0}function a(e){return Math.min(Math.max(e,0),n)}function r(){t&&(o?.classList.toggle("hide",l<=0),i?.classList.toggle("hide",l>=n))}s(),document.addEventListener("activeFilterCounter",s),window.addEventListener("resize",s),t?.addEventListener("wheel",e=>{e.preventDefault(),l=a(l+=Math.abs(e.deltaX)>Math.abs(e.deltaY)?e.deltaX:e.deltaY),t.style.transform=`translateX(-${l}px)`,r()}),o?.addEventListener("click",()=>{t&&(l=a(l-200),t.style.transform=`translateX(-${l}px)`,r())}),i?.addEventListener("click",()=>{t&&(l=a(l+200),t.style.transform=`translateX(-${l}px)`,r())})})();var InfoTooltipComponent={init:function(){Vue.customElement("v-info-tooltip",{props:{trigger:{type:HTMLElement,default:null,required:!0},tooltipHtml:{type:String,default:""}},data(){return{}},computed:{},methods:{unmount(){this.$el.closest("v-info-tooltip")?.remove()},handleOutsideClick(e){this.$el.contains(e.target)||this.trigger.contains(e.target)||this.unmount()}},mounted(){document.addEventListener("click",this.handleOutsideClick)},beforeDestroy(){document.removeEventListener("click",this.handleOutsideClick)},template:'<div class="infoTooltipContent" v-html="tooltipHtml"></div>'})}};void 0!==InfoTooltipComponent&&InfoTooltipComponent.init();