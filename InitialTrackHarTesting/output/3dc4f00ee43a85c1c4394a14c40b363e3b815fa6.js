var certifyVideoModal,mainHubWelcomeModal,confirmPopUpModal=null;if(page_params.logPageLoadTime){let e=Math.round(performance.now()-startLogPageLoadTime);fetch("/log/load-time",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({load_time:e})})}var phubGenericFuncModule={setCategoryLink:null,setCookie:function(e){var t,n;"undefined"!=typeof CookieHelper&&!CookieHelper.canAdd(e.split("=")[0])||(t="undefined"!=typeof COOKIE_DOMAIN?";domain="+COOKIE_DOMAIN:"",(n=new Date).setTime(n.getTime()+3e4),document.cookie=e+";expires="+n.toUTCString()+";path=/"+t)}};function triggerSignInSignUpModal(e=""){var t="undefined"!=typeof defaultSignUpModal&&defaultSignUpModal?"signUp":"signIn";signinbox&&signinbox.show({step:t,head:e})}var eventsModule=(()=>{function n(e){var t;e.target&&MG_Utils.hasClass(e.target,"pornstarsList")&&(t=e.target.value)&&(e.target.value=t.replace(/[\<\>|\[\]|\{\}|\(\)]/gi,""))}function v(n){var e;void 0!==(confirmPopUpModal=void 0!==confirmPopUpModal&&!confirmPopUpModal&&(Vue.customElement("confirm-modal",{computed:{getButtonText:function(){return modalTranslationText.okButton}},template:'<div id="confirmModal" class="modalWrapper"><div class="modal-body"><div class="text"></div><button class="orangeButton js-okBtn" data-modal="info">{{getButtonText}}</button></div></div>'}),e=document.getElementById("confirmModal"))?new MG_Modal({content:e,className:"infoModalContainer"}):confirmPopUpModal)&&confirmPopUpModal&&confirmPopUpModal.openModal(function(e,t){t=t.querySelectorAll(".text");t&&(t[0].innerHTML=n)})}function M(e,t,n){e.preventDefault();var a,o,i,s=void 0!==t?t:"BUTTON"===e.target.tagName?e.target:e.target.parentElement,r=s.children,t=s.parentElement.getAttribute("data-button-id"),l=document.querySelectorAll("."+t),c=document.querySelectorAll("."+t+" button"),d=document.querySelectorAll("."+t+" .buttonLabel"),t=0==s.getAttribute("data-subscribed")?s.getAttribute("data-subscribe-url"):s.getAttribute("data-unsubscribe-url"),u=s.getAttribute("data-login"),m=s.getAttribute("data-refresh"),p=0==s.getAttribute("data-subscribed")?"By subscribing to this content partner you are also subscribing to all of their channels, would you like to continue?":"By unsubscribing from this content partner you are also unsubscribing from all of their channels, would you like to continue?",g=s.getAttribute("data-content-partner"),h=s.getAttribute("data-is-pornhub"),f=s.getAttribute("data-hidden");1==u?(u="subscribe",a=s,o=document.querySelector("form input.intendedAction"),i=document.querySelector("form input.userId"),o&&i&&(o.value=u,i.value=a.getAttribute("data-id")),o="undefined"!=typeof defaultSignUpModal&&defaultSignUpModal,signinbox.show({subscribe:1,step:o?"signUp":"signIn",head:"subscribe"}),updateClogTracking("subscribe"),o&&userClogTracking(currentDomain,"signup-open",originPart,originUrl,clickedElement,"")):0==h&&1==g&&!0!==n?yesNoModal.show(p,function(){M(e,s,!0)}):1==f?v(modalTranslationText.cannotSubscribe):MG_Utils.ajaxCall({type:"POST",url:t,dataType:"JSON",headers:"undefined"!=typeof liuIdOrNull&&liuIdOrNull?{__m:liuIdOrNull}:{},beforeSend:function(){for(var e=0;e<r.length;e++)MG_Utils.addClass(r[e],"visuallyHidden");s.insertAdjacentHTML("beforeend",'<span class="spinner" />')},success:function(e){for(var t=s.querySelector(".spinner"),n=0;n<r.length;n++)MG_Utils.removeClass(r[n],"visuallyHidden");if(t&&s.removeChild(t),"PASS"==e.success){if(0==s.getAttribute("data-subscribed")){for(n=0;n<c.length;n++)c[n].setAttribute("data-subscribed",1);for(n=0;n<l.length;n++){MG_Utils.removeClass(l[n],"subscribe"),MG_Utils.addClass(l[n],"unsubscribe");var a=l[n].querySelector("i");a&&(MG_Utils.removeClass(a,"ph-icon-rss-feed"),MG_Utils.hasClass(a,"notChanged")||MG_Utils.addClass(a,"ph-icon-already-subscribed"))}}else{for(n=0;n<c.length;n++)c[n].setAttribute("data-subscribed",0);for(n=0;n<l.length;n++){MG_Utils.removeClass(l[n],"unsubscribe"),MG_Utils.addClass(l[n],"subscribe");var o=l[n].querySelector("i");o&&(MG_Utils.removeClass(o,"ph-icon-already-subscribed"),MG_Utils.hasClass(o,"notChanged")||MG_Utils.addClass(o,"ph-icon-rss-feed"))}}1==m&&location.reload()}else s.setAttribute("disabled",1);if(e.text_initial)for(n=0;n<d.length;n++)"buttonUnsubscribe"==e.class&&(d[n].textContent=e.text_initial,d[n].parentNode.matches(":hover"))?d[n].textContent="Unsubscribe":d[n].textContent=e.text_initial},error:function(){location.reload()}})}return{onTextAreaFocus:function(e){(e=e.target)&&"TEXTAREA"===e.tagName&&e.hasAttribute("data-val")&&e.dataset.val==e.value&&(e.value="")},onBlur:function(e){var t;(t=(t=e).target)&&"TEXTAREA"===t.tagName&&t.hasAttribute("data-val")&&""==t.value&&(t.value=t.dataset.val),n(e)},onKeyUp:function(e){n(e)},onButtonMouseEnter:function(e){e.target&&MG_Utils.hasClass(e.target,"subscribeButton")&&(e=e.target.querySelector(".buttonLabel"))&&"Subscribed"===e.textContent&&(e.textContent="Unsubscribe")},onButtonMouseLeave:function(e){e.target&&MG_Utils.hasClass(e.target,"subscribeButton")&&(e=e.target.querySelector(".buttonLabel"))&&"Unsubscribe"===e.textContent&&(e.textContent="Subscribed")},onSpanMouseOver:function(e){var t;e.target&&MG_Utils.hasClass(e.target,"js-moreAction")&&(t=e.target.querySelector(".tooltiptext"),e=e.target.querySelector(".triangle"),t&&MG_Utils.removeClass(t,"hidden"),e)&&MG_Utils.removeClass(e,"hidden")},onSpanMouseOut:function(e){var t;e.target&&MG_Utils.hasClass(e.target,"js-moreAction")&&(t=e.target.querySelector(".tooltiptext"),e=e.target.querySelector(".triangle"),t&&MG_Utils.addClass(t,"hidden"),e)&&MG_Utils.addClass(e,"hidden")},documentClick:function(e){var t,n;if((o=e).target&&("LI"===o.target.tagName&&MG_Utils.hasClass(o.target,"item")||"A"===o.target.tagName&&o.target.parentElement&&MG_Utils.hasClass(o.target.parentElement,"item")||"SPAN"===o.target.tagName&&o.target.parentElement&&o.target.parentElement.parentElement&&MG_Utils.hasClass(o.target.parentElement.parentElement,"item"))&&(t=(o=MG_Utils.hasClass(o.target,"item")?o.target:(MG_Utils.hasClass(o.target.parentElement,"item")?o.target:o.target.parentElement).parentElement).querySelectorAll(".soughtValue"),n=MG_Utils.hasClass(o,"pornstar"),a=MG_Utils.hasClass(o,"channel"),s=document.querySelector("#searchInput"),t=t.length?t[0].textContent:s?s.value:"",s={},o={to:encodeURI(o.textContent),from:encodeURI(t)},n?s.psu=o:a?s.csu=o:s.qsu=o,phubGenericFuncModule.setCookie("autocomplete_search="+JSON.stringify(s))),(t=e).target&&MG_Utils.hasClass(t.target,"js-okBtn")&&(t.preventDefault(),confirmPopUpModal.closeModal()),((n=e).target&&("BUTTON"===n.target.tagName&&n.target.parentElement&&MG_Utils.hasClass(n.target.parentElement,"subscribeButton")||"SPAN"===n.target.tagName&&n.target.parentElement&&"BUTTON"===n.target.parentElement.tagName&&n.target.parentElement.parentElement&&MG_Utils.hasClass(n.target.parentElement.parentElement,"subscribeButton")||"I"===n.target.tagName&&n.target.parentElement&&"BUTTON"===n.target.parentElement.tagName&&n.target.parentElement.parentElement&&MG_Utils.hasClass(n.target.parentElement.parentElement,"subscribeButton"))||MG_Utils.hasClass(n.target,"js_videoSubscribeButton"))&&(MG_Utils.hasClass(n.target,"js_videoSubscribeButton")?M(n,target=document.querySelector(".js_videoSubscribeButton button")):M(n)),isLogged&&(a=e).target&&(MG_Utils.hasClass(a.target,"notificationIcon")||"I"===a.target.tagName&&a.target.parentElement&&MG_Utils.hasClass(a.target.parentElement,"notificationIcon"))){var a=MG_Utils.hasClass(a.target,"notificationIcon")?a.target:a.target.parentElement,o=a.dataset?a.dataset.title:"",i=a.dataset?a.dataset.type:"",a=document.querySelector("#notificationBox"),s=document.querySelector("#notificationBox .titleContainer"),e=document.querySelector("#notificationBox #loadingDiv"),r=document.querySelectorAll("ul#modelNotificationList > li, .handle3, .track3");s&&(s.textContent=o),a&&(a.dataset.type=i),a&&a.setAttribute("type",i);for(var l=0;l<r.length;l++)r[l].style.display="none";e&&(e.style.display="block"),setTimeout(function(){insertNotificationContent(),setActiveStyle(i)},100)}},backToPHClick:function(){var e=document.querySelector("#js-backToPH"),t=e?e.dataset:"";t&&MG_Utils.ajaxCall({url:t.logout,type:"POST"}).done(function(){MG_Utils.ajaxCall({url:premiumRedirectCookieURL+"&do=delete",cache:!1,crossDomain:!0,xhrFields:{withCredentials:!0},success:function(){window.location.href=t.redirect}})})}}})(),avatarLoad=(()=>{var l=MG_Utils.hasClass(document.body,"logged-out"),c={timer:null,el:null},d={};function e(e){if(e.target&&(MG_Utils.hasClass(e.target,"avatarWrap")||MG_Utils.hasClass(e.target,"userLink")||MG_Utils.hasClass(e.target,"usernameWrap"))){var s,r=e.target,t=r.dataset,n=document.querySelectorAll(".avatarPosition");if(0==t.disablePopover){for(var a=0;a<n.length;a++)n[a].innerHTML="";(MG_Utils.hasClass(r,"avatarTrigger")&&n.length||MG_Utils.hasClass(r,"usernameWrap")&&n.length&&(o=(e=e).target,i=(e=e.currentTarget).querySelector(".avatarPosition"),!((!e.contains(o)||i.contains(o))&&e!=o))||MG_Utils.hasClass(r,"userLink"))&&(c.timer&&clearTimeout(c.timer),s=t.type,c.el=r,c.timer=setTimeout(function(){var e;d[t[s+"id"]]?l&&(e=c.el.querySelector(".avatarPosition"))&&(e.innerHTML=d[t[s+"id"]]):MG_Utils.ajaxCall({type:"POST",url:"/"+s+"/hover?id="+t[s+"id"],headers:"undefined"!=typeof liuIdOrNull&&liuIdOrNull?{__m:liuIdOrNull}:{},dataType:"text",context:this,cache:!1,success:function(e){r.querySelector(".avatarPosition").innerHTML=e;for(var t=document.querySelectorAll(".avatarPopOver"),n=0;n<t.length;n++)t[n].style.display="none";r.querySelector(".avatarPopOver")&&(r.querySelector(".avatarPopOver").style.display="block");var e=document.querySelector(".avatarPopOver"),a=e?e.getBoundingClientRect():null,a=a?a.left:0,o=e?e.offsetWidth:0,i=document.querySelector(".wrapper")?document.querySelector(".wrapper").offsetWidth:0;e&&(i<a+o?MG_Utils.addClass(e,"popOverEdge"):MG_Utils.removeClass(e,"popOverEdge")),l&&(d[c.el.dataset[s+"id"]]=c.el.querySelector(".avatarPosition")?c.el.querySelector(".avatarPosition").innerHTML:"")}})},500))}}var o,i}function t(e){var t,n,a,o;e.target&&(MG_Utils.hasClass(e.target,"avatarWrap")||MG_Utils.hasClass(e.target,"userLink")||MG_Utils.hasClass(e.target,"usernameWrap"))&&(n=(t=e.target).dataset,a="",o=document.querySelector(".avatarPopOver"),0==n.disablePopover)&&(a=t.dataset?t.dataset.type:"",l&&(d[e.target.dataset[a+"id"]]=e.target.querySelector(".avatarPosition")?e.target.querySelector(".avatarPosition").innerHTML:""),o&&(o.style.display="none"),o&&document.body.insertAdjacentElement("beforeend",o),clearTimeout(c.timer))}return{init:function(){document.body.addEventListener&&(document.body.addEventListener("mouseenter",e,!0),document.body.addEventListener("mouseleave",t,!0),document.querySelectorAll(".js-accessiblePopUp").length)&&(document.body.addEventListener("focus",e,!0),document.body.addEventListener("blur",t,!0))}}})();function showMainHubWelcomeModal(){var e=document.getElementById("mainHubWelcomeModal");e&&(mainHubWelcomeModal=new MG_Modal({content:e,className:"mainHubWelcomeModalContainer",closeButton:!0,closeDocument:!1})).openModal(function(e,t){function n(){"undefined"!=typeof MAINHUB_WELCOME_MODAL&&MG_Utils.ajaxCall({url:MAINHUB_WELCOME_MODAL.doNotShowAgainUrl,type:"POST",data:{token:MAINHUB_WELCOME_MODAL.token},success:function(e){e.success&&mainHubWelcomeModal.closeModal()}})}var a=t.querySelector(".okayButton"),t=t.querySelector(".closeMTubes");a&&a.addEventListener("click",n),t&&t.addEventListener("click",n)})}var PH_PasswordChangeModalCmp=function(){var c=this,d={passwordChangeModal:document.getElementById("passwordChangeModal"),displayNoneClass:"displayNone",charactersText:" characters",visiblitilyOn:"ph-icon-view-off",visiblitilyOff:"ph-icon-view-on"},u=null;c.init=function(){d.passwordChangeModal&&(mainPasswordChangeModal=new MG_Modal({content:d.passwordChangeModal,className:"passwordChangeModalContainer",closeButton:!1,closeDocument:!1})).openModal(function(e,t){let n=t.querySelector(".passwordChangeInWrap.stepOne .content button"),a=t.querySelector("#modal_password_old"),o=t.querySelector("#modal_originalPassword"),i=t.querySelector("#modal_newPassword"),s=t.querySelectorAll("[data-modal-visiblitily]"),r=t.querySelector(".passwordChangeBtn"),l=t.querySelector("#updatePasswordForm");"undefined"!=typeof loadCaptchaV3&&loadCaptchaV3(),n&&n.addEventListener("click",c.goToStepTwo),o&&o.addEventListener("keyup",c.onkeyupInput),i&&i.addEventListener("keyup",c.onkeyupInput),r&&r.addEventListener("click",e=>c.submitPasswordChange(e,l)),a&&a.addEventListener("keyup",c.onkeyupInput),s&&s.forEach(function(e){e.addEventListener("click",c.triggerVisibility)})})},c.triggerVisibility=function(e){var e=e.target||e.srcElement,t=document.getElementById(e.dataset.modalVisiblitily);e.classList.contains(d.visiblitilyOn)?(e.classList.remove(d.visiblitilyOn),e.classList.add(d.visiblitilyOff),t.type="text"):(e.classList.add(d.visiblitilyOn),e.classList.remove(d.visiblitilyOff),t.type="password")},c.goToStepTwo=function(e){var t=document.querySelector("#modalWrapMTubes.passwordChangeModalContainer .passwordChangeWrapper .passwordChangeInWrap.stepOne"),n=document.querySelector("#modalWrapMTubes.passwordChangeModalContainer .passwordChangeWrapper .passwordChangeInWrap.stepTwo");t.classList.contains(d.displayNoneClass)||t.classList.add(d.displayNoneClass),n.classList.contains(d.displayNoneClass)&&n.classList.remove(d.displayNoneClass)},c.serializeData=function(e){for(var t=document.querySelectorAll(e),n={},a=0;a<t.length;a++)n[t[a].name]=t[a].value;return n},c.createPopUp=function(){let e=document.createElement("div");e.classList.add("passwordChangedBanner"),e.innerHTML='<p><i class="ph-icon-check"></i>'+PASSWORD_CHANGE.passwordChanged+'</p><span class="closePWbanner"><i class="ph-icon-cross"></i></span>',document.body.appendChild(e),setTimeout(function(){e.remove()},5e3)},c.onkeyupInput=function(e){let t=e.target||e.srcElement,n=document.querySelector('[data-for="'+t.id+'"]'),a=document.querySelector(".stepTwo #modal_password_old"),o=document.querySelector(".stepTwo #modal_originalPassword"),i=document.querySelector(".stepTwo #modal_newPassword"),s=document.querySelector(".stepTwo #strengthValue"),r=document.querySelector(".stepTwo #js-passwordError"),l=document.querySelector(".stepTwo #passwordChangeSubmit");clearTimeout(u),n&&(0<t.value.length?n.innerHTML=t.value.length+d.charactersText:n.innerHTML=""),o.value?(MG_Utils.addClass(l,"disabled"),l.setAttribute("disabled","disabled"),u=setTimeout(function(){MG_Utils.ajaxCall({url:PASSWORD_CHANGE.checkPasswordUrl,data:{old_password:a.value,password:o.value,password_confirmation:i.value,token:token},type:"POST",success:function(e){var t;s.removeAttribute("class"),s&&(s.innerHTML=e.strengthMessage),1===e.strengthScore?MG_Utils.addClass(s,"strWeak"):2===e.strengthScore?MG_Utils.addClass(s,"strFair"):3===e.strengthScore?MG_Utils.addClass(s,"strStrong"):4===e.strengthScore&&MG_Utils.addClass(s,"strVeryStrong"),e.error||o.value!==i.value?(t=o.value.length&&i.value.length&&void 0!==PASSWORD_CHANGE.mismatchPasswords,e=e.error||(t?PASSWORD_CHANGE.mismatchPasswords:""),r&&(r.innerHTML=e)):(r&&(r.innerHTML=""),MG_Utils.removeClass(l,"disabled"),l.removeAttribute("disabled"))}})},500)):(s&&(s.innerHTML=""),r&&(r.innerHTML=""))},c.submitPasswordChange=function(t,n){let a=n.querySelector("#captcha_token"),o=n.querySelector("#captcha_type");"score"===o.value?recaptchaUtils.executeCaptchaV3(function(e){a.value=e,MG_Utils.ajaxCall({url:t.target.getAttribute("data-url"),data:c.serializeData('#updatePasswordForm input:not([type="button"])'),type:"POST",success:function(e){e.showCaptchav2?(void 0!==recaptchaUtils.unloadCaptchaV3&&recaptchaUtils.unloadCaptchaV3(),void 0!==recaptchaUtils.loadCaptchaV2&&recaptchaUtils.loadCaptchaV2(),MG_Utils.addClass(passwordChangeSubmit,"disabled"),passwordChangeSubmit.setAttribute("disabled","disabled"),recaptchaUtils.renderCaptchaV2(n.querySelector(".g-recaptcha"),function(e){a.value=e,o.value="checkbox",MG_Utils.removeClass(passwordChangeSubmit,"disabled"),passwordChangeSubmit.removeAttribute("disabled")},function(e){console.log(e)})):(mainPasswordChangeModal.closeModal(),c.createPopUp())}})}):MG_Utils.ajaxCall({url:t.target.getAttribute("data-url"),data:c.serializeData('#updatePasswordForm input:not([type="button"])'),type:"POST",success:function(e){!1===e.success?(recaptchaUtils.resetRecaptcha(),MG_Utils.addClass(passwordChangeSubmit,"disabled"),passwordChangeSubmit.setAttribute("disabled","disabled")):(mainPasswordChangeModal.closeModal(),c.createPopUp())}})}},NavigationManager=(()=>{var e=null;function t(){this.navigationStack=[],this.currentPageType=null,this.maxStackLength=10,this.init()}return t.prototype={init:function(){var t=this;this.detectPageType(),this.navigationStack=[{url:window.location.href,path:window.location.pathname,type:this.currentPageType,timestamp:Date.now()}],"undefined"!=typeof MG_Utils&&MG_Utils.hasClass(document.documentElement,"ios")&&window.addEventListener("pageshow",function(e){e.persisted&&t.handlePageShow()})},detectPageType:function(){this.currentPageType="page"},pushCurrentPage:function(){var e={url:window.location.href,path:window.location.pathname,type:this.currentPageType,timestamp:Date.now()};0<this.navigationStack.length&&this.navigationStack[this.navigationStack.length-1].url===e.url||(this.navigationStack.push(e),this.cleanUrlParameters(),this.navigationStack.length>this.maxStackLength&&this.navigationStack.shift())},cleanUrlParameters:function(){var e=new URL(window.location.href),t=!1;e.searchParams.has("anchoredTab")&&(e.searchParams.delete("anchoredTab"),t=!0),e.searchParams.has("toast")&&(e.searchParams.delete("toast"),t=!0),t&&window.history.replaceState({},"",e)},syncStackWithCurrentUrl:function(){for(var e=window.location.href,t=-1,n=0;n<this.navigationStack.length;n++)if(this.navigationStack[n].url===e){t=n;break}-1===t?this.pushCurrentPage():this.navigationStack=this.navigationStack.slice(0,t+1)},handlePageShow:function(){this.detectPageType(),this.pushCurrentPage()},handlePageSpecificNavigation:function(){this.updateBackButtonBehavior()},updateBackButtonBehavior:function(){for(var e=document.querySelectorAll(".js-backButton, .mobile-header-back, .header-back, .back-link"),t=this,n=0;n<e.length;n++){var a=e[n];a.hasAttribute("data-navigation-handled")||(a.addEventListener("click",function(e){e.preventDefault(),t.navigateBack()}),a.setAttribute("data-navigation-handled","true"))}},navigateBack:function(){1<this.navigationStack.length&&this.navigationStack.pop(),window.history.back()},navigateToPage:function(e){this.pushCurrentPage(),window.location.href=e},resetNavigation:function(){this.navigationStack=[],this.detectPageType(),this.pushCurrentPage()}},{getInstance:function(){return e=e||new t}}})();function loadJS(e,t){MG_Utils.ajaxCall({url:e,dataType:"script"}).done(function(){"function"==typeof t&&t()})}NavigationManager.getInstance(),MG_Utils.domReady(function(){NavigationManager.getInstance().cleanUrlParameters();try{(passwordChangeModal=new PH_PasswordChangeModalCmp).init()}catch(e){console.log(e)}showMainHubWelcomeModal(),document.addEventListener("click",eventsModule.documentClick);for(var t=document.querySelectorAll(".js-trendSearch"),n=(document.querySelectorAll("ul#curentItemCategory li"),document.querySelector(".nf-categories-sidebar .sidebar_wrapper.categoryMenu")),a=document.querySelectorAll(".js-moreAction"),o=document.querySelectorAll("#languages li a, .languages li a"),i=document.querySelector("#js-backToPH"),s=document.querySelector(".js_premiumLogOut"),r=0;r<t.length;r++)t[r].addEventListener("click",function(){phubGenericFuncModule.setCookie("trending_search= "+encodeURI(this.textContent))});avatarLoad.init(),document.body.addEventListener&&(document.body.addEventListener("focus",eventsModule.onTextAreaFocus,!0),document.body.addEventListener("blur",eventsModule.onBlur,!0),document.body.addEventListener("keyup",eventsModule.onKeyUp,!0),document.body.addEventListener("mouseenter",eventsModule.onButtonMouseEnter,!0),document.body.addEventListener("mouseleave",eventsModule.onButtonMouseLeave,!0),document.body.addEventListener("mouseover",eventsModule.onSpanMouseOver,!0),document.body.addEventListener("mouseout",eventsModule.onSpanMouseOut,!0)),n&&MG_Utils.addClass(n,"domReady"),isLarge&&MG_Utils.addClass(document.querySelector("html"),"largeLayout");for(r=0;r<a.length;r++)a[r].addEventListener("click",function(e){e.target&&e.target.parentElement&&(e=e.target.parentElement.querySelector("#profileBlockReport .blockAndReportSubscribers"))&&MG_Utils.toggleClass(e,"hidden")});for(r=0;r<o.length;r++)o[r].addEventListener("click",function(){if(setCookieAdvanced("lang",this.dataset.lang,30,"/",this.dataset.root),location.hash!=this.hash)return location.href=(-1==this.href.indexOf("#")?this.href:this.href.substring(0,this.href.indexOf("#")))+location.hash,!1});i&&i.addEventListener("click",eventsModule.backToPHClick),s&&s.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href");MG_Utils.ajaxCall({url:premiumRedirectCookieURL+"&do=delete",cache:!1,crossDomain:!0,xhrFields:{withCredentials:!0},success:function(){document.location.href=t}})}),document.getElementById("js-networkBar")&&setTimeout(function(){var e=document.getElementById("js-networkBar").querySelector(".languageDropdown");e&&(e=e.querySelectorAll("li"))&&[].forEach.call(e,function(t){t.addEventListener("click",function(){var e=MG_Utils.getData(t,"lang");setCookieAdvanced("lang",e,30,"/",removeSubdomain(window.location.host))})})},100),isLogged&&document.querySelector("#notificationBox")?.addEventListener("click",t=>{var n,a=t.target;"LABEL"===a.tagName&&a.closest(".subscribeConfirm")&&(a=e.currentTarget.parentElement.querySelector("input"),n=e.currentTarget.querySelector(".fakeCheckBox"),a.checked?MG_Utils.removeClass(n,"checked"):MG_Utils.addClass(n,"checked")),t.stopPropagation()});let l=document.getElementById("mainHubToastMessage"),c=(l&&MG_Utils.addClass(l,"showToast"),document.getElementById("limitSpamToastMessage")),d=(c&&MG_Utils.addClass(c,"showToast"),document.addEventListener("click",function(a){if(a.target&&MG_Utils.hasClass(a.target,"js-closeToast")){let e=a.target.dataset,t=e?a.target.dataset.url:null,n=e?a.target.dataset.flag:null;t&&n?MG_Utils.ajaxCall({url:t,type:"POST",data:{dismissal_source:n},success:function(e){e&&e.success&&("51"==n?(l&&MG_Utils.removeClass(l,"showToast"),l&&l.remove()):"52"==n&&((e=document.getElementById("socialMediaToastMessage"))&&MG_Utils.removeClass(e,"showToast"),e&&e.remove(),l)&&MG_Utils.removeClass(l,"shiftToastUp"))}}):(c&&MG_Utils.removeClass(c,"showToast"),c&&c.remove())}}),document.getElementById("leftMenu")),u=document.getElementById("leftMenuScroll"),m=document.querySelector(".menuFadeOutOverly"),p=document.querySelectorAll(".js-menuPillBtn");"undefined"!=typeof MG_Scroll&&u&&(u.style.maxHeight=window.innerHeight-135+"px",MG_Scroll.init({width:"auto",selector:document.querySelectorAll("#leftMenuScroll"),height:"100%",color:"#FF9000",size:"4px",alwaysVisible:!0,railVisible:!0,railOpacity:1,railColor:"transparent",distance:"5px",opacity:1,railClass:"track3",barClass:"handle3 js_hamburgerMenuScroll",wrapperClass:"wrapper3",wheelStep:5,enLargeOnHover:!0,enLargedSize:"8px"}));var g=document.querySelector(".js_hamburgerMenuScroll"),h=!1;if(document.addEventListener("mousedown",function(e){h=d&&d.contains(e.target)}),document.addEventListener("click",function(e){var e=e.target,t=e&&e.id;!e||"desktopNavigation"===t||MG_Utils.hasClass(e,"menuWrapper")||MG_Utils.hasClass(e,"menuLink")||MG_Utils.hasClass(e,"subMenuTrigger")||MG_Utils.hasClass(e,"subMenuMainLink")||MG_Utils.hasClass(e,"js-menuAnalytics")||MG_Utils.hasClass(e,"menuFadeOutOverly")||MG_Utils.hasClass(e,"js_chevronRight")||h?t&&"desktopNavigation"===t&&d&&(MG_Utils.toggleClass(d,"active"),userClogTracking(currentDomain,"ham-menu",originPart,originUrl,"desktop-ham-menu","")):d&&MG_Utils.removeClass(d,"active"),!u||u.scrollTop+2+u.clientHeight>=u.scrollHeight?m&&MG_Utils.addClass(m,"hidden"):m&&MG_Utils.removeClass(m,"hidden")}),p&&p.forEach(e=>{e.addEventListener("click",()=>{p.forEach(e=>e.classList.remove("active")),e.classList.add("active")})}),u&&MG_Utils.addEventHandler(u,"scroll",function(){u.scrollTop+2+u.clientHeight>=u.scrollHeight?MG_Utils.addClass(m,"hidden"):MG_Utils.removeClass(m,"hidden")}),m&&MG_Utils.addEventHandler(m,"click",function(){var e;u&&g&&(e=u.clientHeight-g.offsetHeight,u.scrollTo({top:u.scrollHeight,behavior:"smooth"}),MG_Utils.addClass(m,"hidden"),g.style.top=e+"px")}),document.addEventListener("click",function(e){var a=e.target,e=e.target&&e.target.parentNode;if(a&&MG_Utils.hasClass(a,"subMenuTrigger")||e&&MG_Utils.hasClass(e,"subMenuTrigger")||MG_Utils.hasClass(a,"js-pornstarsAndModels")||MG_Utils.hasClass(a,"js-topCategories")||MG_Utils.hasClass(a,"js-community")){let e=MG_Utils.closest(a,".subMenuTriggerwithLink"),t=e&&e.nextElementSibling,n=e&&e.querySelector(".subMenuTrigger");t&&e&&(MG_Utils.hasClass(t,"active")?(MG_Utils.removeClass(t,"active"),MG_Utils.removeClass(n,"ph-icon-arrow-drop-up"),MG_Utils.hasClass(e,"activeSub")&&t.addEventListener("transitionend",function(){MG_Utils.removeClass(e,"activeSub")}),MG_Utils.addClass(n,"ph-icon-arrow-drop-down")):(MG_Utils.addClass(t,"active"),MG_Utils.removeClass(n,"ph-icon-arrow-drop-down"),MG_Utils.addClass(e,"activeSub"),t.addEventListener("transitionend",function(){MG_Utils.hasClass(e,"activeSub")||MG_Utils.addClass(e,"activeSub")}),MG_Utils.addClass(n,"ph-icon-arrow-drop-up")))}}),"undefined"!=typeof isUpdatedUserMenu&&isUpdatedUserMenu){let e=document.getElementById("profileMenuDropdownScroll"),t=document.querySelector("#profileMenuWrapper .dropdownTrigger");e&&(e.style.maxHeight=window.innerHeight-210+"px"),MG_Scroll.init({width:"auto",selector:document.querySelectorAll("#profileMenuDropdownScroll"),height:"100%",color:"#FF9000",size:"5px",alwaysVisible:!0,railVisible:!0,railOpacity:1,railColor:"#151515",wheelScrollAllowClass:"js_WheelScrollAllow",distance:"5px",opacity:1,railClass:"track3",barClass:"handle3 js_userMenuScroll",wrapperClass:"scrollContentWrapper",wheelStep:5,enLargeOnHover:!0,enLargedSize:"8px"}),window.addEventListener("resize",function(){e&&(e.style.maxHeight=window.innerHeight-210+"px")}),t&&t.addEventListener("click",function(){MG_Scroll.showDefault()})}let f=document.getElementById("recommendSwitch"),v=(f&&window.addEventListener("cookieConsentUpdated",e=>{"3"===e?.detail?.consent&&(f.removeAttribute("disabled"),f?.labels.forEach(e=>{e.classList.remove("disabled")}))}),f&&f.addEventListener("change",function(){let e,t=new XMLHttpRequest;this.disabled=!0,e=this.checked?this.dataset.showUrl:this.dataset.hideUrl,t.open("GET",e),"undefined"!=typeof liuIdOrNull&&liuIdOrNull&&t.setRequestHeader("__m",liuIdOrNull),t.send(),setTimeout(function(){location.replace(location.href)},1e3)}),document.getElementById("changeLegalTextLang")),M=document.getElementById("langNameSpan"),y=(v&&v.addEventListener("change",function(e){var t=this.selectedOptions[0];M&&(M.innerHTML=t.text),MG_Utils.setCookie("legalTextLangId",parseInt(t.value)),window.location.reload()}.bind(v)),document.querySelectorAll("[data-menu-clog]").forEach(function(t){t.addEventListener("click",function(){var e=t.getAttribute("data-menu-clog");userClogTracking(currentDomain,e,originPart,originUrl,"ham-nav-link","")})}),document.querySelector(".usernameTooltip"));n=document.querySelector(".usernameTooltip-closeBtn");n&&n.addEventListener("click",function(){y&&(y.className=y.className+"-hidden")}),("undefined"==typeof liuIdOrNull||null===liuIdOrNull)&&(document.querySelectorAll(".js-headerUploadBtn").forEach(n=>{n.addEventListener("pointerdown",e=>{var t=n.querySelector("i");t&&(t.classList.contains("ph-icon-upload-image")?(signinbox.show({step:"signUp"}),updateClogTracking("upload-photo"),userClogTracking(currentDomain,"signup-open",originPart,originUrl,clickedElement,"")):(t.classList.contains("ph-icon-upload-video")||t.classList.contains("ph-icon-cloud-upload"))&&(signinbox.show({step:"signUp"}),updateClogTracking("upload-video"),userClogTracking(currentDomain,"signup-open",originPart,originUrl,clickedElement,"")))})}),i=document.getElementById("bSendMessage"))&&i.addEventListener("click",()=>{"undefined"!=typeof updateClogTracking&&updateClogTracking("message"),userClogTracking(currentDomain,"signup-open",originPart,originUrl,clickedElement,"")});let C="closeMainhubRedirectBanner",S=document.querySelector(".js-mainhubRedirectBanner");s=document.querySelector(".js-closeMainhubRedirectBanner");function b(...e){"function"==typeof userClogTracking?userClogTracking(...e):setTimeout(()=>{"function"==typeof userClogTracking&&userClogTracking(...e)},500)}!sessionStorage.getItem(C)&&S&&(b(currentDomain,"mainhub-banner",originPart,originUrl,"",""),S)&&S.classList.remove("displayNone"),s&&s.addEventListener("click",function(e){e.stopPropagation(),S&&S.classList.add("displayNone"),sessionStorage.setItem(C,"true"),b(currentDomain,"mainhub-banner",originPart,originUrl,"close")}),sessionStorage.getItem(C)||S&&S.classList.remove("displayNone")}),(()=>{var i,s,r,e;s=document.querySelector(".js-elInViewPort"),r=MG_Utils.debounce(function(){var e,t,n=0,a=document.querySelectorAll(".js-whenInView"),o=a.length;if(e=(e=s).getBoundingClientRect(),t=document.documentElement,0<=e.bottom&&0<=e.right&&e.top<=(window.innerHeight||t.clientHeight)&&e.left<=(window.innerWidth||t.clientWidth))if(i)window.removeEventListener("scroll",r);else if(a&&o){for(;n<o;n++)a[n].setAttribute("src",a[n].getAttribute("data-image"));i=!0}},125),{init:function(){s&&window.addEventListener("scroll",r)}}.init(),(e=document.querySelector(".relatedCategoriesWrapper"))&&0==e.querySelector(".nf-categories").querySelectorAll(".show").length&&MG_Utils.addClass(e,"hidden")})(),(()=>{if("undefined"!=typeof MPP_EXCLUSIVE_TERMS)try{var e=document.getElementById("modelMPPExclusive"),c=new MG_Modal({content:e,className:"modelMPPExclusiveModal",closeButton:!1,closeDocument:!1,maxWidth:"500px",minWidth:"500px"});c.openModal(function(){var e,t,n,a,o,i,s,r,l=document.getElementById("modalWrapMTubes");l&&(e=l.querySelector(".modelMPPForm"),t=l.querySelector(".modelMPPSubmit"),n=l.querySelector(".js-modelMPPInputIntial"),a=l.querySelector(".js-modelMPPError"),o=l.querySelector(".js-modelMPPErrorMessage"),i={errors:[],checked:!1},s=function(e){if(i.errors.push(e),a&&o)return MG_Utils.removeClass(a,"isHidden"),i.errors.forEach(function(e){o.innerHTML=e})},r=function(){a&&o&&(MG_Utils.addClass(a,"isHidden"),o.innerHTML="")},document.addEventListener("change",function(e){MG_Utils.hasClass(e.target,"js-modelMPPInput")&&(r(),i.checked=!0)}),document.addEventListener("click",function(e){if(MG_Utils.hasClass(e.target,"modelMPPSubmit"))return e.preventDefault(),e=l.querySelector(".js-modelMPPInput:checked"),i.checked&&e?n&&""!==n.value?3<=n.value.length?s(MPP_EXCLUSIVE_TERMS.errorLimit):void MG_Utils.ajaxCall({url:MPP_EXCLUSIVE_TERMS.endPoint,data:{exclusive:e.value,initials:n.value,token:MPP_EXCLUSIVE_TERMS.token||("undefined"!=typeof token&&token?token:"")},type:"POST",success:function(e){if(e&&(1===e.success||!0===e.success))return c.closeModal();3===(e=e?e.message:null).code?s(MPP_EXCLUSIVE_TERMS.errorAlpha):s(e&&e.text?e.text:"Error")}}):s(MPP_EXCLUSIVE_TERMS.errorIntials):s(MPP_EXCLUSIVE_TERMS.errorChecked)}),document.addEventListener("focus",function(e){MG_Utils.hasClass(e.target,"js-modelMPPInputIntial")&&r()},!0),n.addEventListener("keyup",function(){13===event.keyCode&&t.click()}),e.addEventListener("submit",function(e){e.preventDefault()}))})}catch(e){console.log("MPP Eclusive: ",e)}})();var resetPasswordForm=document.getElementById("resetPasswordForm"),pwdInput=resetPasswordForm&&resetPasswordForm.elements.password,pwdInputAgain=resetPasswordForm&&resetPasswordForm.elements.passwordAgain,matchError=resetPasswordForm&&resetPasswordForm.querySelector(".matchError"),phCustomEvent=(resetPasswordForm&&resetPasswordForm.addEventListener("submit",function(e){var t;e.preventDefault(),matchError&&(matchError.innerHTML=""),pwdInput&&pwdInputAgain&&matchError&&"undefined"!=typeof PASSWORD_RESET&&(e=pwdInput.value,t=pwdInputAgain.value,grecaptcha&&grecaptcha.enterprise.getResponse().length?(e||t)&&(e.length<6?matchError.innerHTML=PASSWORD_RESET.passwordShort:/([a-zA-Z0-9_-])\1\1/.test(e)?matchError.innerHTML=PASSWORD_RESET.passwordInvalid:PASSWORD_RESET.userName&&e.toLowerCase()==PASSWORD_RESET.userName.toLowerCase()?matchError.innerHTML=PASSWORD_RESET.passwordUsername:e!==t?matchError.innerHTML=PASSWORD_RESET.passwordMatch:(matchError.innerHTML="",this.submit())):matchError.innerHTML=PASSWORD_RESET.captcha)}),(()=>{var a={};return{dispatch:function(t,n){a.hasOwnProperty(t)&&[].forEach.call(a[t],function(e){try{e.callback(t,n)}catch(e){console.log("Error dispatching event ",e)}})},subscribe:function(e,t){t={callback:t};a[e]?a[e].push(t):a[e]=[t]},unsubscribe:function(e,t){for(var n=a[e].length;n--;)a[e].splice(n,1),t&&t(e)}}})()),promotionalContentHandler=(Vue.customElement("notifications-list",{props:{countReceiverId:{type:String}},data(){return{list:[],dataLoaded:!1,newNotificationsCount:0}},computed:{shortList(){var e=7<this.newNotificationsCount?7:this.newNotificationsCount;return this.list.slice(0,e)},translation:function(){return"undefined"!=typeof WiDGET_NOTIFICATION_ICONS?WiDGET_NOTIFICATION_ICONS.translation:{}},notificationsPageUrl:function(){return"undefined"!=typeof WiDGET_NOTIFICATION_ICONS?WiDGET_NOTIFICATION_ICONS.notificationsPageUrl:{}},spinnerImgUrl:function(){return"undefined"!=typeof WiDGET_NOTIFICATION_ICONS?WiDGET_NOTIFICATION_ICONS.ajaxLoader:""}},methods:{async loadNotifications(){var e;this.dataLoaded=!1,"undefined"!=typeof notificationClient&&(this.list=await notificationClient.getNotifications(),this.dataLoaded=!0,e=await notificationClient.getCount(),this.newNotificationsCount=e,phCustomEvent.dispatch("new-notification-count",{countReceiverId:this.countReceiverId,count:e}))},initCustomScroll(e){MG_Scroll.init({selector:e,height:"360px",color:"#FF9000",size:"4px",alwaysVisible:!0,railVisible:!0,railOpacity:1,railColor:"transparent",distance:"5px",opacity:1,railClass:"track3",barClass:"handle3",wrapperClass:"wrapper3",enLargeOnHover:!0,enLargedSize:"8px"})},resetNotificationCount(){phCustomEvent.dispatch("new-notification-count",{countReceiverId:this.countReceiverId,count:0}),this.newNotificationCount=0,this.list=[]}},mounted(){let n=this;this.loadNotifications(),"undefined"!=typeof notificationClient&&(notificationClient.onNewNotification(async({notification:e,count:t})=>{n.list.unshift(e),n.newNotificationsCount=t,phCustomEvent.dispatch("new-notification-count",{countReceiverId:n.countReceiverId,count:t})}),document.querySelector(".js-notificationsLink").addEventListener("click",this.resetNotificationCount)),this.initCustomScroll(this.$refs.notificationsDrawer)},template:`
            <div ref="notificationsDrawer" class="notifications-list">
                <div id="notificationsLoader" v-if="!dataLoaded">
                    <img :src='spinnerImgUrl' width='32' height='32' :alt="translation.loadingTxt">
                </div>
                <template v-else>
                    <template>
                        <div class="noResultsText" v-if="!shortList.length">{{ translation.noNewNotifications }}</div>
                        <template v-else  v-for="item in shortList">
                            <notification-item short :item="item" :key="item.timestamp"></notification-item>
                        </template>
                    </template>
                </template>
                    <div class="notifications-drawer-footer" v-if="newNotificationsCount > 7">
                    <a :href="notificationsPageUrl" class="btn-more" @click="resetNotificationCount">
                    {{translation.moreNotificationsExist}}
                    </a>
                </div>
            </div>`}),Vue.component("notification-item",{props:["item"],data(){return{timeAgo:" ",interval:1e3,timer:null}},methods:{timeSince(e){var t=86400,e=Math.floor((Date.now()-e)/1e3);if(e<10)return"just now";if(e<60)return"less than a minute ago";this.interval=6e4;t=(e<3600?[Math.floor(e/60),"minute"]:e<t&&[Math.floor(e/3600),"hour"])||(e<2592e3?[Math.floor(e/t),"day"]:e<31536e3&&[Math.floor(e/2592e3),"month"])||[Math.floor(e/31536e3),"year"];return t[0]+" "+t[1]+(1===t[0]?"":"s")+" ago"},capitalizeFirstLetter(e=""){return e.charAt(0).toUpperCase()+e.slice(1)},getNotificationSourceImg:function(e){return e.AVATAR_URI}},mounted:function(){let e=()=>this.timeAgo=this.timeSince(new Date(this.item.timestamp));this.item.timestamp&&(this.timer=setInterval(()=>{e()},this.interval)),e()},beforeUnmount:function(){clearInterval(this.timer)},template:`
                <div class="single-notification">
                    <div class="notification-source" :class="{aggregated:item.isAggregated}">
                        <img :src="getNotificationSourceImg(item)" alt="">
                        <div class="notification-source-icon">
                            <v-svg-icon :name="'notification'+capitalizeFirstLetter(item.type)" :width="item.isAggregated?24:10" :height="item.isAggregated?24:10"></v-svg-icon>
                        </div>
                    </div>
                    <div class="notification-info-holder">
                        <div class="notification-text" v-html="item.text"></div>
                    <div class="notification-time">{{ timeAgo }}</div>
                    </div>
                </div>
        `}),Vue.customElement("v-drawer",{props:{badge:{type:Number,default:0},id:{type:String,default:""},redirect:{type:String,default:""}},data(){return{isOpen:!1,count:0}},watch:{badge(e){this.count=e}},methods:{toggle(){this.redirect?(this.count=0,window.location=this.redirect):(this.isOpen=!this.isOpen,this.isOpen&&(this.$emit("open"),phCustomEvent.dispatch("open-drawer",{count:this.count,parentId:this.id})))},hide(){this.isOpen=!1}},mounted(){let a=this;document.addEventListener("click",function(e){e.target.closest("#"+a.$el.id)||a.hide()}),phCustomEvent.subscribe("new-notification-count",function(e,{countReceiverId:t,count:n}){t===a.id&&0===(a.count=n)&&a.hide()})},template:`
            <div class="drawer-container" :id="id">
                <div :class="['drawer-button', {active: isOpen}]" @click="toggle">
                    <slot name="icon"></slot>
                    <span v-if="count" class="drawer-badge">{{ count }}</span>
                </div>
                <div :class="['drawer-content', {open: isOpen}]" v-show="isOpen">
                    <slot></slot>
                </div>
            </div>
        `}),(()=>{var t,e=document.getElementById("loginModal2fa");function n(){let e=document.getElementById("loginModal2fa").dataset.cookiedomain;0===e.indexOf("www.")?e=e.replace("www.","."):0!==e.indexOf(".")&&(e="."+e),"undefined"!=typeof COOKIE_DOMAIN&&(e=COOKIE_DOMAIN),setCookieAdvanced("email2faModal",1,-1,"/",e)}e&&((t=new MG_Modal({content:e,className:"loginModal2fa",closeButton:!1,closeDocument:!1})).openModal(),(e=document.querySelectorAll(".js-close2faModal"))[0]&&MG_Utils.addEventHandler(e[0],"click",function(e){e.preventDefault(),n(),t.closeModal()}),e=document.querySelectorAll(".loginModal2fa .buttonBase"))&&e.forEach(e=>{e.addEventListener("click",n)})})(),{characterCounter:function(e,t,n){e&&t&&n&&(t=document.querySelector(t),n=(n=document.querySelector(n))&&n.querySelector("span"),t=t&&t.value.length,n)&&(n.innerHTML=e-t)},restoreCounter:function(e,t){e&&t&&(t=(t=document.querySelector(t))&&t.querySelector("span"))&&(t.innerHTML=e)},removeInvalidCharacters:function(e){var t=document.querySelector(e);if(t)for(var n=t.value,a=0;a<n.length;a++)(n.charCodeAt(a)<=31||60==n.charCodeAt(a)||62==n.charCodeAt(a))&&(t.value=n.replace(n[a],""))}});async function sendValueToEndpoint(e){try{var t=await fetch("/user/setContentPreferenceTastes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taste:e})});return t.ok?!0:(console.log("Server returned "+t.status),!1)}catch(e){return console.log("Fetch failed:",e),!1}}function handleTasteSelectorButtonClick(e){e.preventDefault();var t=e.currentTarget.dataset.menuTaste;let n=e.currentTarget.getAttribute("href"),a=setTimeout(()=>{window.location.href=n},1e3);sendValueToEndpoint(t).then(()=>{clearTimeout(a),window.location.href=n}).catch(()=>{clearTimeout(a),window.location.href=n})}(()=>{var e=document.getElementById("mppUserLoginUpdateTemp");if(e&&new MG_Modal({content:e,className:"importantLoginUpdateModal",closeButton:!1,closeDocument:!1}).openModal(),"undefined"!=typeof premiumFlag&&"0"===premiumFlag){let e=document.querySelector(".js_joinNowCPPBtn");e&&e.dataset?.channel&&e.addEventListener("click",function(){window.idsync&&window.idsync.setProduct(576).send_event({name:"click",value:"cpp join now "+e.dataset.channel,type:"inquiry"})})}})(),(()=>{var e=document.getElementById("userLoginUpdateTemp");if(e){let u=new MG_Modal({content:e,className:"userLoginUpdateModal",closeButton:!1,closeDocument:!1});u.openModal(function(e,n){let a=n.querySelector("h1"),o=n.querySelector(".modal-body .step1"),i=n.querySelector(".modal-body .step2"),t=n.querySelector(".reviewBtn"),s=n.querySelector(".confirmBtn"),r=n.querySelector("#confirmEmailInput"),l=document.getElementById("toastMessageConfirmation"),c=l?l.querySelector(".closeBtn"):null;function d(e){var t;e.target&&MG_Utils.hasClass(e.target,"reviewBtn")?(t=n.querySelector(".progressBarRight"),MG_Utils.addClass(e.target,"hidden"),MG_Utils.removeClass(s,"hidden"),a&&(a.textContent=USER_UPDATE_TEXT.mainModalTitle_step2),t&&MG_Utils.addClass(t,"active"),o&&MG_Utils.addClass(o,"hidden"),i&&MG_Utils.removeClass(i,"hidden")):e.target&&MG_Utils.hasClass(e.target,"confirmBtn")&&(t=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\]|(\[ipv6:)((?:[A-F0-9]{1,4}:){4,}[A-F0-9]{1,4})])/gim,e=n.querySelector(".emailInputErr"),t.test(r.value)?(MG_Utils.removeClass(r,"errorInput"),e&&MG_Utils.addClass(e,"hidden"),"undefined"!=typeof confirmNewEmailUrl&&MG_Utils.ajaxCall({url:confirmNewEmailUrl,type:"POST",data:{token:token,email:r.value},headers:"undefined"!=typeof liuIdOrNull&&liuIdOrNull?{__m:liuIdOrNull}:{},success:function(e){var t=l?l.querySelector("i"):null,n=l?l.querySelector("span.text"):null;e&&e.success?(t&&MG_Utils.addClass(t,"ph-icon-done"),t&&MG_Utils.removeClass(t,"ph-icon-error"),n&&e.message&&(n.innerHTML=e.message),l&&MG_Utils.addClass(l,"show"),u&&u.closeModal()):e&&!e.success&&(t&&MG_Utils.removeClass(t,"ph-icon-done"),t&&MG_Utils.addClass(t,"ph-icon-error"),n&&e.message&&(n.innerHTML=e.message),l&&MG_Utils.addClass(l,"show"),u)&&u.closeModal()}})):(e&&MG_Utils.removeClass(e,"hidden"),e&&(e.textContent=USER_UPDATE_TEXT.invalid),MG_Utils.addClass(r,"errorInput")))}t&&t.addEventListener("click",d),s&&s.addEventListener("click",d),r&&r.addEventListener("keyup",e=>{e=e.target;e.value!==e.dataset.original?s&&(s.innerText=USER_UPDATE_TEXT.confirmNewEmail):s&&(s.innerText=USER_UPDATE_TEXT.confirm)}),c&&c.addEventListener("click",()=>{l&&MG_Utils.removeClass(l,"show")})})}})();let prefsTasteCookieVal="undefined"==typeof currentContentTastePreference?"":currentContentTastePreference,handlePrefsTasteSelectorButtonClick=e=>{switch(e.currentTarget.dataset.taste){case"straight":prefsTasteCookieVal="s";break;case"gay":prefsTasteCookieVal="g";break;case"lesbian":prefsTasteCookieVal="l";break;case"clear":prefsTasteCookieVal="s"}};function initializeTasteSelectorButtons(){var e=document.querySelectorAll("[data-menu-taste]"),t=document.querySelectorAll(".js-prefsTasteMenu"),n=document.querySelector(".js-prefsSaveBtn");e.forEach(e=>{e.addEventListener("click",handleTasteSelectorButtonClick)}),t&&t.forEach(e=>{e.addEventListener("click",handlePrefsTasteSelectorButtonClick)}),n&&n.addEventListener("click",function(){void 0!==prefsTasteCookieVal&&menuTasteCookie(prefsTasteCookieVal)})}let initCompilationModal=()=>{var e=document.querySelectorAll(".js-compilationTrigger");e.length&&e.forEach(e=>{e.addEventListener("click",()=>{var e,t,n=document.getElementById("compilationInit")?.dataset?.controllerUrl;n&&(e=()=>{if(void 0!==window.CompilationModalInit)try{(new CompilationModalInit).open()}catch(e){console.warn("Failed to init CompilationModalInit",e)}},document.querySelector(`script[src="${n}"]`)?e():((t=document.createElement("script")).src=n,t.onload=e,document.head.appendChild(t)))})})},videoSubscriptionsLinks=((()=>{initializeTasteSelectorButtons(),initCompilationModal();var e=document.getElementById("pendingCompilationClose");e&&e.addEventListener("click",function(){var e=document.querySelector(".pendingCompilation");e&&(e.style.display="none")}),(e=(e,t=null,n=8e3)=>{let a=document.querySelector(e);a&&(e=()=>{a&&a.classList.add("removeToastBar")},setTimeout(e,n),t)&&(n=document.querySelector(t))&&n.addEventListener("click",e)})(".js-pornhubXSnackbar.bottom-page",".js-closePornhubXSnackbar",8e3),e(".js-compilationSnackbar",null,8e3)})(),document.querySelectorAll(".js-videoSubscriptionsLink"));function addDmpUidTracking(e){e&&window.idsync&&"function"==typeof window.idsync.setProduct&&"function"==typeof window.idsync.send_event&&window.idsync.setProduct(576).send_event({name:"click",value:e,type:"inquiry"})}videoSubscriptionsLinks&&[].forEach.call(videoSubscriptionsLinks,function(e){e.addEventListener("click",function(){userClogTracking(currentDomain,"user-menu",originPart,originUrl,"subscription")})});let fanCentroBtnLink=document.querySelector(".js-becomeFancentroFanBtn a");if(fanCentroBtnLink){let e=fanCentroBtnLink.getAttribute("data-dmpuid"),t=e&&e.substring(e.lastIndexOf("-")+1),n=document.querySelector(".js-fcMenuLink"),a=document.querySelector(".mgp_overlayText.mgp_link .mgp_text-label");fanCentroBtnLink.addEventListener("click",function(){addDmpUidTracking(e)}),n&&t&&n&&n.addEventListener("click",function(){addDmpUidTracking("fc-hammenu-"+t)}),a&&"undefined"!=typeof fcLinkInPlayer&&fcLinkInPlayer&&t&&a.addEventListener("click",function(){addDmpUidTracking("fc-invideo-"+t)})}