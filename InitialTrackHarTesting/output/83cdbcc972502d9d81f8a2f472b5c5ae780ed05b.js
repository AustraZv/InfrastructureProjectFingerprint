window.googleSSOCallback=null,window.googleSSOContext="signup",window.initGlobalGoogleOneTap=function(){"undefined"!=typeof google&&google.accounts&&google.accounts.id?(google.accounts.id.initialize({client_id:gSSOClientId,context:window.googleSSOContext,callback:function(e){"function"==typeof window.googleSSOCallback?window.googleSSOCallback(e.credential):handleGoogleSSOResponseDefault(e.credential)},state_cookie_domain:cbDomainName,use_fedcm_for_prompt:"true",itp_support:"true",cancel_on_tap_outside:!1,auto_select:!1}),idleCallback(()=>{function o(){n=!0}let t=!1,n=!1,i;["click","touchstart","keydown"].forEach(e=>{document.addEventListener(e,o,{once:!0,passive:!0})}),i=setInterval(()=>{var e=MG_Utils.getCookie("cookieConsent");if(e&&"1"!==e&&!t&&!n&&!getAgeDisclaimerModal()){t=!0,clearInterval(i),["click","touchstart","keydown"].forEach(e=>{document.removeEventListener(e,o)});try{google.accounts.id.prompt(e=>{(e.isNotDisplayed()||e.isSkippedMoment())&&console.log("[OneTap] Prompt not shown:",e.getNotDisplayedReason())})}catch(e){console.log("[OneTap] Prompt error:",e)}}n&&clearInterval(i)},300)})):console.warn("[OneTap] Google API not loaded")};let idleCallback=window.requestIdleCallback||function(e){return setTimeout(e,400)};function getAgeDisclaimerModal(){return document.getElementById("avModalTemplate")&&!MG_Utils.getCookie("av_modal")||document.getElementById("js-ageDisclaimerModal")&&!MG_Utils.getCookie("accessAgeDisclaimerPH")||document.getElementById("age-verification-wrapper")&&!MG_Utils.getCookie("age_verified")}function handleGoogleSSOResponseDefault(e){"undefined"!=typeof userClogTracking&&userClogTracking(currentDomain,"google-sso-prompt",originPart,originUrl,void 0,"",{source:"google"});var o=(new Date).toISOString().slice(0,10).replace(/-/g,"")+Math.floor(1e5+9e5*Math.random()).toString();let t=new URLSearchParams(window.location.search),n=t.get("aclid"),i;i=null!=n?"&aclid="+n:"",fetch(baseUrl+("/_xa/ct?a=1000498291&member_id=1001369101&cb="+o+i),{method:"POST"}),_modalSubmitForm(e)}function _modalSubmitForm(t=""){var e={sso_token:t,captcha_type:"score",sso_prompt:!0,redirect:redirectUrl,token:token,signup_modal:"true",show_onboarding:"1",email:""};fetch(createAccountUrl,{method:"POST",headers:{"Content-Type":"application/json",..."undefined"!=typeof liuIdOrNull&&liuIdOrNull?{__m:liuIdOrNull}:{}},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{if(e.success)"undefined"!=typeof userClogTracking&&userClogTracking(currentDomain,"google-sso-prompt-approval",originPart,originUrl,clickedElement,newModal),e.redirectUrl?window.location.href=e.redirectUrl:e.redirect?window.location.href=e.redirect:document.location.reload();else{var o;if(e.twoStepVerification)return signinbox.show(),(o=signinbox.container.querySelector(".js-loginForm"))?(o.classList.add("displayNone"),void signinbox.setupTwoStepVerification(e)):void 0;document.getElementById("g-recaptcha-response")&&"undefined"!=typeof grecaptcha&&grecaptcha.enterprise.reset(),t.length<=0&&(window.showCaptchaVersion=e.showCaptchaV2?1:0),e.userNotices&&e.ssoSignup&&"undefined"!=typeof userClogTracking&&userClogTracking(currentDomain,"google-sso-prompt-error",originPart,originUrl,"","")}}).catch(e=>{console.error("Google One Tap submit error:",e)})}function onDocumentReady(e){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}function loadScriptOnce(e,o){var t=document.createElement("script");t.type="text/javascript",t.src=e,t.onload=o,document.head.appendChild(t)}function initGlobalSsoOneTap(){"undefined"!=typeof showGoogleSso&&showGoogleSso&&("undefined"!=typeof loadGSSOLibrary&&loadGSSOLibrary?(loadGSSOLibrary=!1,loadScriptOnce("https://accounts.google.com/gsi/client",window.initGlobalGoogleOneTap)):this?.newInstance&&window.initGlobalGoogleOneTap())}function detectIncognito(){return new Promise((o,t)=>{let n="Unknown",i=!1;function r(e){i||(i=!0,o({isPrivate:e,browserName:n}))}e=navigator.userAgent;let a=/iPhone|iPad|iPod/.test(e)?"Safari":"undefined"!=typeof InstallTrigger?"Firefox":/AppleWebKit/.test(e)&&!/Chrome|CriOS|Edg|OPR/.test(e)?"Safari":window.chrome||/Edg|OPR|Brave/.test(e)?"Chromium":"Unknown";var e;async function l(){if("function"==typeof navigator.storage?.getDirectory)try{await navigator.storage.getDirectory(),r(!1)}catch(e){r(("string"==typeof e.message?e.message:String(e)).includes("unknown transient reason"))}else if(void 0!==navigator.maxTouchPoints){let t=String(Math.random());try{var e=indexedDB.open(t,1);e.onupgradeneeded=e=>{var e=e.target.result,o=e=>r(e);try{e.createObjectStore("t",{autoIncrement:!0}).put(new Blob),r(!1)}catch(e){o(("string"==typeof e.message?e.message:String(e)).includes("are not yet supported"))}finally{e.close(),indexedDB.deleteDatabase(t)}},e.onerror=()=>r(!1)}catch{r(!1)}}else{var e=window.openDatabase,o=window.localStorage;try{e(null,null,null,null)}catch{return void r(!0)}try{o.setItem("old_safari","1"),o.removeItem("old_safari")}catch{return void r(!0)}r(!1)}}function c(){navigator.webkitTemporaryStorage.queryUsageAndQuota((e,o)=>{r(Math.round(o/1048576)<2*Math.round((window?.performance?.memory?.jsHeapSizeLimit??1073741824)/1048576))},e=>{t(new Error("detectIncognito failed querying Chrome quota: "+e.message))})}function s(){self.Promise&&Promise.allSettled?c():(0,window.webkitRequestFileSystem)(0,1,()=>r(!1),()=>r(!0))}(async()=>{if("Safari"===a)n="Safari",await l();else if("Chromium"===a)n=(e=navigator.userAgent,void 0!==navigator.brave?"Brave":e.includes("Edg")?"Edge":e.includes("OPR")?"Opera":"Chrome"),s();else if("Firefox"===a)if(n="Firefox","function"==typeof navigator.storage?.getDirectory)try{await navigator.storage.getDirectory(),r(!1)}catch(e){r(("string"==typeof e.message?e.message:String(e)).includes("Security error"))}else{e=indexedDB.open("inPrivate");e.onerror=()=>r(!0),e.onsuccess=()=>{indexedDB.deleteDatabase("inPrivate"),r(!1)}}else t(new Error("detectIncognito: Browser not supported"));var e})().catch(t)})}"undefined"!=typeof hideGoogleSsoIos&&hideGoogleSsoIos?detectIncognito().then(e=>{e.isPrivate||onDocumentReady(initGlobalSsoOneTap)}):onDocumentReady(initGlobalSsoOneTap);