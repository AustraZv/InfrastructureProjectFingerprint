DM.m={};DM.has=function(id,type,params){type=type||id;if(!this.m[type]){this.m[type]=[]}this.m[type].push({id:id,params:params})};DM.setCookie=function(szName,szValue,szExpires,szPath,szDomain,bSecure){var szCookieText=escape(szName)+"="+escape(szValue);szCookieText+=szExpires?";expires="+szExpires.toGMTString():"";szCookieText+=szPath?";path="+szPath:"";szCookieText+=szDomain?";domain="+szDomain:"";szCookieText+=bSecure?";secure":"";document.cookie=szCookieText};DM.getCookie=function(szName){var szValue=null;if(document.cookie){var arr=document.cookie.split(escape(szName)+"=");if(2<=arr.length){szValue=unescape(arr[1].split(";")[0]);if(szValue.length>1&&szValue.charAt(0)==='"'&&szValue.charAt(szValue.length-1)==='"'){szValue=szValue.substring(1,szValue.length-1)}}}return szValue};DM.deleteCookie=function(szName){var tmp=DM.getCookie(szName);if(tmp)DM.setCookie(szName,tmp,new Date(1))};DM.popup=function(url,w,h){var _popupFeatures="menubar=false,location=false,statusbar=false,toolbar=false,resizable=false",_popupfpFeatures="resizable=1,scrollbars=1",nw=window.open(url,"_blank","width="+w+",height="+h+","+_popupFeatures+","+_popupfpFeatures);nw.focus();return nw};DM.Fn=function(){var initClass=function(type,items){var cls,initFn,scope,l=items.length;if(typeof DM[type]==="undefined"){type=type.charAt(0).toUpperCase()+type.slice(1);if(typeof DM[type]==="undefined"){return}}cls=DM[type];if(typeof cls==="function"){while(l>0){--l;new cls(items[l].id,items[l].params)}}else if(typeof cls==="object"){if(typeof cls.getInstance==="function"){initFn=cls.getInstance().init;scope=cls.getInstance()}else{initFn=cls.init;scope=cls}while(l>0){--l;initFn.call(scope,items[l])}}};var fixIframe=function(){var fn=function(e){var t=e.getTarget("A");if(!t||window.location.pathname.indexOf("/embed/video")>=0)return;if(t.target==""){top.location.replace(t.href)}};document.body.addEventListener("click",fn);var forms=document.getElementsByTagName("form"),l=forms.length;while(l>0){--l;forms[l].setAttribute("target","_top")}setTimeout(function(){var params=window.location.search.substring(1).split("&");for(var i=0,len=params.length;i<len;i++){var param=params[i].split("=");if(param[0]=="dmproxy"){var iFrameId="";if(window.location.search.indexOf("betaonly")!=-1){iFrameId="dmbeta"}else if(window.location.search.indexOf("headeronly")!=-1){iFrameId="dmheader"}else if(window.location.search.indexOf("footeronly")!=-1){iFrameId="dmfooter"}if(iFrameId!=""){var iFrame=document.createElement("iframe");iFrame.style.border="0px";iFrame.style.width="0px";iFrame.style.height="0px";var windowHeight=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);iFrame.src=param[1]+"?command=updateIFrame&id="+iFrameId+"&attribute=height&value="+windowHeight;document.body.appendChild(iFrame)}}}},1e3)};return{init:function(){var type;if(self!=top)fixIframe();for(type in DM.m){initClass(type,DM.m[type])}}}}();function getClassData(element){if(!element||!element.className){return null}return element.className.includes("|")?element.className.split("|"):null}function PictureSwap(id){const element=document.getElementById(id);if(!element){return}const image=element.getElementsByTagName("img")[0];if(!image){return}function mouseOverHandler(event){const listItem=event&&event.target?event.target:null;const classState=getClassData(listItem);if(classState&&classState[0]){image.src=classState[0]}}element.addEventListener("mouseover",mouseOverHandler)}DM.PictureSwap=PictureSwap;(function(){var PREDICTOR_REFERRERS=["https://predictor.dailymailint.co.uk/","https://predictor.dailymail.co.uk/"];var isPredictorIframe=PREDICTOR_REFERRERS.includes(document.referrer)&&window.parent!==window;var addCurrentUrltoLink=function(url){var targetUrl=window.location;if(isPredictorIframe){targetUrl=document.referrer}return url.replace("targetUrl=","targetUrl="+encodeURIComponent(targetUrl)+" ")};var goToUrl=function(url){if(isPredictorIframe){if(url.startsWith("https://")){window.parent.location.href=url}else{window.parent.location.href=window.location.origin+url}}else{window.location.href=url}};var logoutElement=document.querySelector(".js-logout");if(logoutElement){logoutElement.addEventListener("click",function(event){event.preventDefault();var logoutUrl=addCurrentUrltoLink(logoutElement.getAttribute("href"));goToUrl(logoutUrl)})}var loginElements=document.querySelectorAll(".js-login");if(loginElements&&loginElements.length>0){for(var i=0;i<loginElements.length;i++){var loginElement=loginElements[i];loginElement.addEventListener("click",function(event){event.preventDefault();if(DM.pageEvents.SIGN_IN_SIGN_IN_CLICK){DM.pageEvents.publish(DM.pageEvents.SIGN_IN_SIGN_IN_CLICK,{clickLocation:"navigation",referringModule:"navigation"})}var loginUrl=addCurrentUrltoLink(loginElement.getAttribute("href"));setTimeout(function(){goToUrl(loginUrl)},0)})}}var notYouElement=document.querySelector(".not_you");if(notYouElement){notYouElement.addEventListener("click",function(event){var elementsWithProv=document.querySelectorAll(".has-prov");elementsWithProv.forEach(function(element){element.classList.remove("has-prov")})})}})();DM.Login={init:function(o){},open:function(e,t,opt){var loginElement=document.querySelector(".js-login");if(loginElement){loginElement.click()}}};(function(){DM.later(["DOM_READY"],function(){var $bydaywrapper=document.querySelector(".articles_by_day_wrapper");if(!$bydaywrapper){return}var allChecks=Array.from($bydaywrapper.querySelectorAll(".checkbox input"));allChecks.forEach(function(checkboxEl){checkboxEl.addEventListener("change",function(){if(checkboxEl.id==="all"){allChecks.forEach(function(checkEl){checkEl.checked=checkboxEl.checked})}else if(!checkboxEl.checked){$bydaywrapper.querySelector("#all").checked=false}var showingClasses=allChecks.filter(function(checkEl){return checkEl.checked&&checkEl.value}).map(function(checkEl){return checkEl.value});Array.from($bydaywrapper.querySelectorAll("li")).forEach(function(listItem){if(showingClasses.some(function(showingClass){return listItem.classList.contains(showingClass)})){listItem.style.display=""}else{listItem.style.display="none"}})})})})})();(function(){var bundleLocation;var channel;var insertBeforeScript;var script;if(typeof DM!=="undefined"&&DM.getPageMetadata){channel=DM.getPageMetadata().channel}if(channel==="/registration"){bundleLocation=DM.getPageMetadata().bundleLocation}if(bundleLocation){script=document.createElement("script");script.type="text/javascript";script.async=true;script.onload=function(){DM.later.go("REGISTRATION_ASYNC_BUNDLE_LOADED")};insertBeforeScript=document.querySelector("script");insertBeforeScript.parentNode.insertBefore(script,insertBeforeScript);script.src=bundleLocation+"/registration--.js"}})();(function(){var articleEvents=["ARTICLE_DEFER_BUNDLE_LOADED"];var channelEvents=["CHANNEL_DEFER_BUNDLE_LOADED"];if(DM.getPageMetadata().channel==="/registration"){var REGISTRATION_ASYNC_BUNDLE_LOADED_EVENT="REGISTRATION_ASYNC_BUNDLE_LOADED";articleEvents.push(REGISTRATION_ASYNC_BUNDLE_LOADED_EVENT);channelEvents.push(REGISTRATION_ASYNC_BUNDLE_LOADED_EVENT)}Promise.race([DM.later(articleEvents),DM.later(channelEvents)]).then(function(){DM.later.go("bundle")})})();
//# sourceMappingURL=async_bundle--.js.map
