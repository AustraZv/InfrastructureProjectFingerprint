(function(c){var l=window.AmazonUIPageJS||window.P,f=l._namespace||l.attributeErrors,b=f?f("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):l;b.guardFatal?b.guardFatal(c)(b,window):b.execute(function(){c(b,window)})})(function(c,l,f){c.when("A","imageBlockUtils").register("ImageBlockModel",function(b,d){function n(b,a,q,e,m,h){d.isDefined(b)&&(g.type=b);d.isDefined(a)&&(g.index=a);d.isDefined(q)&&(g.thumbnailIndex=q);d.isDefined(e)&&(g.variant=e);d.isDefined(m)&&(g.color=
m);g.shoppableScene=h||null}function k(b){n("image",0,0,"MAIN",b||m.landingAsinColor||m.defaultColor,null)}function e(a){a=a.data;h=b.copy(g);n(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function t(a){e(a);a=b.copy(a);a.data=b.copy(g);p.dispatch("updateView",a)}function c(){h=b.copy(g);k(g.color)}function a(a){r=a}var m,p,g={},h={},l,f,r=!0;return function(d,u){p=u;m=d;p.register("updateSelection",t);p.register("updateModel",e);p.register("resetModel",c);p.register("updateTwisterHoverState",
a);this.init=function(){k()};this.getCurrentItem=function(){return b.copy(g)};this.getPreviousItem=function(){return b.copy(h)};this.setCurrentEvent=function(a){l=a};this.getCurrentEvent=function(){return l};this.setImmersiveViewModalInstance=function(a){f=a};this.getImmersiveViewModalInstance=function(){return f};this.updateTitle=function(a){m.title=a};this.setToPreviousItem=function(){n(h.type,h.index,h.thumbnailIndex,h.variant,h.color,h.shoppableScene)};this.setToCurrentItem=function(a){n(a.type,
a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)};this.getShouldUpdateOnTwisterHover=function(){return r}}});"use strict";c.when("imageBlockUtils").register("ImageBlockState",function(b){return function(d,c,k){this.getImageHash=function(e){var c=k.getCurrentItem();e=b.getIndexForVariant(c.color,e||"MAIN",d);return b.getImageHash(c.color,e,d)};this.onImageUpdateForTwister=function(b){c.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";
c.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(b,c,n,k,e){var d={};return function(f){var a=this;a.dispatch=function(a,c){a=d[a];k.isDefined(a)&&b.each(a,function(a,b){b.call(l,c)})};a.register=function(a,b){k.isDefined(d[a])||(d[a]=[]);"function"===typeof b&&d[a].push(b)};a.model=new c(f,a);a.view=new n(f,a,a.model);a.api=new e(f,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";c.when("jQuery",
"ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,d,f,k){b=b.extend(!0,{},f,k);b.isMediaBlock&&!b.lazyLoadExperienceDisabled&&(b.colorToAsin={},b.landingAsinColor="initial",b.visualDimensions=[]);var e=new d(b);c.register("ImageBlockAPI",function(){return e.api});return e})});
/* ******** */
(function(D){var q=window.AmazonUIPageJS||window.P,Q=q._namespace||q.attributeErrors,ba=Q?Q("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):q;ba.guardFatal?ba.guardFatal(D)(ba,window):ba.execute(function(){D(ba,window)})})(function(D,q,Q){D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(m,c,d,ea,n,H,F){function L(e,h,b,a,f){if(!d.isjQueryObjDefined(e.find(".a-button-selected"))){var k=
J.getCurrentItem();if(!a||"chromeless-video"!==k.type||!l.autoplayVideo){a=0;l.twisterInteractionSimplificationEnabled||"image"!==k.type||(a=Math.max(d.getIndexForVariant(k.color,k.variant,l),0));var p=0;d.isDefined(l.heroImage[k.color])&&(p=l.heroImage[k.color].length);f=a-(h>=l.maxAlts?l.maxAlts-f-p:0);h=0<=f?h+f:a+p;h>=b&&(a=0,h=p);b=d.getImageHash(k.color,a,l);-1!==b&&(T.dispatch("updateModel",{data:{index:a,thumbnailIndex:h,variant:b.variant,type:"image",shoppableScene:b.shoppableScene}}),b=
e.find(".item").get(h),d.selectGivenThumbnail(c(b),e))}}}function g(e){if(!l.useChildVideos)return d.lazyLoadingRequired(J.getCurrentItem(),J,l)?void 0:l.videos;if(l.colorToVideo[e])return l.colorToVideo[e];var c=l.colorToAsin[e];if(c&&c.asin){var b={};b.params={asin:c.asin,productGroupID:l.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:l.useChromelessVideoPlayer,isUDP:l.isUDP};l.isDPXFeatureEnabled||(b.success=function(a){videosOnTwisterRefresh(a)},ea.load(VIDEO_AJAX_ENDPOINT,b));
return l.colorToVideo&&l.colorToVideo[e]}}function N(e,h,b,a){if((2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment)&&b)return e;a=g(h);var f=d.isDefined(a)&&0<a.length&&l.alwaysIncludeVideo?1:0;h=l.colorImages&&l.colorImages[h];a=e;var k=0;d.isDefined(h)&&(c.each(h,function(a,b){if(k>=l.maxAlts-f&&e<l.maxAlts+l.additionalNumberOfImageAlts){if(2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment){var h=c(".thumbItemUnrolled");h[e]?h[e].querySelector("img").src=b.thumb:
c('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+a+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(e+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(e+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(e+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+b.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".regularAltImageViewLayout"))}else d.createThumbnail({type:"image",
index:a,thumbnailIndex:e,variant:b.variant,shoppableScene:b.shoppableScene},b.thumb,P,"imageThumbnail");e++}k++}),H.isEnabled&&F.logAltImgRequestPlacedOnThumbnails(c,H,J),L(P,a,e,b,f));return e}function z(e,c){l.useIV&&d.isDefined(c.hiRes)&&e.css("cursor","pointer")}function r(e,h){if("image"===e.type&&E){var b=c("#image-canvas-caption #canvasCaption"),a=l.staticStrings,f=l.colorImages,k=e.color,p=e.index,r=!0;var g='\x3ca href\x3d"#"\x3e'+a.clickForFullView+"\x3c/a\x3e";d.isShoppableScenesEnabled()&&
e.shoppableScene?g=a.clickSceneTagsToShopProducts:h&&l.useIV?(g='\x3ca href\x3d"#"\x3e'+a.clickForFullView+"\x3c/a\x3e",r=!0):f[k]&&f[k][p].hiRes&&l.useHoverZoom?(l.useHoverZoomIpad?g=a.touchToZoom:l.useClickZoom&&(g=a.clickToZoom),l.hoverZoomIndicator&&(g="\x3cimg src\x3d'"+l.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+g)):l.useIV&&(g='\x3ca href\x3d"#"\x3e'+a.clickForFullView+"\x3c/a\x3e",r=!0);b.html(g);r&&(e=c("#image-canvas-caption #canvasCaption a"),m.declarative.create(e,"iv-open-caption-click"))}}
function C(e,h){var b="a-dynamic-image";if(!l.acEnabled){var a;c.each(e.main,function(b,f){d.isDefined(a)||(a=parseFloat(f[1]/f[0])<=parseFloat(l.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});b+=a}var f=d.getMaxDimensionsOfMainImage(e.main,K,l),k=f[0],p=f[1];f=c("\x3cdiv\x3e\x3c/div\x3e");k={"max-height":k,"max-width":p};f.addClass(b).css(k).attr({"data-old-hires":e.hiRes,"data-a-manual-replacement":"true",onload:h}).data("a-dynamic-image",e.main);return f}function t(e,c,b){var a=
"desktop-dp-atf-ib-shoppablescenes-tags-"+e;"function"==typeof uet&&uet("bb",a,{wb:1});b.attr("data-a-image-name","shoppable-scene:"+e);b=R.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");b.addClass("celwidget").attr("cel_widget_id",a);b.children("span").css("display","inline-block");T.dispatch("initialize-shoppable-scene",{index:e,shoppableScene:c.shoppableScene,imageSource:c.hiRes||c.large||c.lowRes,$tagPlaceholder:b.find(".mirai-scene-tag-placeholder"),
$viewProductsButton:b.find(".mirai-scene-view-products-button")});"MutationObserver"in q&&(new MutationObserver(function(a,b){a.forEach(function(a){"childList"===a.type&&a.target.classList.contains("mirai-scene-image-block-tag-container")&&1===a.addedNodes.length&&"IMG"===a.addedNodes[0].tagName&&""!==a.addedNodes[0].src&&(a=a.addedNodes[0],"function"!==typeof a.onload&&(a.onload=function(){m.trigger("shoppable-scene-image-loaded",{index:e,shoppableScene:c.shoppableScene})}),b.disconnect())})})).observe(b.find(".mirai-scene-image-block-tag-container")[0],
{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",a,{wb:1});return b}function u(e,c,b){b=C(e,b);e=d.isShoppableScenesEnabled()&&e.shoppableScene?t(c,e,b):R.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");e.addClass("image item itemNo"+c+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":c+1});e.find(".placeHolder").replaceWith(b);R.find(".list").append(e);
m.loadImageManually(b);return e}function O(e){var c=K.css("height");null!==c&&e.find(".imgTagWrapper").css("height",c);e.addClass("selected");l.imgTagWrapperClasses&&e.find(".imgTagWrapper").addClass(l.imgTagWrapperClasses)}function M(e,h,b,a){if(2!==l.unrolledImageBlockTreatment&&3!==l.unrolledImageBlockTreatment||a||"unavailable"===e.type){if("image"===e.type||"unavailable"===e.type||"lazy-loaded"===e.type){b=d.getImageHash(e.color,e.index,l);if(-1===b)return h={data:{index:0,thumbnailIndex:0,variant:"",
type:"unavailable"}},d.lazyLoadingRequired(e,J,l)||(T.dispatch("updateModel",h),d.showUnavailable(e.color)),-1;a=R.find(".item.itemNo"+e.thumbnailIndex);d.isjQueryObjDefined(a)||(a=u(b,e.thumbnailIndex,h));O(a);T.dispatch("loadMagnifier");r(e);z(a,b);m.trigger("dp:image-block:update",b)}}else{e=l.colorImages&&l.colorImages[b];h=c(".unrolledImg");b=g(b);var f=d.isDefined(b)&&0<b.length&&l.alwaysIncludeVideo?1:0;h.length>l.maxAlts&&h.each(function(a){a>=l.maxAlts&&c(this).remove()});d.isDefined(e)&&
c.each(e,function(a,b){a<l.maxAlts-f+l.additionalNumberOfImageAlts&&a>=l.maxAlts-f&&c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+f+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(a+f)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
(a+f)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"))})}}function I(e){if(!l.twisterInteractionSimplificationEnabled){var c=J.getCurrentItem().color;l.colorImages[c]||(l.colorImages[c]=e);e={type:"updatedData",data:J.getCurrentItem()};
T.dispatch("updateView",e);(c=l.colorToAsin[c])&&c.asin&&D.register(d.rankedImagesReadyEvent(c.asin))}}function U(){var e=R.find(".item .imgTagWrapper"),h=d.getContainerHeight(K,l.holderRatio,l.holderMaxHeight);0<h&&(K.height(h),e.height(h));R.find("img.a-dynamic-image").each(function(){var b=c(this);b.data("a-manual-replacement")&&m.loadDynamicImage(this);var a=b.data("a-dynamic-image");a=d.getMaxDimensionsOfMainImage(a,K,l);b.css({"max-height":a[0]+"px","max-width":a[1]+"px"})})}function h(e){r(J.getCurrentItem(),
"mouseenter"===e.type)}var k,l,J,T,P,R,K,x,E=(n=m.state("imageBlockStateData"))?!n.shouldRemoveCaption:!0;return function(e,r,b,a){k=this;l=e;J=r;T=a;m.on("triggerImageAjax",I);l.colorImages[l.landingAsinColor]=l.colorImages[l.defaultColor];k.render=function(a,b,e,h,k,r,g,m){R=e;P=h;K=k;x=l.twisterInteractionSimplificationEnabled&&"swatchClick"===m?0:N(b,a,r,m);r||(b=J.getCurrentItem(),d.lazyLoadingRequired(b,J,l)&&T.dispatch("updateModel",{data:{type:"lazy-loaded"}}));b=J.getCurrentItem();e=!r;d.lazyLoadingRequired(b,
J,l)||(c("#imageBlock").css("opacity","1"),R.css("opacity","1"),d.spinner(R,!1),l.isMediaBlock||(R.find("li").removeClass("selected"),E&&c("#image-canvas-caption #canvasCaption").empty(),d.hideUnavailable(),e&&R.find(".list .item").remove()));M(J.getCurrentItem(),g,a,r);return x};k.update=function(a){};l.overrideAltImageClickAction&&d.addTag("clickEnabledOnAltImages");T.register("imageHover",h);T.register("resize",U)}});"use strict";D.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",
function(m,c,d){var q,n,H,F;return function(c,g,N,z){q=this;n=c;H=z;q.render=function(c,g,t,u,H,M,I){F=u;q=this;t=n.maxAlts;u=g;H=n.colorImages[c]?n.colorImages[c].length:0;H+=d.getVideosCount(c,n);c=n.heroImage[c];M=0;c&&(M=c.length);c=H+M;c>t&&(t=c-t,c=F.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),t+="+",u={type:"ingress",index:0,thumbnailIndex:g,variant:""},c.find("#altIngressText").append(t),m.declarative.create(c,"thumb-action",
u),F.append(c),u=g++);return u};q.update=function(c){"ingress"===c.data.type&&"click"===c.type&&H.dispatch("imageClick",c)}}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(m,c,d,q){function n(h,k,l,g){if(!d.isjQueryObjDefined(h.find(".a-button-selected"))){var r=u.getCurrentItem();if(!g||"chromeless-video"!==r.type||!t.autoplayVideo){g=0;if("hero-image"===r.type){g=F(r.color,r.variant);if(-1===g)return;g=-1!==g?g:0}var m=k+g;
m>=l&&(g=0,m=k);k=q.getHeroImageHash(t,r.color,g);-1!==k&&(O.dispatch("updateModel",{data:{index:g,thumbnailIndex:m,variant:k.variant,type:"hero-image"}}),k=h.find(".item").get(m),d.selectGivenThumbnail(c(k),h))}}}function H(h,k,l){if("hero-video"===u.getCurrentItem().type)return h;k=t.heroImage&&t.heroImage[k];var g=h;d.isDefined(k)&&(c.each(k,function(c,k){h<t.maxAlts&&(d.createThumbnail({type:"hero-image",index:c,thumbnailIndex:h,variant:k.variant},k.thumb,M,"imageThumbnail"),h++)}),n(M,g,h,l));
return h}function F(h,k){var l=t.heroImage;if(1>l.length||!d.isDefined(l[h])||!d.isDefined(k))return-1;var g=-1;c.each(l[h],function(c,h){h.variant===k&&(g=c)});return g}function L(){if(I.length&&t.repositionHeroImage){var c=q.getHeroDimParams(t,u.getCurrentItem());if(d.isDefined(c)){var k=d.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+"px ";I.css({"background-position":k,"background-size":c.width+"px "+c.height+"px ","max-width":c.width+"px ","min-height":c.height+"px ",filter:"",
"-ms-filter":""})}}}function g(c,k,l,g){if(I.length&&c&&k){if("function"===typeof l||g){var h=new Image;h.onload=g?function(){I.css("background-image",'url("'+c+'")')}:l;h.src=c}l=k[1];h=k[0];g||I.css({"background-image":'url("'+c+'")'});if(t.repositionHeroImage&&(k=q.getHeroDimParams(t,u.getCurrentItem(),k),d.isDefined(k))){l=k.width;h=k.height;var r=d.isDefined(k.xPos)?k.xPos+"px "+k.yPos+"px ":"center "+k.yPos+"px "}I.css({"background-position":r,"background-size":l+"px "+h+"px ","max-width":l+
"px ","min-height":h+"px ",filter:"","-ms-filter":""})}}function N(h,d,l,r){h=q.getHeroImageHash(t,h,d);if(-1===h)return-1;d=c.map(h.main,function(c,d){return d})[0];g(d,h.main[d],l,r)}function z(c,d,l){if("hero-image"!==c.type)return-1;var h=F(c.color,u.getCurrentItem().variant);h=-1!==h?h:0;if(-1===q.getHeroImageHash(t,c.color,h))return-1;var k=u.getCurrentItem();c.thumbnailIndex=k.thumbnailIndex;c.type=k.type;c.variant=k.variant;c.index=h;r(c,d,l)}function r(c,d,l){var h=q.getHeroImageHash(t,c.color,
c.index);var k=c&&U&&m.equals(c,U)?!0:!1;U||(U=c);if(!k&&c||d)N(c.color,c.index,d,l),U=c;I.removeClass("hide-background");m.trigger("dp:image-block:update",h)}var C,t,u,O,M,I,U={};return function(h,k,l,g){C=this;t=h;u=k;O=g;t.heroImage[t.landingAsinColor]=t.heroImage[t.defaultColor];C.render=function(d,h,k,l,g,r,e){M=l;I=c("#heroImage");d=H(h,d,r);z(u.getCurrentItem(),e,r);return d};C.update=function(c){var h=c.data;"ingress"!==h.type&&I.addClass("hide-background");"swatchHover"===c.type?c.captured||
(h.type=u.getCurrentItem().type,-1!==z(h)&&(c.captured=!0)):"hero-image"===h.type&&(r(h),"click"!==c.type&&t.usePeekHover||d.selectGivenThumbnail(c.$declarativeParent,M))};O.register("resize",L)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(m,c,d,D,n,H){function F(c){M?c.css("cursor","url('"+r.staticImages.zoomIn+"'), auto"):(c.css("cursor","-webkit-zoom-in"),c.css("cursor","-moz-zoom-in"),
c.css("cursor","zoom-in"))}function L(c){var h=c.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);c={};if(d.isDefined(h)){h=h[1].split("_");for(var l=0;l<h.length;l++){var g=h[l].match(/^([A-Z]+)(\d+(\.\d+)?)$/);d.isDefined(g)&&(c[g[1]]=parseInt(g[2],10))}}return c}function g(h,k){function l(){if(k.useClickZoom){var a=k.offsetInClickZoom;a=[Math.min(1,Math.max(0,y[0]-(z[0]+a))/(z[2]-2*a)),Math.min(1,Math.max(0,y[1]-(z[1]+a))/(z[3]-2*a))]}else a=A&&A.updatePosition();if(a&&p&&p.detailSize){var b=[p.detailSize[0]-
p.rect.width,p.detailSize[1]-p.rect.height];m.capabilities.rtl?p.detailImage.get(0).style.right=-(a[0]*b[0])+"px":p.detailImage.get(0).style.left=-(a[0]*b[0])+"px";p.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function g(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function C(a){var b=V?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";y=V?[b.pageX,b.pageY]:[a.pageX,a.pageY];if(m.capabilities.rtl){var f=c(q).width();y=V?[f-b.pageX,b.pageY]:[f-a.pageX,a.pageY]}}
function t(a){C(a);k.useClickZoom?a=[z[0],z[1],z[0]+z[2],z[1]+z[3]]:(a=A?A.offset:h.offsetParent().offset(),a=r.acEnabled?[a.left,a.top,f.width()+a.left,f.height()+a.top]:[G[0]+a.left,G[1]+a.top,G[0]+G[2]+a.left,G[1]+G[3]+a.top]);return y[0]<a[0]||y[1]<a[1]||y[0]>=a[2]||y[1]>=a[3]||r.acEnabled&&!g(h)?!0:!1}function u(a){V&&a.preventDefault();U=t(a)?!1:!0}function O(a){V&&a.preventDefault();t(a)?(I||(k.fadeMagnifier?X||(X=!0,ka=setTimeout(function(){x(!0)},500)):k.useClickZoom||x(),fa&&(fa=!1,clearTimeout(la))),
I=!1):(fa||(fa=!0,la=setTimeout(function(){D.postCountMetric("dppc_hoverZoomOpened");n.isEnabled&&H.logHoverZoomRequestServed(n)},1E3)),k.fadeMagnifier&&X&&(X=!1,clearTimeout(ka)),I||l())}function x(b){b&&a.suppressMagnifier(!0);if(B){p&&p.hide();A&&(A.destroy(),A=null);I&&N();B=!1;V?(h.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),c(document).trigger("disengaged.magnifier")):c(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier");e();if(b)h.one("click.magnifier touchstart.magnifier",
function(a){E(a,!0)});c(document).unbind("keydown.magnifier")}}function E(e,d){d&&a.suppressMagnifier(!1);U||(I=!1);if(!(B||ha||I)){0===W&&(D.postCountMetric("dppc_hoverTime",new Date-(q.ue&&q.ue.t0||0)),W=1);Y[v]||(D.postCountMetric("dppc_hoverMain"),Y[v]=1);v&&(C(e),p?p.refit().show():p=new ia,k.useClickZoom||(A=A||new Z),z=p.getWindowSize(),l());B=!0;V?(h.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",O).bind("touchend.magnifier",x),c(document).trigger("engaged.magnifier")):
(r.acEnabled?f.unbind("mousemove.magnifier"):h.unbind("mousemove.magnifier"),c(document).trigger("engaged.magnifier").bind("mousemove.magnifier",O));if(d&&(e=c("#zoomWindow"),0<e.length))e.one("click.magnifier touchend.magnifier",function(a){x(!0)});c(document).bind("keydown.magnifier",b)}}function e(){k.useHoverZoom&&(V?h.bind("touchstart.magnifier touchmove.magnifier",E):(r.acEnabled?g(h)&&f.bind("mousemove.magnifier",E):h.bind("mousemove.magnifier",E),c(document).bind("mousemove.magnifierCursor",
u)))}function w(a){return[a.position().left,a.position().top,a.width(),a.height()]}function b(a){if("key"in a?"Escape"===a.key||"Esc"===a.key:27===a.keyCode)I=!0,x(!0)}var a=this,f=h.offsetParent(),S={detailImageUrl:h.attr("data-old-hires"),location:"over",locationElement:h,prelaod:"ready",zIndex:50,offsetInClickZoom:50};k=c.extend(S,k);k.adjustment=[10,0,-10,0];var p=null,A=null,y=null,G=w(h),z=null,ea={"null":1,"":1,undefined:1},B=!1,ha=!1,v=k.detailImageUrl,V=k.useHoverZoomIpad||0,W=0,Y={},Z=function(){function a(a){var b=
Math.round(Math.min(h.width(),p.rect.width/a));a=Math.round(Math.min(h.height(),p.rect.height/a));v.css({width:b,height:a});f=[b,a]}var b=this,f=[0,0],e=(p.detailSize&&p.detailSize[0]||5E8)/G[2],d=(p.detailSize&&p.detailSize[1]||5E8)/G[3];e=d>e?d:e;c("#magnifierLens").remove();var v=c("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});k.generalImageUrls.zoomLensBackground&&v.css({backgroundImage:"url("+k.generalImageUrls.zoomLensBackground+")"});r.showMagnifierOnHover?F(v):v.css("cursor",
"pointer");b.updatePosition=function(){var a=[G[2]-f[0],G[3]-f[1]],c=0>=a[0]?.5:Math.max(0,Math.min(1,(y[0]-f[0]/2-G[0]-b.offset.left)/a[0])),e=0>=a[1]?.5:Math.max(0,Math.min(1,(y[1]-f[1]/2-G[1]-b.offset.top)/a[1])),d=G[0]+Math.round(c*a[0]);a=G[1]+Math.round(e*a[1]);v.get(0).style.left=d+"px";v.get(0).style.top=a+"px";return[c,e]};b.destroy=function(){v.remove()};b.offset=h.offsetParent().offset();a(e);b.updatePosition();v.appendTo(h.parent());p.detailImage[0].complete||p.detailImage.load(function(){var c=
p.detailImage.width()/G[2];a(c);b.updatePosition()})};Z.preload=function(){a.preload(k.generalImageUrls.lensBackgroundUrl)};var ia=function(){function a(){var a={};if("over"===k.location){a=k.useClickZoom;var b={},v=c("#leftCol"),g=c("#centerCol"),l=c("#rightCol"),oa=c("#hover-zoom-end"),r=c("#actionPanelContainer"),V=d.isjQueryObjDefined(v)?v.outerHeight():g.outerHeight();b.top=d.isjQueryObjDefined(v)?v.offset().top:g.offset().top;b.bottom=V+b.top;b.right=d.isjQueryObjDefined(l)?l.offset().left:
r.offset().left;b.left=a?0:v.offset().left+v.outerWidth();d.isjQueryObjDefined(oa)&&oa.offset().top>b.bottom&&(b.bottom=oa.offset().top);a=b}else"right"===k.location&&(a=h.offset(),a={left:a.left+h.outerWidth(),top:a.top,right:a.left+h.outerWidth()+400,bottom:a.top+400});k.minHeightElement&&(a.bottom=Math.max(a.bottom,a.top+c(k.minHeightElement).outerHeight()));a.bottom=Math.min(a.bottom,c(q).scrollTop()+c(q).height());a.left+=e[0];a.top+=e[1];a.right+=e[2];a.bottom+=e[3];a.width=a.right-a.left;a.height=
a.bottom-a.top;k.enhancedHoverOverlay&&d.isDefined(q.pageXOffset)&&(b=c(q).width(),a.width=b-a.left+q.pageXOffset-18,a.height-=14);p.css({left:a.left,top:a.top,width:a.width,height:a.height});f.rect=a;return f}function b(a){var b=new Image;f.detailSize=[0,0];b.onload=function(){f.detailSize=[b.width,b.height];l()};b.src=a.attr("src");if(0<b.width&&0<b.height)f.detailSize=[b.width,b.height];else if(k.detailImageSize)f.detailSize=k.detailImageSize;else{a=L(b.src);var c=G[2]/G[3];a.SS||a.AA?(a=a.SS||
a.AA,f.detailSize=[a,a]):a.SX?f.detailSize=[a.SX,Math.round(a.SX/c)]:a.SY?f.detailSize=[Math.round(a.SY*c),a.SY]:a.SL&&(f.detailSize=1<=c?[a.SL,Math.round(a.SL/c)]:[Math.round(a.SL*c),a.SL])}}var f=this,e=k.adjustment;c("#zoomWindow").remove();var g={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:k.zIndex};k.enhancedHoverOverlay&&(g.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",g.border="1px solid #949494",g.borderColor="rgb(148,148,148)");var p=c("\x3cdiv id\x3d'zoomWindow' /\x3e").css(g);
k.fadeMagnifier&&p.fadeIn(200);k.useClickZoom&&(M?p.css("cursor",'url("'+k.zoomOutIcon+'"), auto'):(p.css("cursor","-webkit-zoom-out"),p.css("cursor","-moz-zoom-out"),p.css("cursor","zoom-out")));f.updateImage=function(a){a=c("\x3cimg id\x3d'detailImg' src\x3d'"+a+"'/\x3e").css("position","absolute");f.detailImage&&f.detailImage.remove();p.append(a);c(document).trigger("updated.magnifier");f.detailImage=a;b(f.detailImage)};f.refit=function(){a();b(f.detailImage);return f};k.fadeMagnifier?(f.show=
function(){p.fadeIn(200);return f},f.hide=function(){p.fadeOut(200);return f}):(f.show=function(){p.show();return f},f.hide=function(){p.hide();return f});f.destroy=function(){p.remove();return f};f.getWindowSize=function(){return[f.rect.left,f.rect.top,f.rect.width,f.rect.height]};f.updateImage(v);a();p.appendTo(document.body)},X=!1,ka,fa=!1,la;a.preload=function(b){b=c.makeArray(b);for(var f=b.length,e=0;e<f;e++)b[e]instanceof Array?a.preload(b[e]):"string"===typeof b[e]&&b[e]&&!ea[b[e]]&&(ea[b[e]]=
new Image,ea[b[e]].src=b[e])};a.changeImage=function(b,f){B&&x();v=f;h.attr("src",b);a.preload(b);G=w(h);f&&("immediately"===k.preload?a.preload(f,!0):c(q).ready(function(){a.preload(f)}),p?p.updateImage(f):h.attr("data-old-hires",f))};a.destroy=function(){r.acEnabled?f.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):h.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");c(document).unbind("mousemove.magnifier");A&&A.destroy();A=null;
p&&p.destroy();p=null};a.detailImage=function(){return p.detailImage};a.suppressMagnifier=function(a){ha=a};a.isEngaged=function(){return B};a.engageMagnifier=E;a.disengageMagnifier=x;h[0].complete?e():h.one("load",e);a.preload(h.attr("src"));q.performance&&performance.now&&q.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(k.preload){var Q=k.detailImageUrl;S=function(){a.preload(Q,!0);k.useClickZoom||Z.preload()};var da=k.preload;da.constructor!==Array&&(da=[da]);for(var aa=
0;aa<da.length;aa++)if("immediately"===da[aa])S();else if(c(q)[da[aa]])c(q)[da[aa]](S);else c(q).bind(da[aa],S)}return a}function N(){if(r.useHoverZoom){var h={adjustment:[0,0,1,1],generalImageUrls:r.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:r.useHoverZoomIpad,useHoverZoom:r.useHoverZoom,useClickZoom:r.useClickZoom,fadeMagnifier:r.fadeMagnifier,zoomOutIcon:r.staticImages.zoomOutCur,enhancedHoverOverlay:r.enhancedHoverOverlay||r.atfEnhancedHoverOverlay};
u&&(u.destroy(),u=Q);var k=O.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");d.isjQueryObjDefined(k)?r.useClickZoom?(k.one("click.loadmagnifier touchstart.loadmagnifier",function(c){u=new g(k,h);u.engageMagnifier(c,!0)}),M?k.css("cursor",'url("'+r.staticImages.zoomInCur+'"), auto'):(k.css("cursor","-webkit-zoom-in"),k.css("cursor","-moz-zoom-in"),k.css("cursor","zoom-in"))):u=new g(k,h):n.isEnabled&&H.logHoverZoomApplicability(c,n)}}var z,
r,C,t,u,O,M=navigator.userAgent.match(/msie|trident/i),I=!1,U=!1;return function(c,d,g,m){z=this;r=c;C=d;n.refToModel=C;t=m;z.render=function(c,d,h,g,k,l){O=h;u&&(u.destroy(),u=Q)};z.update=function(c){};t.register("loadMagnifier",N);t.register("resize",N)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(m,c,d,D){function n(c,m,n){c=(c=n?n:d.getColorFromState(m.getState().hovered_variations,g))&&""!==c?c:g.defaultColor;c={color:c};g.isMediaBlock&&
(c.thumbnailIndex=N.getCurrentItem().thumbnailIndex);z.dispatch("updateView",{type:"swatchHover",data:c});D.postCountMetric("swatchHover")}function H(m,n,t,u){u=m=(m=u?u:d.getColorFromState(n.getState().selected_variations,g))&&""!==m?m:g.defaultColor;g.twisterInteractionSimplificationEnabled&&"initial"===m&&(u=d.getTwisterColorFromState(n.getState().selected_variations));u===N.getCurrentItem().color||g.colorToAsinCached&&g.colorToAsinCached[u]?"function"===typeof t&&t():(g.isMediaBlock&&(c("#mediaBlock_feature_div").removeClass("js-feature-refresh-overlay").css("opacity",
""),g.asinToColor=g.asinToColor||{},g.asinToColor[n.getState().current_asin]=m),!g.twisterInteractionSimplificationEnabled||g.colorToAsinCached&&g.colorToAsinCached[u]||((n=document.querySelector("#altImages \x3e ul"))&&n.classList.add("js-feature-refresh-overlay"),g.colorToAsinCached=g.colorToAsinCached||{},g.colorToAsinCached[u]=!0),n={color:m},g.twisterInteractionSimplificationEnabled&&("initial"!==m?(n.type="image",n.index=0,n.thumbnailIndex=0):g.isMediaBlock&&"image"!==N.getCurrentItem().type&&
(n.type="image",n.index=0,n.thumbnailIndex=0)),z.dispatch("updateSelection",{type:"swatchClick",data:n,onload:function(){if(!g.twisterInteractionSimplificationEnabled){var c={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof q.markFeatureRender&&q.markFeatureRender("imageblock",c)}t()}}),D.postCountMetric("swatchClick"))}function F(d){if(d){var m=null!=d.requestedAsinColor?d.requestedAsinColor:g.defaultColor;g.isMediaBlock&&(m=g.asinToColor[d.asin]||m);var n={altImagesData:!0,
videosData:!0},q={},r;for(r in d)d.hasOwnProperty(r)&&!n[r]&&(q[r]=d[r]);g=c.extend(!0,g,q);g.colorImages[m]="initial"!==m&&g.colorImages[m]&&0<g.colorImages[m].length?g.colorImages[m].slice(0,1).concat(d.altImagesData.slice(1)):d.altImagesData;g.colorToVideo[m]=d.videosData;d={color:m};g.isMediaBlock&&(d.type="image",d.index=0,d.thumbnailIndex=0);d={type:"updatedData",data:d};z.dispatch("updateModel",d);z.dispatch("updateView",d)}}var L,g,N,z;return function(c,d,q,u){L=this;g=c;N=d;z=u;g.asinToColor=
g.asinToColor||{};m.on("image-block-twister-swatch-hover",n);m.on("image-block-twister-swatch-click",H);m.on("twisterRefreshData",F);L.render=function(c,d,g,m,h){};L.update=function(c){}}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(m,c,d,ea,n,H,F){function L(a,f,h,g){if(!d.isjQueryObjDefined(a.find(".a-button-selected"))){var v=w.getCurrentItem();if(!g||"chromeless-video"!==
v.type||!e.autoplayVideo)if(g=0,e.twisterInteractionSimplificationEnabled||"image"!==v.type||(g=Math.max(r(v.color,v.variant),0)),!(v.thumbnailIndex>=e.maxAlts&&0!=g)){var k=f+g;k>=h&&(g=0,k=f);f=d.getImageHash(v.color,g,e);-1!==f&&(b.dispatch("updateModel",{data:{index:g,thumbnailIndex:k,variant:f.variant,type:"image",shoppableScene:f.shoppableScene}}),f=a.find(".item").get(k),d.selectGivenThumbnail(c(f),a))}}}function g(a,b,f,h){if((2===e.unrolledImageBlockTreatment||3===e.unrolledImageBlockTreatment)&&
f)return a;var g=e.colorImages&&e.colorImages[b];b=a;2!==e.unrolledImageBlockTreatment&&3!==e.unrolledImageBlockTreatment||c(".thumbItemUnrolled").each(function(a){(!c(this)[0].classList.contains("thumbTypeimage")||a>=g.length||a>=e.maxAlts)&&c(this).remove()});d.isDefined(g)&&(c.each(g,function(b,f){if(a<e.maxAlts)if(2===e.unrolledImageBlockTreatment||3===e.unrolledImageBlockTreatment){a++;var h=c(".thumbItemUnrolled");h[b]?h[b].querySelector("img").src=f.thumb:c('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+a+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+a+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+a+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+f.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".regularAltImageViewLayout"))}else b=
{type:"image",index:b,thumbnailIndex:a,variant:f.variant,shoppableScene:f.shoppableScene},f=d.createThumbnail(b,f.thumb,S,"imageThumbnail"),"T1"!==e.desktopCollapsibleThumbnailsExperience&&"T2"!==e.desktopCollapsibleThumbnailsExperience||d.updateImageThumbnailOverlay(f,b,g),a++}),H.isEnabled&&F.logAltImgRequestPlacedOnThumbnails(c,H,w),L(S,b,a,f));return a}function N(a,b){e.useIV&&d.isDefined(b.hiRes)&&a.css("cursor","pointer")}function z(a,b){if("image"===a.type&&ha){var f=c("#image-canvas-caption #canvasCaption"),
h=e.staticStrings,g=e.colorImages,k=a.color,v=a.index,l=!1;if(d.isShoppableScenesEnabled()&&a.shoppableScene)var p=h.clickSceneTagsToShopProducts;else b&&e.useIV?(p='\x3ca href\x3d"#"\x3e'+h.clickForFullView+"\x3c/a\x3e",l=!0):g[k]&&g[k][v].hiRes&&e.useHoverZoom?(e.useHoverZoomIpad?p=h.touchToZoom:e.useClickZoom?p=h.clickToZoom:(p='\x3ca href\x3d"#"\x3e'+h.clickForFullView+"\x3c/a\x3e",l=!0),e.hoverZoomIndicator&&(p="\x3cimg src\x3d'"+e.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+p)):e.useIV&&(p=
'\x3ca href\x3d"#"\x3e'+h.clickForFullView+"\x3c/a\x3e",l=!0);f.html(p);l&&(a=c("#image-canvas-caption #canvasCaption a"),m.declarative.create(a,"iv-open-caption-click"))}}function r(a,b){return d.getIndexForVariant(a,b,e)}function C(a,b,c){var f=b.thumbnailIndex,d=e.colorToAsin[b.color]&&e.colorToAsin[b.color].asin;b="altImageHover"===c&&y&&y.altImageIdx===f&&y.asin===d&&"swatchClick"===y.event?!0:"swatchHover"===c?y&&y.asin===d&&y.event===c:y&&y.altImageIdx===f&&y.asin===d&&y.event===c;if(!b){var h=
"#",g=a.find(".imgTagWrapper img").get(0);g&&(h=g.src);a=new Image;a.onload=function(){if(g){g.src=h;var a=g.width,b=g.height,e=g.naturalWidth,k=g.naturalHeight;try{var l=(Math.abs(a/e*k-b)/b).toFixed(2);.01<l&&(q.ue&&((("landing"!==c||Q||B)&&"swatchClick"!==c||q.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===c||"swatchClick"===c)?q.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==c||B?"altImageHover"!==c||Q||(q.ue.count("imageBlock-PC-hi_res_alt_image_distortion",
1),Q=!0):(q.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),B=!0)),q.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},q.ueLogError("swatchHover"===c?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+d+" Event:"+c+" Diff:"+l.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+d+" at altImageIdx "+f+" Event:"+c+" Diff:"+l.toString()+"]"},a)))}catch(aa){q.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},
q.ueLogError(aa,a))}}};"#"!==h&&(a.src=h);y.altImageIdx=f;y.asin=d;y.event=c}}function t(a,b){var f="a-dynamic-image";if(!e.acEnabled){var h;c.each(a.main,function(a,b){d.isDefined(h)||(h=parseFloat(b[1]/b[0])<=parseFloat(e.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});f+=h}var g=d.getMaxDimensionsOfMainImage(a.main,A,e),k=g[0],l=g[1];g=c("\x3cdiv\x3e\x3c/div\x3e");k={"max-height":k,"max-width":l};g.addClass(f).css(k).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",
onload:b}).data("a-dynamic-image",a.main);return g}function u(){m.on("a:image:load:swatchHoverImage",function(a){n.postCountMetric("mainImageUpdateOnTwisterSwatchHover")})}function O(a,c,f){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",d,{wb:1});f.attr("data-a-image-name","shoppable-scene:"+a);f=p.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");f.find(".mirai-scene-image-block-tag-container").attr({"data-csa-c-content-id":d,
"data-csa-c-slot-id":d,"data-csa-c-type":"widget","data-csa-c-asin":e.mediaAsin,"data-csa-c-physical-id":c.shoppableScene.physicalId,"data-product-line":c.shoppableScene.productLine});f.children("span").css("display","inline-block");b.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:c.shoppableScene,imageSource:c.hiRes||c.large||c.lowRes,$tagPlaceholder:f.find(".mirai-scene-tag-placeholder"),$viewProductsButton:f.find(".mirai-scene-view-products-button")});"MutationObserver"in q&&(new MutationObserver(function(b,
f){b.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&""!==b.addedNodes[0].src&&(b=b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){m.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:c.shoppableScene})}),f.disconnect())})})).observe(f.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&
uet("cf",d,{wb:1});return f}function M(a,b,c){c=t(a,c);a=d.isShoppableScenesEnabled()&&a.shoppableScene?O(b,a,c):p.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(c);e.isMediaBlock?p.find(".desktop-media-mainView").append(a):p.find(".list").append(a);
m.loadImageManually(c);m.trigger("dp:image-block:imageBlockImageLoad",b);return a}function I(a){var b=A.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");e.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(e.imgTagWrapperClasses)}function U(a){if(a.isUserGenerated){var b=w.getPreviousItem(),c=a.variant;d.isDefined(c)&&b.thumbnailIndex!==a.thumbnailIndex&&(H.isEnabled&&F.logAltImgRequestServed(H),n.postCountMetric("ImageThumbnailSelectedVariant:"+c),0===
c.indexOf("IG")&&(n.postCountMetric("IGImageSelectedVariant:"+c),n.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function h(a,f,h,g,l){if(2!==e.unrolledImageBlockTreatment&&3!==e.unrolledImageBlockTreatment||g||"unavailable"===a.type){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){(v=d.isDefined(f))&&n.postCountMetric("mainImageUpdateOnTwisterVariationClick");h=d.getImageHash(a.color,a.index,e);if(-1===h)return f={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},
d.lazyLoadingRequired(a,w,e)||(b.dispatch("updateModel",f),d.showUnavailable(a.color)),-1;g=p.find(".item.itemNo"+a.thumbnailIndex);if(e.isMediaBlock&&"swatchClick"===l||!e.isMediaBlock&&!d.isjQueryObjDefined(g))g=M(h,a.thumbnailIndex,f),v?(B=Q=!1,C(g,a,"swatchClick")):C(g,a,"altImageHover");if(e.isMediaBlock&&"swatchClick"===l||!k(g,h,a))I(g),N(g,h);b.dispatch("loadMagnifier");z(a);U(a);m.trigger("dp:image-block:update",h)}}else if(a=e.colorImages&&e.colorImages[h],c(".unrolledImg").each(function(a){c(this).remove()}),
d.isDefined(a)){c.each(a,function(a,b){if(a<e.maxAlts){var f=c(".unrolledImg");f[a]?c(".unrolledImg #unrolledImgNo"+a+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):a>=f.length&&c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+a+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
a+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"))}});m.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var v=d.isDefined(f);v&&(n.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
f())}}function k(a,b,c){if(!e.isMediaBlock)return!1;var f=a.find("div.a-image-wrapper.a-manually-loaded.a-dynamic-image").first();f.length&&(b=d.getMaxDimensionsOfMainImage(b.main,A,e),f.css({"max-height":b[0],"max-width":b[1]}),m.loadImageManually(f),m.trigger("dp:image-block:imageBlockImageLoad",c.thumbnailIndex));c=A.css("height");null!==c&&a.find(".imgTagWrapper").css("height",c);e.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(e.imgTagWrapperClasses);return!0}function l(a){var b=0;e.twisterInteractionSimplificationEnabled||
(b=Math.max(r(a.color,w.getCurrentItem().variant),0));b=d.getImageHash(a.color,b,e);if(-1===b)return d.lazyLoadingRequired(a,w,e)||d.showUnavailable(a.color),-1;var c=p.find(".swatchHoverExp"),f=t(b);e.isMediaBlock&&f.attr({"data-a-image-name":"swatchHoverImage"});c.find(".imgTagWrapper").html(f);m.loadImageManually(f);n.postCountMetric("mainImageUpdateOnTwisterVariationHover");I(c);C(c,a,"swatchHover");m.trigger("dp:image-block:update",b)}function J(a,b){d.lazyLoadingRequired(a,w,e)||(c("#imageBlock").css("opacity",
"1"),p.css("opacity","1"),d.spinner(p,!1),e.isMediaBlock||(p.find("li").removeClass("selected"),ha&&c("#image-canvas-caption #canvasCaption").empty(),d.hideUnavailable(),b&&p.find(".list .item").remove()))}function T(a){d.lazyLoadingRequired(a,w,e)&&b.dispatch("updateModel",{data:{type:"lazy-loaded"}})}function P(){var a=p.find(".item .imgTagWrapper"),b=d.getContainerHeight(A,e.holderRatio,e.holderMaxHeight);0<b&&(A.height(b),a.height(b));p.find("img.a-dynamic-image").each(function(){var a=c(this);
a.data("a-manual-replacement")&&m.loadDynamicImage(this);var b=a.data("a-dynamic-image");b=d.getMaxDimensionsOfMainImage(b,A,e);a.css({"max-height":b[0]+"px","max-width":b[1]+"px"})})}function R(a){z(w.getCurrentItem(),"mouseenter"===a.type)}function K(){if("function"===typeof q.markFeatureRender){var a={hasComponents:!0,components:[{name:"thumbnail"}]};q.markFeatureRender("imageblock",a)}"function"===typeof q.markFeatureInteractive&&(a={hasComponents:!0,components:[{name:"thumbnail",events:["click",
"hover"],alwaysInteractive:!1}]},q.markFeatureInteractive("imageblock",a))}function x(){m.on("a:image:load:mbAltImage",function(a){a=a.$imageElement.data("mb-pv-slot-index");q.logContentLoadedMarker&&q.logContentLoadedMarker(a)})}var E,e,w,b,a,f,S,p,A,y={},G,ja=null,Q=!1,B=!1,ha=(ea=m.state("imageBlockStateData"))?!ea.shouldRemoveCaption:!0;m.on("triggerImageAjax",function(a){if(!e.twisterInteractionSimplificationEnabled){var c=w.getCurrentItem().color;e.colorImages[c]||(e.colorImages[c]=a);a={type:"updatedData",
data:w.getCurrentItem()};b.dispatch("updateView",a);(c=e.colorToAsin[c])&&c.asin&&D.register(d.rankedImagesReadyEvent(c.asin))}});return function(k,m,r,M){E=this;e=k;w=m;b=M;e.colorImages[e.landingAsinColor]=e.colorImages[e.defaultColor];E.render=function(a,b,f,d,k,l,m,n){p=2!==e.unrolledImageBlockTreatment&&3!==e.unrolledImageBlockTreatment?f:c(".unrolledScrollBox");S=d;A=k;e.twisterInteractionSimplificationEnabled&&"swatchClick"===n?G=0:(G=e.isMediaBlock?b:g(b,a,l,n),e.twisterInteractionSimplificationEnabled&&
"updatedData"===n&&((f=document.querySelector("#altImages \x3e ul"))&&"undefined"!==typeof f.classList&&f.classList.remove("js-feature-refresh-overlay"),K()));l?0===b&&C(p.find(".item.itemNo0"),w.getCurrentItem(),"landing"):T(w.getCurrentItem());J(w.getCurrentItem(),!l);b=m;e.twisterInteractionSimplificationEnabled&&(b=function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof q.markFeatureRender&&q.markFeatureRender("imageblock",a);"function"===typeof m&&m()});2===e.unrolledImageBlockTreatment||
3===e.unrolledImageBlockTreatment?"swatchClick"===n&&e&&e.colorImages?(ja=e.colorImages[a],h(w.getCurrentItem(),b,a,l)):"updatedData"===n&&e&&e.colorImages&&e.colorImages[a]!==ja&&(ja=e.colorImages[a],h(w.getCurrentItem(),b,a,l)):h(w.getCurrentItem(),b,a,l,n);return G};d.isImageBlockGridViewHoverDelayEnabled()?E.update=function(b){var c=b.data;w.setCurrentEvent(b);"ingress"!==c.type&&"swatchHover"!==b.type&&(w.setToPreviousItem(),"mouseenter"===b.type?(f&&clearTimeout(f),f=setTimeout(function(){w.setToCurrentItem(c);
J(b.data,!1)},d.getHoveringDelayTimer())):"mouseleave"===b.type?f&&clearTimeout(f):"click"===b.type&&(w.setToCurrentItem(c),J(b.data,!1)));"swatchHover"===b.type?("ingress"!==c.type&&J(b.data,!1),c.color===w.getCurrentItem().color?h(w.getCurrentItem(),null,c.color,!0):b.captured||-1===l(c)||(b.captured=!0)):"image"===c.type&&(c.interaction=b.type,c.isUserGenerated=!0,"mouseenter"===b.type?(n.postCountMetric("dpcc_imageThumbHovered_"+(c.thumbnailIndex+1)+"_"+G),a&&clearTimeout(a),a=setTimeout(function(){h(c,
null,c.color,!0);e.usePeekHover||d.selectGivenThumbnail(b.$declarativeParent,S)},d.getHoveringDelayTimer())):"mouseleave"===b.type?a&&clearTimeout(a):"click"===b.type&&(h(c,null,c.color,!0),d.selectGivenThumbnail(b.$declarativeParent,S),n.postCountMetric("dpcc_imageThumbClicked_total"),n.postCountMetric("dpcc_imageThumbClicked_"+(c.thumbnailIndex+1)+"_"+G)))}:E.update=function(a){var b=a.data;w.setCurrentEvent(a);"ingress"!==b.type&&J(a.data,!1);"swatchHover"===a.type?b.color===w.getCurrentItem().color?
h(w.getCurrentItem(),null,b.color,!0):a.captured||-1===l(b)||(a.captured=!0):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type&&n.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+G),h(b,null,b.color,!0),e.usePeekHover&&"click"!==a.type||(e.isMediaBlock||d.selectGivenThumbnail(a.$declarativeParent,S),"click"===a.type&&(n.postCountMetric("dpcc_imageThumbClicked_total"),n.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+G))))};e.overrideAltImageClickAction&&
d.addTag("clickEnabledOnAltImages");b.register("imageHover",R);b.register("resize",P);e.isMediaBlock&&(u(),x())}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(m,c,d,q){function n(d,g){d=c("\x3cimg src\x3d'"+(g?t.staticImages.shoppableSceneDotHighlighted:t.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");d.css({display:g?"none":"inline-block"});d.addClass("mirai-scene-tag").addClass(g?"active-tag":"inactive-tag");return d}function H(d){var g=
c("\x3cspan\x3e");m.each(d.tags,function(d){var h=c("\x3cdiv\x3e").css({position:"absolute",left:100*d.left+"%",top:100*d.top+"%",height:"auto",width:"auto"});h.append(n(d,!1));h.append(n(d,!0));h.bind("mouseenter",function(){F(c(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});m.declarative.create(h,"scenes-show-details-tags-ib",{tagId:d.link});g.append(h)});return g.children()}function F(c){c.addClass("mirai-scene-dot-pulsate");m.delay(function(){c.removeClass("mirai-scene-dot-pulsate")},
4E3)}function L(c,d){c.css({display:"none"});d.css({display:"inline-block"})}function g(c,d,g){c.eq(g).css({display:"inline-block"});d.eq(g).css({display:"none"})}function N(c){D.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){m.trigger("mirai:scene-details-change",{physicalId:c})})}function z(){var d=c("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),g=c("\x3cimg class\x3d'item-tag'\x3e").attr("src",t.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),
m=c("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");m.html(t.staticStrings.shoppableSceneViewProductsButton);return d.append(g).append(m)[0].outerHTML}function r(c){function d(){c.$tagPlaceholder.replaceWith(h);var d=h.find(".mirai-scene-tag.active-tag"),k=h.find(".mirai-scene-tag.inactive-tag");g(d,k,0);F(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));O=!0;c.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+
c.index,{wb:1});u=!0;q.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(c.shoppableScene){var n=c.$viewProductsButton.find(".a-button-text");if(0===n.children().length){n.append(z());m.declarative.create(c.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:c.shoppableScene.tags[0].link});var h=H(c.shoppableScene),k=h.find(".mirai-scene-tag.active-tag"),l=h.find(".mirai-scene-tag.inactive-tag"),r=c.shoppableScene.physicalId,u=!1;m.on("mirai:index:change",function(c){c.scenePhysicalId===
r&&(c=c.selectedIndices[0],L(k,l),g(k,l,c),F(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(c)),O=!0)});m.on("mirai:scene-details-change",function(c){c.physicalId!==r||O||(L(k,l),g(k,l,0),F(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),O=!0)});m.on("mirai:no-products-active",function(c){c.scenePhysicalId===r&&L(k,l)});m.on("mirai:set-first-product-active",function(c){c.scenePhysicalId===r&&(L(k,l),g(k,l,0))});m.on("a:image:load:shoppable-scene:"+c.index,function(){u||
(d(),q.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});m.on("shoppable-scene-image-loaded",function(g){g.index!=c.index||u||(d(),q.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});D.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){m.trigger("mirai:scene-side-sheet-init",{icons:t.staticImages,strings:t.staticStrings});m.trigger("mirai:scene-details-init",{scene:c.shoppableScene,imageSource:c.imageSource})})}}}
var C,t,u,O=!1;return function(c,g,m,h){C=this;t=c;u=h;d.isShoppableScenesEnabled()?(u.register("initialize-shoppable-scene",r),C.render=function(c,d,g,h,m,n,q){},C.update=function(c){"mouseenter"===c.type&&(c.data.shoppableScene?N(c.data.shoppableScene.physicalId):O=!1)}):(c=function(){},C.render=c,C.update=c)}});D.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";var ba="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(m){return typeof m}:
function(m){return m&&"function"===typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};D.when("A","jQuery","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(m,c,d,D,n,H,F,L){function g(b){return null!==b&&"undefined"!==typeof b}function N(b){var a=0;c.each(b,function(b,c){b=parseInt(c[1],10);b>a&&(a=b)});return a}function z(b){var a=0;c.each(b,function(b,c){b=parseInt(c[0],
10);b>a&&(a=b)});return a}function r(b,a,c){a=a.width();if(c.naturalMainImageSize)return a;b=N(b);0<b&&(a=Math.min(a,b));return a}function C(b,a,c){a=a.height();if(c.naturalMainImageSize)return a;b=z(b);0<b&&(a=Math.min(a,b));return a}function t(b){var a;c.each(b,function(b,c){g(a)||(a=c[1]/c[0])});return a||1}function u(b){if(b){if(0<b.indexOf(".m3u8"))return"application/x-mpegURL";if(0<b.indexOf(".mp4"))return"video/mp4"}return""}function O(b,a){a=a.find("img");g(a[b])&&c(a[b]).click()}function M(b,
a){R[b]=a?a:R[b];return R[b]}function I(b,a,f){f=f||P;f=f.colorImages;if(1>f.length||!g(f[b])||!g(a))return-1;var d=-1;c.each(f[b],function(b,c){c.variant===a&&(d=b)});return d}function U(b,a,f){f=f||P;f=f.colorImages;return!(g(f)&&g(f[b])&&g(f[b][a])&&g(f[b][a].main))||1>c.map(f[b][a].main,function(a,b){return b}).length?-1:f[b][a]}function h(b,a,c,d){d.parent().css("z-index",2);0!==c&&0!==a&&(a/=c,d.css("width",""),d.css("height",""),b>a?d.css("width",a/b*100+"%"):d.css("height",b/a*100+"%"))}function k(b,
a){var f;if(f=b.useIV)f=b.colorImages&&b.colorImages[a]&&0<b.colorImages[a].length?!0:!1;b=f;H.isEnabled&&(H.IVApplicaple=b,F.logImmersiveViewApplicability(c,H));return b}function l(){return 0<c(".gridImageBlockViewLayoutIn2x4").length||0<c(".gridImageBlockViewLayoutIn2x5").length||0<c(".gridImageBlockViewLayoutIn1x7").length}var J="#imageBlock .variationUnavailable",T,P=c.extend(!0,{},D,n);P.isMediaBlock&&(J="#imageBlock .mediaUnavailableExp");P.isMediaBlock&&!P.lazyLoadExperienceDisabled&&(P.colorToAsin=
{},P.landingAsinColor="initial",P.visualDimensions=[]);var R={},K=0,x=0,E=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,e={},w={};return{isDefined:g,isDefinedAndEmpty:function(b){return g(b)&&"object"===("undefined"===typeof b?"undefined":ba(b))&&0===Object.keys(b).length},isUndefinedOrEmpty:function(b){return g(b)?"object"===("undefined"===typeof b?"undefined":ba(b))&&0===Object.keys(b).length:!0},isDefinedAndNotEmpty:function(b){return g(b)?"object"===("undefined"===typeof b?"undefined":ba(b))&&0<Object.keys(b).length:
!1},isjQueryObjDefined:function(b){return 0!==b.length},getAspectRatio:t,getMaxHeightOfMainImage:C,getMaxWidthOfMainImage:r,getMaxDimensionsOfMainImage:function(b,a,c){if(c.acEnabled)return[a.height(),a.width()];var f=C(b,a,c);a=r(b,a,c);b=t(b);c=a/b;a=Math.min(a,f*b);f=Math.min(f,c);return[f,a]},getContainerHeight:function(b,a,c){var f=b.get(0);b=0;if(g(f)){b=Math.min(f.offsetWidth/a,c);var d;a=P.mainImageHeightPartitions;c=P.mainImageMaxSizes;if(g(c)&&g(a)){var e=0,h=q.innerHeight||document.documentElement.clientHeight||
document.body.clientHeight;for(f=0;f<a.length;f++)h>a[f]&&(e=f+1);c.length>=e&&(d=c[e])}g(d)&&(b=Math.min(d[1],b))}return b},getColorFromState:function(b,a){if(b){a=a||P;var f="";c.each(a.visualDimensions,function(a,c){b[c]&&(f+=" "+b[c])});return f&&f.substring(1)}},createThumbnail:function(b,a,c,d){var f=c.find(".template").clone().removeClass("template").addClass("item"),e=document.createElement("img");e.src=a;f.find(".placeHolder").replaceWith(e);(a=b.heroVideoVariant)&&"hero-image"===b.type&&
b.variant===a&&f.addClass("heroImageThumbnail");g(d)&&f.addClass(d);l()&&f&&(d=document.createElement("div"),d.className="imageBlockThumbnailImageGrayOverlay",e.parentNode.insertBefore(d,e));m.declarative.create(f,"thumb-action",b);f.attr&&(f.attr("data-ux-click",""),b.type&&b.type.match(/video/)?(f.attr("data-csa-c-type","uxElement"),f.attr("data-csa-c-element-type","navigational"),f.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(f.attr("data-csa-c-type","uxElement"),
f.attr("data-csa-c-element-type","navigational"),f.attr("data-csa-c-action","image-block-alt-image-hover")),f.attr("data-csa-c-posy",b.thumbnailIndex+1));c.append(f);return f},updateImageThumbnailOverlay:function(b,a,c){b.find(".textMoreImages").append(c.length-a.thumbnailIndex+"+")},selectGivenThumbnail:function(b,a){b=b.find(".a-button");var c=b.find(".a-button-input");a.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");a.find(".a-button-input").attr("aria-checked",
"false");b.addClass("a-button-selected").addClass("a-button-focus");c.attr("aria-checked","true")},loadMediaIntoAiry:function(b,a,c,d){b&&b.getMediaSourceInfo()!==a.url&&(d?b.loadMedia?(T={mediaSourceInfo:[a.url],contentId:a.mediaObjectId,refTag:"vse_ib_tablet_web",title:a.title,altText:a.altText},b.loadMedia(T)):b.play({videoUrl:a.url,imageUrl:a.slateUrl,mimeType:"video/mp4",contentId:a.mediaObjectId,rankingStrategy:a.rankingStrategy,refTag:"vse_ib_tablet_web"}):b.loadMedia?b.loadMedia({mediaSourceInfo:a.url,
contentId:a.mediaObjectId,contentMinAge:Number(a.minimumAge||"")||0,contentTitle:a.title,slateImages:{preloadSlate:a.slateUrl,postMediaSlate:a.slateUrl}}):b.setInitialData({videoUrl:a.url,mimeType:u(a.url),contentId:a.mediaObjectId,rankingStrategy:a.rankingStrategy,imageUrl:a.slateUrl,aciContentId:a.aciContentId,title:a.title,altText:a.altText}))},showUnavailable:function(b){b&&(P.isMediaBlock&&c("#imageBlock .canvas").find("li").removeClass("selected"),c("#imageBlock .unvailableVariation").html(b),
c(J).show())},hideUnavailable:function(){c(J).hide()},fadeToThumbnail:function(b,a,c){a.fadeTo(500,0,function(){O(b,c);a.fadeTo(500,1)})},toggleVideoCaption:function(b){b&&b.toggle()},selectThumbnail:O,spinner:function(b,a){var f=c("#imageBlock .a-spinner").parent();0===f.length&&(f=c("\x3cdiv\x3e\x3c/div\x3e").append(c("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(f),f.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)",
"-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));a?f.show():f.hide();return f},rankedImagesReadyEvent:function(b){return"ranked-images-ready-for-"+b},ajaxState:M,getIndexForVariant:I,getImageHash:U,lazyLoadingRequired:function(b,a,c){a=Math.max(I(b.color,a.getCurrentItem().variant,c),0);a=-1!==U(b.color,a,c);b=c.colorToAsin[b.color]&&c.colorToAsin[b.color].asin;
b=!b||"success"!==M(b);return!c.lazyLoadExperienceDisabled&&!a&&b},lazyLoadOnHoverEnabled:function(b){return!b.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:h,repositionVideoBanner:function(b,a,c,d){setTimeout(function(){var c=b.width()/b.height();h(c,16,9,a)},d||0)},getVideosCount:function(b,a){return a.useChildVideos&&a.colorToVideo[b]?a.colorToVideo[b].length:a.videos?a.videos.length:0},getVideoHash:function(b,a,c){if(c.useChildVideos){if(!g(c.colorToVideo))return-1;b=c.colorToVideo[b]}else b=
c.videos;return g(b)&&g(b[a])&&g(b[a].url)?b[a]:-1},isImmersiveViewEnabled:k,playVideoInImmersiveView:function(b,a){return k(b,a)&&b.useTabbedImmersiveView},useTabbedImmersiveView:function(b){return b.useTabbedImmersiveView},getMediaSourceInfo:function(){return g(T)?T.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(b,a,c){var f=c.marketPlaceID,d=c.languageCode;c={videoURL:c.url,imageURL:c.slateUrl};a:{if(b)if(b.colorToAsin&&b.colorToAsin[a]&&b.colorToAsin[a].asin){b=b.colorToAsin[a].asin;
break a}else if(b.mediaAsin){b=b.mediaAsin;break a}b=""}return{requester:"DetailPageTablet",marketplaceID:f,clientPrefix:"ImageBlock_tablet",locale:d,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:c,product:{contentID:b,contentIDType:"ASIN"}}},addTag:function(b){q.ue&&q.ue.tag&&q.ue.tag(b)},isShoppableScenesEnabled:function(){return L.isEnabled&&0<c(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:l,isImageBlockGridViewHoverDelayEnabled:function(){return 0<
c(".gridImageBlockViewLayoutIn2x4").length||0<c(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return K},updateThumbnailHoverDelay:function(b){if(g(b)){K=0;var a=b.closest("li");a=a.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(a);if(-1!==a){var c=x;b=b.closest("ul").attr("class");b===Q?c=!1:(b=E.exec(b),null===b||3!==b.length?c=!1:(b=b[2],c=Math.floor(c/b)>Math.floor(a/b)));c&&(K=100);x=a}}},setDimensionIngressData:function(b,a,c){e[b]=
a;w[b]=c},isDimensionIngressEnabled:function(b){return!!e[b]},getDimensionVariantList:function(b){return w[b]},logError:function(b,a,c,d){q.ueLogError&&q.ueLogError(d,{logLevel:b,attribution:a,message:c})},getTwisterColorFromState:function(b){if(b){var a="",f=Object.keys(b).sort();c.each(f,function(c,f){b[f]&&(a+=" "+b[f])});return a&&a.substring(1)}},customerId:""}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",
function(m,c,d,ea,n,H){function F(b,e,g,h){!a.autoplayVideo||da||a.useChromelessVideoPlayer?!d.isjQueryObjDefined(b.find(".a-button-selected"))&&(g=f.getCurrentItem(),!h||a.prioritizeVideos||"chromeless-video"===g.type&&a.autoplayVideo)&&(h=d.getVideoHash(g.color,0,a),-1===h||g.thumbnailIndex>=a.maxAlts-1||(e+=0,S.dispatch("updateModel",{data:{index:0,thumbnailIndex:e,variant:h.variant,type:a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),e=b.find(".item").get(e),d.selectGivenThumbnail(c(e),
b))):(d.selectGivenThumbnail(b.find("img:last"),b),d.fadeToThumbnail(b.find("img").length-1,G,b))}function L(b){if(!a.twisterInteractionSimplificationEnabled){var c=f.getCurrentItem().color;if(a.useChildVideos&&!a.colorToVideo[c]){var e=function(){if(b){a.colorToVideo[c]=b;var d={type:"updatedData",data:f.getCurrentItem()};S.dispatch("updateView",d)}};a.lazyLoadExperienceDisabled?e():D.when(d.rankedImagesReadyEvent(a.colorToAsin[c].asin)).execute(function(){e()})}}}function g(b){if(!a.useChildVideos)return d.lazyLoadingRequired(f.getCurrentItem(),
f,a)?void 0:a.videos;if(a.colorToVideo[b])return a.colorToVideo[b];var c=a.colorToAsin[b];if(c&&c.asin){var e={};e.params={asin:c.asin,productGroupID:a.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:a.useChromelessVideoPlayer,isUDP:a.isUDP};a.isDPXFeatureEnabled||(e.success=function(a){L(a)},ea.load("/gp/product/features/apparel-main-image/videos.html",e));return a.colorToVideo&&a.colorToVideo[b]}}function N(b){B&&null===b&&2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment&&
(B.hide(),A.parent().css("z-index",-1),y&&y.hide())}function z(b,c,f){c=G.width()/G.height();var e=parseInt(b.videoWidth,10),g=parseInt(b.videoHeight,10);d.updateAspectRatio(c,e,g,A);if(B&&"unrolled-video-add"!==f)B.show(),d.loadMediaIntoAiry(B,b,ha,a.tabletWeb);else if(a.tabletWeb)B=W;else{if("unrolled-video-add"===f){B=W;return}if(null===W||W===Q)ca=setInterval(function(){B=W;B!==Q&&null!==B&&(B.show(),d.loadMediaIntoAiry(B,b,ha,a.tabletWeb),r(),U(B),clearInterval(ca),ca=null)},500);else if(B=W,
B!==Q&&null!==B){B.show();d.loadMediaIntoAiry(B,b,ha,a.tabletWeb);r();U(B);return}}r();U(B)}function r(){if(2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment)if(d.useTabbedImmersiveView(a)){if(1<d.getVideosCount(f.getCurrentItem().color,a)&&y){if(d.isDefined(ja)){y.show();return}ja=c('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(a.staticStrings.clickForFullView);y.find("#videoCaption").append(ja);m.declarative.create(ja,"videoIngressClick",v)}d.playVideoInImmersiveView(a,
f.getCurrentItem().color)&&(m.declarative.create(A,"videoIngressClick",v),A.attr&&A.attr("data-ux-click",""),A.children().css("z-index","-1"),A.css("display","inline-block"))}else y&&(y.find("#videoCaption").text(a.staticStrings.playVideo),y.show())}function C(b,f){if("chromeful-video"===b.type||"chromeless-video"===b.type||"unrolled-video-add"===f){var e=d.getVideoHash(b.color,b.index,a);if(-1===e)return-1;if(a.isMediaBlock&&(v={type:b.type,index:b.index,thumbnailIndex:b.thumbnailIndex,variant:b.variant},
"updatedData"!==ba)){var g=c("#main-image-container").find(".item.itemNo"+b.thumbnailIndex).find(".a-list-item");d.isjQueryObjDefined(g)&&(g.find("#video-outer-container").length||c("#main-image-container").find("#video-outer-container").detach().appendTo(g))}"chromeful-video"===b.type&&z(e,b.thumbnailIndex+1,f)}}function t(a){ta||(ta=!0,n.postCountMetric("chromeless-video"===a?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}function u(b,c,f){if(a.twisterInteractionSimplificationEnabled&&
"swatchClick"===f)return 0;c=g(c);d.isDefined(c)&&(P(K),a.imageBlockRenderingStartTime&&n.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",m.now()-a.imageBlockRenderingStartTime));return b}function O(b,h,k,l){if(a.twisterInteractionSimplificationEnabled&&"swatchClick"===l)return b=0;if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&k)return b;var q=g(h);h=b;l=c(".unrolledImg");var oa=d.isDefined(q)&&0<q.length&&a.alwaysIncludeVideo?1:0;d.isDefined(q)&&0<q.length&&
!a.alwaysIncludeVideo&&b===a.maxAlts&&n.postCountMetric("IBVideoDrop");l.length>a.maxAlts&&l.each(function(b){b>=a.maxAlts&&c(this).remove()});oa&&b===a.maxAlts&&(2===a.unrolledImageBlockTreatment||3==a.unrolledImageBlockTreatment?(c(".thumbItemUnrolled").last().remove(),c(".unrolledImg").last().remove()):p.find(".item:last").remove(),b--);d.isDefined(q)&&(c.each(q,function(g,h){if(b<a.maxAlts){if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var l=a.useChromelessVideoPlayer?
"chromeless-video":"chromeful-video";c('\x3cli class\x3d"thumbItemUnrolled thumbType'+l+" thumbIndex"+g+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+b+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+b+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+b+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+h.thumb+
'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c("ul.regularAltImageViewLayout"));c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+b+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
b+'" class\x3d"videoIndex'+g+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"));a.dp60InLastPositionUnrolledImageBlock||2!==a.dp60VideoPosition||M(c(".regularAltImageViewLayout"),a.dp60VideoPosition)}else{l=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var k={type:l,index:g,thumbnailIndex:b,variant:h.variant};v={type:"video-ingress",index:g,thumbnailIndex:b,variant:h.variant};d.useTabbedImmersiveView(a)&&("chromeful-video"===
l&&(aa+=" videoBlockIngress  videoBlockDarkIngress",h.thumb=h.thumb.replace("_PKmb-play-button-overlay-thumb","")),a.altsOnLeft||(aa+=" a-align-top"));d.isImageBlockGridViewDisplayEnabled()&&(aa+=" videoImageBlockGridView");d.createThumbnail(k,h.thumb,p,aa);2===a.dp60VideoPosition&&M(p,a.dp60VideoPosition);d.useTabbedImmersiveView(a)&&(I(p.find(".videoBlockIngress img"),a.videoIngressATFSlateThumbURL),g=1<q.length?"multiple-videos":"one-video",(k=1<q.length?q.length+" "+a.staticStrings.multipleVideos:
a.staticStrings.singleVideo)&&p.find(".videoBlockIngress").append(p.find("#videoCount_template").clone().text(k).attr("id","videoCount")).addClass(g));sa=d.useTabbedImmersiveView(a)?q.map(function(a){return a.mediaObjectId}).join(","):h.mediaObjectId;h=n.buildNexusMetric("ib.thumbnailRender",b+1,h.mediaObjectId,h.rankingStrategy,d.customerId,h.groupType,Z,Y,ia,X,sa);g=e(a,f.getCurrentItem().color);g!==h.pageAsin&&(h.pageAsin=g,h.pageUrl=w(g));n.emitNexusMetric(h);t(l)}b++}if(d.useTabbedImmersiveView(a))return!1}),
F(p,h,b,k),P(K),a.imageBlockRenderingStartTime&&n.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",m.now()-a.imageBlockRenderingStartTime));return b}function M(b,f){if(0!==f)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var d=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",e=b.children(".thumbTypeimage");b=b.children(".thumbType"+d);e&&b&&e[f-1]&&c(e[f-1]).before(b[0]);b=c(".unrolledScrollBox .list-unrolled");e=b.children(".unrolledImg.imgMedia");
b=b.children(".unrolledImg.videoMedia");e&&b&&e[f-1]&&c(e[f-1]).before(b[0]);c(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(a){for(var b=null,f=0;f<this.classList.length;f++)this.classList[f].includes("itemNo")&&(b=f);null!==b&&c(this).removeClass(this.classList[b]).addClass("itemNo"+a);this.querySelectorAll("div")[1].id="unrolledImgNo"+a})}else e=b.children(".imageThumbnail"),b=b.children(".videoBlockIngress"),e&&b&&e[f-1]&&c(e[f-1]).before(b[0])}function I(a,b){var c=
a.attr("src");c&&b&&(a.attr("src",b),b=new Image,b.onload=function(b){a.attr("src",c)},b.src=c)}function U(b){a.autoplayVideo&&b&&!da&&(y&&d.toggleVideoCaption(y),b.setVolume(0),b.show(),b.play(),da=!0)}function h(b){B&&B.pause();b.data=v;b.clickTimeStamp=b.$event.timeStamp;var f="a"===b.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";S.dispatch("imageClick",b);n.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp);b=n.buildNexusMetric("ib.thumbnailClick",b.data.thumbnailIndex+
1,a.videos[0].mediaObjectId,a.videos[0].rankingStrategy,d.customerId,a.videos[0].groupType,Z,Y,ia,X);n.emitNexusMetric(b);n.postCountMetric(f);c("#main-video-container .vjs-control-bar").css("display","none");c("#main-video-container .vjs-poster").css("display","inline-block")}function k(a){null!==B&&B!==Q&&(B.frame&&B.frame.remove(),B=null,W.frame&&W.frame.remove(),W=null);W=a.player;c("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");W.hide=function(){W.pause();
m.$("#main-video-container").find(".vse-player-container").hide()};W.show=function(){m.$("#main-video-container").find(".vse-player-container").show()};W.getMediaSourceInfo=function(){return d.getMediaSourceInfo()}}function l(b,g,l,k,n,p){N(p);A=null!==p?c("#unrolledImgNo"+p.thumbnailIndex):k.find("#main-video-container");xa&&(y=null!==p?"":A.parent().find("#video-canvas-caption"));G=null!==p?c(".unrolledScrollBox"):c("#main-image-container");null===p&&d.isImageBlockGridViewDisplayEnabled()&&(A.addClass("videoCenter"),
k.find("#video-outer-container").addClass("videoWrapperCenter"));Z=q.location.href;b=f.getCurrentItem().color;!0===n?Y=a.mediaAsin:(Y=a.colorToAsin[b]&&a.colorToAsin[b].asin,Y=d.isDefined(Y)?Y:a.mediaAsin);a.useChromelessVideoPlayer||A.addClass("chromeful-container");null!==p?C(p,"unrolled-video-add"):C(f.getCurrentItem(),"");d.useTabbedImmersiveView(a)&&m.declarative("videoIngressClick",["click"],h);if(-1!==r&&null!==p){b=f.getCurrentItem().color;var r=d.getVideoHash(b,p.index,a);n={requester:"MediaBlockSoftlines",
marketplaceID:r.marketPlaceID,clientPrefix:"mbSoftlines"+p.thumbnailIndex,locale:r.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:r.url,imageURL:r.slateUrl},product:{contentID:e(a,b),contentIDType:"ASIN"}};H.get(m,"#unrolledImgNo"+p.thumbnailIndex,n,function(){m.$("#unrolledImgNo"+p.thumbnailIndex).find(".vse-player-container").show()},function(){m.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function J(b,
f){function d(){var a=Math.floor((p.width()-1)/k);return g?a-1:a}function e(b){b=d();f.slice(b).hide();f.slice(0,b).show();f.find(".textMoreImages").remove();f.removeClass("overlayRestOfImages");f.find("img").each(function(){c(this).parent().attr("aria-hidden","true")});if(b<f.length){var e=b-1;b=f.eq(e);f.eq(e).find("img").parent().attr("aria-hidden","false");e=f.length-e;e=c("\x3cspan\x3e").addClass("textMoreImages").text(e+"+");b.find("img").after(e);b.addClass("overlayRestOfImages");a.isMediaBlock&&
(b=b.find("span .a-declarative"),e=b.data("thumbAction"),e.actionOnClick="openImageImmersiveView",b.attr({"data-thumb-action":e}))}}var g=0!=p.find(".item.videoThumbnail").length,h=f.eq(0).width(),l=f.eq(1).position().left-f.eq(0).position().left-h,k=h+l;e();b.register("resize",e)}function T(a){var b=p.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==Q&&c.decode().then(function(){J(a,b)})}}function P(a){try{if(!a)return!1;qa=a;ma=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");
a={root:null,rootMargin:"0%",threshold:.75};null!==pa&&pa.disconnect();0<ma.length&&(pa=new IntersectionObserver(R,a));ma.forEach(function(a){pa.observe(a)})}catch(ya){n.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}function R(a){qa(a,va,ua,ma,wa)}function K(a,b,d,e,h){try{c.each(a,function(a,l){var k=c(e).index(l.target);l.isIntersecting?na[k]||(na[k]=setTimeout(function(){b=b.slice();b.push(k);d=b.sort(function(a,b){return a-b});var a=x(d,h);if(0!==a.length&&0!==d.length){var c=
f.getCurrentItem().color;c=g(c);E(c,a);delete na[k]}},1E3)):(clearTimeout(na[k]),delete na[k],b=b.filter(function(a){return a!==k}),d=b.sort(function(a,b){return a-b}))})}catch(Aa){n.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}function x(a,b){return b=a=a.slice().filter(function(a){return 0>b.indexOf(a)})}function E(a,b){try{if(!a||!b||0===a.length||0===b.length)return!1;c.each(b,function(b,c){if(c=1===ma.length?a[0]:a[c])b=n.buildNexusMetric("ib.thumbnailImpression",b+1,c.mediaObjectId,
c.rankingStrategy,d.customerId,c.groupType,q.location.href,Y,ia,X),n.emitNexusMetric(b)})}catch(za){n.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}function e(a,b){if(a){if(a.colorToAsin&&a.colorToAsin[b]&&a.colorToAsin[b].asin)return a.colorToAsin[b].asin;if(a.mediaAsin)return a.mediaAsin}return""}function w(a){Z=q.location.href;return Z.replace(/\/dp\/([A-Z0-9]{10})/,"/dp/"+a)}var b,a,f,S,p,A,y,G,ja,ba,B,ha,v,V,W,Y,Z,ia,X,ka,fa,la,ta=!1,da=!1,aa="videoThumbnail",ca=null,pa=null,ua,wa=
[],ma,va=[],qa=null,ra=m.state("imageBlockStateData"),xa=ra?!ra.shouldRemoveCaption:!0,na={},sa;return function(g,h,q,r){b=this;a=g;f=h;S=r;ha=a.airyConfig;ia=a.contentWeblab&&a.contentWeblab+":"+a.contentWeblabTreatment;d.customerId=d.customerId||a.customerId||"";a.colorToVideo={};a.colorToVideo[a.landingAsinColor]=a.colorToVideo[a.defaultColor]=a.videos;a.tabletWeb?(ka="tablet",X="applicationType.ImageBlock.vse_ib_tablet_web"):m.capabilities.tablet?(ka="tablet",m.capabilities.isAmazonApp&&(X="applicationType.ImageBlock.vse_ib_tablet_app")):
(ka="desktop",X="desktop_web.ImageBlock.vse_ib_iv");b.render=function(b,g,h,k,n,q,r,t){a.isMediaBlock&&(ja=Q,ba=t);if(null!==ca||a.twisterInteractionSimplificationEnabled&&"swatchClick"===t)clearInterval(ca),ca=null,A&&A.parent&&A.parent().css("z-index",-1),y&&y.hide&&y.hide();if(!a.twisterInteractionSimplificationEnabled||"swatchClick"!==t){r=[];if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){p=c("ul.regularAltImageViewLayout");V=O(g,b,q,t);r=[];g=c(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||
this.classList.contains("thumbTypechromeless-video")});for(t=0;t<g.length;t++){var v=g[t].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",G=Number(g[t].classList[2].slice(10)),w=c(".thumbItemUnrolled").index(g[t]);r.push({color:b,thumbnailIndex:w,type:v,varient:"MAIN",index:G})}for(t=0;t<r.length;t++)l(b,h,k,n,q,r[t])}else p=k,V=a.isMediaBlock?u(g,b,t):O(g,b,q,t),l(b,h,k,n,q,null),b=f.getCurrentItem().color,h=d.getVideoHash(b,0,a),-1!==h&&(b=a.tabletWeb?d.getNilgiriServiceAjaxRequest(a,
b,h):{requester:"MediaBlockSoftlines",marketplaceID:h.marketPlaceID,clientPrefix:"mbSoftlines",locale:h.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:h.url,imageURL:h.slateUrl},product:{contentID:e(a,b),contentIDType:"ASIN"}},H.get(m,"#main-video-container",b,function(){m.$("#main-video-container").find(".vse-player-container").hide()},function(){m.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));a.collapsibleThumbnails&&
T(S);return V}};b.setupIntersectionObserverToWatchVideoThumbnail=P;b.emitMultipleImpressionMetric=E;d.isImageBlockGridViewHoverDelayEnabled()?b.update=function(b){null!==ca&&(clearInterval(ca),ca=null,A&&A.parent&&A.parent().css("z-index",-1),y&&y.hide&&y.hide());var c=b.data;"ingress"===c.type||"swatchHover"===b.type||d.lazyLoadingRequired(c,f,a)||(f.setToPreviousItem(),"mouseenter"===b.type?(la&&clearTimeout(la),la=setTimeout(function(){f.setToCurrentItem(c);N(null)},d.getHoveringDelayTimer())):
"mouseleave"===b.type?la&&clearTimeout(la):"click"===b.type&&(f.setToCurrentItem(c),N(null)));if("swatchHover"===b.type)"ingress"===c.type||d.lazyLoadingRequired(c,f,a)||N(null),c.color===f.getCurrentItem().color?C(f.getCurrentItem(),""):b.captured||d.lazyLoadingRequired(c,f,a)&&!d.lazyLoadOnHoverEnabled(a)&&C(f.getCurrentItem(),"");else if("chromeful-video"===c.type){var e=d.getVideoHash(c.color,c.index,a);"mouseenter"===b.type?(n.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+
V),e=n.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,e.mediaObjectId,e.rankingStrategy,d.customerId,e.groupType,Z,Y,ia,X),n.emitNexusMetric(e),fa&&clearTimeout(fa),fa=setTimeout(function(){C(c,"");!a.usePeekHover&&m.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&d.selectGivenThumbnail(b.$declarativeParent,p)},d.getHoveringDelayTimer())):"mouseleave"===b.type?fa&&clearTimeout(fa):"click"===b.type&&(C(c,""),m.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&(d.selectGivenThumbnail(b.$declarativeParent,
p),e=n.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,e.mediaObjectId,e.rankingStrategy,d.customerId,e.groupType,Z,Y,ia,X),(!d.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==ka)&&n.emitNexusMetric(e),d.useTabbedImmersiveView(a)&&(n.emitNexusMetric(e),n.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+V),v.action="videoIngressClick",v.clickTimeStamp=b.$event.timeStamp,v.$event=b.$event,v.$currentTarget=b.$currentTarget,S.dispatch("videoIngressClick",v),
n.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}}:b.update=function(b){null!==ca&&(clearInterval(ca),ca=null,A&&A.parent&&A.parent().css("z-index",-1),y&&y.hide&&y.hide());var c=b.data;"ingress"===c.type||d.lazyLoadingRequired(c,f,a)||N(null);if("swatchHover"===b.type)c.color===f.getCurrentItem().color?C(f.getCurrentItem(),""):b.captured||d.lazyLoadingRequired(c,f,a)&&!d.lazyLoadOnHoverEnabled(a)&&C(f.getCurrentItem(),"");else if("chromeful-video"===c.type){var e=d.getVideoHash(c.color,
c.index,a);if("mouseenter"===b.type){n.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+V);var g=n.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,e.mediaObjectId,e.rankingStrategy,d.customerId,e.groupType,Z,Y,ia,X);n.emitNexusMetric(g)}C(c,"");a.usePeekHover&&"click"!==b.type||!m.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")||(a.isMediaBlock||d.selectGivenThumbnail(b.$declarativeParent,p),"click"===b.type&&(e=n.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+
1,e.mediaObjectId,e.rankingStrategy,d.customerId,e.groupType,Z,Y,ia,X),(!d.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==ka)&&n.emitNexusMetric(e),d.useTabbedImmersiveView(a)&&(n.emitNexusMetric(e),n.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+V),v.action="videoIngressClick",v.clickTimeStamp=b.$event.timeStamp,v.$event=b.$event,v.$currentTarget=b.$currentTarget,S.dispatch("videoIngressClick",v),n.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}};
if(!a.twisterInteractionSimplificationEnabled&&a.isDPXFeatureEnabled)m.on("triggerVideoAjax",L);m.on("vsePlayer-imageblock_tablet",k);m.on("vsePlayer-mbsoftlines",k)}});"use strict";D.when("ImageBlockBTF","postMetric","MediaBlockTwisterRefreshDataLoader").register("ImageBlockInitViews",function(m,c,d){function Q(c,d,F,L,g){function n(a){"click"===a.type&&L.postCountMetric("thumbClick");x.isMediaBlock&&(F.selectGivenThumbnail(a.$declarativeParent,w),r(a));"click"===a.type&&x.overrideAltImageClickAction?
E.dispatch("thumbActionClick",a):E.dispatch("updateSelection",a)}function z(){d("#imageBlock .canvas").find("li").removeClass("selected");(b?!b.shouldRemoveCaption:1)&&d("#image-canvas-caption #canvasCaption").empty();F.hideUnavailable()}function r(a){z();var b=a.data.thumbnailIndex,c=d("#imageBlock .canvas").find(".item.itemNo"+b);F.isjQueryObjDefined(c)?(c.addClass("selected"),q.logSlotLoadedMarker&&q.logSlotLoadedMarker(b)):(F.showUnavailable(a.data.color),L.postCountMetric("mediaBlock_pv_slot_missing_on_thumbnail_"+
b),q.ueLogError&&q.ueLogError({message:"Thumbnail item not found for index: "+b},{logLevel:"Error",attribution:"mediaBlock-desktop-pv-thumbnail-item-missing"}))}function C(a){x.useClickZoom||E.dispatch("imageClick",a)}function t(a){x.useClickZoom||E.dispatch("imageHover",a)}function u(a){E.dispatch("button360Click",a)}function H(a){E.dispatch("captionClick",a)}function M(a){!F.isDefined(a)||"swatchClick"!==a.type&&"updatedData"!==a.type?(K.update(a),"swatchHover"!==a.type&&e.getPreviousItem().thumbnailIndex!==
a.data.thumbnailIndex&&L.postCountMetric(a.data.type+"ThumbnailSelected"),c.trigger("image-block-thumbnail-selected",a.data)):(K.render(a.data.color,!1,a.onload,a.type),x.twisterInteractionSimplificationEnabled||(a={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof q.markFeatureRender&&q.markFeatureRender("imageblock",a)))}function I(a){E.dispatch("resize",a)}function Q(a){F.selectThumbnail(a,w)}function h(){"function"===typeof q.markFeatureInteractive&&q.markFeatureInteractive("imageblock",
{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function k(){x.interactiveCallJSPEnabled||("function"===typeof q.markFeatureInteractive&&(x.twisterInteractionSimplificationEnabled?q.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!1}]}):q.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",
events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]})),1===m.useIV?D.when("a-modal").execute(function(){h()}):h());x.disableHoverOnAltImages||c.declarative("thumb-action",["mouseenter","mouseleave"],n);c.declarative("thumb-action",["click"],n);c.declarative("main-image-click",["click"],C);c.declarative("main-image-click",["keydown"],function(a){var b=a.$event;"keyCode"in b&&13===b.keyCode&&C(a)});c.declarative("main-image-click",["mouseenter","mouseleave"],
t);c.declarative("button-360-click",["click"],u);c.declarative("iv-open-caption-click",["click"],H);c.on("resize",I)}function l(a){var b=a.data,c;b&&"ingress"!==b.type&&"click"===a.type&&(c=a);return c}function J(a){var b=e.getCurrentItem(),c={type:"click"};c.$declarativeParent=a;c.data=b;return c}function T(){var a=w.find(".item.imageThumbnail");if(!(1>=a.length)){var b=e&&e.getCurrentItem()&&e.getCurrentItem().color;b=(b=x.colorImages&&b&&x.colorImages[b])&&b.length;a.removeClass("overlayRestOfImages");
a.length<b&&(a.eq(a.length-1).addClass("overlayRestOfImages"),a=document.createElement("div"),a.className="lastAltImageOverlay",(b=(b=(b=document.getElementsByClassName("overlayRestOfImages")[0])&&b.getElementsByTagName("img"))&&0<b.length&&b[0])&&b.parentNode&&(b.parentNode.insertBefore(a,b),b=(b=b.parentNode.getElementsByClassName("textMoreImages"))&&0<b.length&&b[0]))&&("T1"===x.desktopCollapsibleThumbnailsExperience?(b.classList.add("textMoreImages-t1"),a.classList.add("lastAltImageOverlay-t1"),
L.postCountMetric("desktopCollapsibleThumbnailShowT1")):"T2"===x.desktopCollapsibleThumbnailsExperience&&(b.classList.add("textMoreImages-t2"),a.classList.add("lastAltImageOverlay-t2"),L.postCountMetric("desktopCollapsibleThumbnailShowT2")))}}function P(a,b){a.data.color===e.getCurrentItem().color?r(a):(z(),b.find(".swatchHoverExp").addClass("selected"))}function R(a){F.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===a.type&&F.updateThumbnailHoverDelay(a.$target)}var K,x,E,e,w,b=c.state("imageBlockStateData");
return function(a,b,c){K=this;x=a;E=b;e=c;w=d("#imageBlock #altImages ul");var f=d("#imageBlock .canvas"),h=d("#main-image-container"),m;K.subViews=[];for(b=0;b<g.length;b++)K.subViews.push(new g[b](a,c,K,E));K.render=function(a,b,c,g){var k=0;w=d("#imageBlock #altImages ul");f=d("#imageBlock .canvas");h=d("#main-image-container");x.isMediaBlock&&"swatchClick"===g&&(E.dispatch("updateTwisterHoverState",!1),z(),d("#imageBlock .canvas").find(".desktop-media-mainView").empty());x.isMediaBlock||x.twisterInteractionSimplificationEnabled&&
"swatchClick"===g||w.find(".item").remove();a=a||e.getCurrentItem().color;d.each(K.subViews,function(e,d){k=(x.twisterInteractionSimplificationEnabled||2===x.unrolledImageBlockTreatment||3===x.unrolledImageBlockTreatment?d.render(a,k,f,w,h,b,c,g):d.render(a,k,f,w,h,b,c))||k});x.isMediaBlock||"T1"!==x.desktopCollapsibleThumbnailsExperience&&"T2"!==x.desktopCollapsibleThumbnailsExperience||T();var l=w.find(".a-button-selected").closest(".a-declarative");m=J(l)};K.init=function(){w=d("#imageBlock #altImages ul");
var a=w.find(".a-button-selected").closest(".a-declarative"),b=a.data("action");a=a.data(b)||{};a.color=x.landingAsinColor||x.defaultColor;E.dispatch("updateModel",{data:a});K.render(a.color,!0);x.isDebug&&q.console&&console.log(x);E.register("updateView",M);E.register("selectThumbnail",Q);k()};K.update=function(a){R(a);x.isMediaBlock&&"swatchHover"===a.type&&e.getShouldUpdateOnTwisterHover()&&P(a,f);d.each(K.subViews,function(b,c){c.update(a)});x.isMediaBlock&&E.dispatch("updateTwisterHoverState",
!0);x.usePeekHover&&("mouseleave"===a.type?E.dispatch("updateSelection",m):"click"===a.type&&(m=l(a)||m))}}}c=["A","jQuery","imageBlockUtils","postMetric"].concat(m.views);D.when.apply(D,c).register("ImageBlockView",function(){for(var c=arguments[0],d=arguments[1],m=arguments[2],q=arguments[3],g=[],D=4,z=arguments.length;D<z;D++)g.push(arguments[D]);return Q(c,d,m,q,g)})})});
/* ******** */
(function(F){var r=window.AmazonUIPageJS||window.P,oa=r._namespace||r.attributeErrors,l=oa?oa("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):r;l.guardFatal?l.guardFatal(F)(l,window):l.execute(function(){F(l,window)})})(function(F,r,oa){F.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils","postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(l,b,c,g,m){function ca(a,e){var c=b(a+" image").attr("data");b(a+" image")[0].setAttribute("href",
c);a=new Image;a.src=c;a.onload=function(){e(this.width/this.height)}}function v(a){null!==b(a.euclidSvg)&&(new Promise(function(b,c){ca(a.euclidSvg,b)})).then(function(e){if(null===b(a.featureDiv)||0===b(a.featureDiv).length||0>=e)var c=null;else{var d=b(a.featureDiv).width(),K=b(a.featureDiv).height(),h=2*(16+x(a.euclidHeightText,a.numberSpace)+10),t=d-h,l=b(a.euclidHeightLine).data("euclid-height-startx");0>l?h+=t*Math.abs(l)*2:1<l&&(h+=t*(l-1)*2);t=d-h;0>t&&(h=152);var ea=b(a.euclidWidthLine).data("euclid-width-starty"),
k=1<ea?K*(ea-1)+50:50,n=K-k;if(t/n>e)var ba=n*e,fa=n,T=n*e+h,u=K;else ba=t,fa=t/e,T=d,u=t/e+k;c={imageWidth:ba,imageHeight:fa,svgWidth:T,svgHeight:u}}if("undefined"===typeof c||null===c||10>=c.imageWidth||10>=c.imageHeight||10>=c.svgWidth||10>=c.svgHeight)m.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var q=c,p=a.euclidSvg;b(p+" image").attr("width",q.imageWidth);b(p+" image").attr("height",q.imageHeight);b(p).attr("width",q.svgWidth);b(p).attr("height",q.svgHeight);var ia=(q.svgWidth-
q.imageWidth)/2;b(p+" image")[0].setAttribute("x",ia);b(p+" image")[0].setAttribute("y",10);var W=q.imageWidth,E=q.imageHeight,g=(q.svgWidth-q.imageWidth)/2,v=b(a.euclidLengthLine).data("euclid-length-startx")*W,V=b(a.euclidLengthLine).data("euclid-length-starty")*E,y=b(a.euclidLengthLine).data("euclid-length-endx")*W,z=b(a.euclidLengthLine).data("euclid-length-endy")*E,A=b(a.euclidWidthLine).data("euclid-width-startx")*W,D=b(a.euclidWidthLine).data("euclid-width-starty")*E,Y=b(a.euclidWidthLine).data("euclid-width-endx")*
W,B=b(a.euclidWidthLine).data("euclid-width-endy")*E,G=b(a.euclidHeightLine).data("euclid-height-startx")*W,L=b(a.euclidHeightLine).data("euclid-height-starty")*E,ca=b(a.euclidHeightLine).data("euclid-height-endx")*W,ra=b(a.euclidHeightLine).data("euclid-height-endy")*E,gb=(B-D)/(Y-A),hb=0>=gb?"leftInclined":"rightInclined",Ra=1/gb,pa=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(Ra,2)))),qa=0===pa?16:Math.abs(Ra*pa),sa=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(Ra,2)))),X=0===sa?3:Math.abs(Ra*
sa),M=(z-V)/(y-v),F=1/M,r=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(F,2)))),C=0===r?16:Math.abs(F*r),H=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(F,2)))),J=0===H?3:Math.abs(F*H),U=0>=M?"leftInclined":"rightInclined";if(.5<b(a.euclidHeightLine).data("euclid-height-startx")){var Q=G+g+16,R=L+10,S=ca+g+16,ma=ra+10,da=G+g+16-3,la=L+10,ha=G+g+16+3,oa=L+10,ib=ca+g+16-3,jb=ra+10,kb=ca+g+16+3,lb=ra+10,mb=(Q+S)/2+5,nb=(R+ma)/2+8,Aa=Y+g+pa,Ba=B+qa+10,Ca=A+g+pa,Da=D+qa+10,ob=Y+g+pa-sa,pb=B+qa-X+10,qb=
Y+g+pa+sa,rb=B+qa+X+10,sb=A+g+pa-sa,tb=D+qa-X+10,ub=A+g+pa+sa,vb=D+qa+X+10;if("leftInclined"===hb){var Sa=(Aa+Ca)/2;var Ta=(Ba+Da)/2+15}else Sa=(Aa+Ca)/2+5,Ta=(Ba+Da)/2;var Ea=v+g-r,Fa=V+C+10,Ga=y+g-r,Ha=z+C+10,wb=v+g-r-H,xb=V+C+J+10,yb=v+g-r+H,zb=V+C-J+10,Ab=y+g-r-H,Bb=z+C+J+10,Cb=y+g-r+H,Db=z+C-J+10,Gb=x(a.euclidLengthText,a.numberSpace);if("leftInclined"===U)var Ua=(Ea+Ga)/2,Va=(Fa+Ha)/2+15;else Ua=(Ea+Ga)/2-Gb,Va=(Fa+Ha)/2+15}else{Q=G+g-16;R=L+10;S=ca+g-16;ma=ra+10;da=G+g-16-3;la=L+10;ha=G+g-
16+3;oa=L+10;ib=ca+g-16-3;jb=ra+10;kb=ca+g-16+3;lb=ra+10;var Hb=x(a.euclidHeightText,a.numberSpace);mb=(Q+S)/2-Hb-3;nb=(R+ma)/2+8;Aa=Y+g-pa;Ba=B+qa+10;Ca=A+g-pa;Da=D+qa+10;ob=Y+g-pa-sa;pb=B+qa+X+10;qb=Y+g-pa+sa;rb=B+qa-X+10;sb=A+g-pa-sa;tb=D+qa+X+10;ub=A+g-pa+sa;vb=D+qa-X+10;var Eb=x(a.euclidWidthText,a.numberSpace);"leftInclined"===hb?(Sa=(Aa+Ca)/2-Eb,Ta=(Ba+Da)/2):(Sa=(Aa+Ca)/2-Eb,Ta=(Ba+Da)/2+15);Ea=v+g+r;Fa=V+C+10;Ga=y+g+r;Ha=z+C+10;wb=v+g+r+H;xb=V+C+J+10;yb=v+g+r-H;zb=V+C-J+10;Ab=y+g+r+H;Bb=
z+C+J+10;Cb=y+g+r-H;Db=z+C-J+10;"leftInclined"===U?(Ua=(Ea+Ga)/2,Va=(Fa+Ha)/2+15):(Ua=(Ea+Ga)/2+15,Va=(Fa+Ha)/2)}var Ib=Ea;var Jb=Fa;var Kb=Ga;var Lb=Ha;var Mb=wb;var Nb=xb;var Ob=yb;var Pb=zb;var Qb=Ab;var Rb=Bb;var Sb=Cb;var Tb=Db;var Ub=Ua;var Vb=Va;var Wb=Aa;var Xb=Ba;var Yb=Ca;var Zb=Da;var $b=ob;var ac=pb;var bc=qb;var cc=rb;var dc=sb;var ec=tb;var fc=ub;var gc=vb;var hc=Sa;var ic=Ta;var jc=Q;var kc=R;var lc=S;var mc=ma;var nc=da;var oc=la;var pc=ha;var qc=oa;var rc=ib;var sc=jb;var tc=kb;var uc=
lb;var vc=mb;var wc=nb;N(p+" .hit-pd-euclid-height-line",jc,kc,lc,mc);N(p+" .hit-pd-euclid-height-start",nc,oc,pc,qc);N(p+" .hit-pd-euclid-height-end",rc,sc,tc,uc);na(p+" .hit-pd-euclid-height-text",vc,wc);N(p+" .hit-pd-euclid-width-line",Wb,Xb,Yb,Zb);N(p+" .hit-pd-euclid-width-start",$b,ac,bc,cc);N(p+" .hit-pd-euclid-width-end",dc,ec,fc,gc);na(p+" .hit-pd-euclid-width-text",hc,ic);N(p+" .hit-pd-euclid-length-line",Ib,Jb,Kb,Lb);N(p+" .hit-pd-euclid-length-start",Mb,Nb,Ob,Pb);N(p+" .hit-pd-euclid-length-end",
Qb,Rb,Sb,Tb);na(p+" .hit-pd-euclid-length-text",Ub,Vb);P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&(a===O&&"dimension-ingress-image"===I.getCurrentItem().type?(w(),b("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),b("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action","dimension-hero-click"),m.postTimeMetric("dppc_loadDimensionHeroTime",Date.now()-
ja)):a===aa&&(b("ivDimensionTab").css("display","block"),f(b("#iv-euclid"),b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")),m.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-ka)))}});P("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container")&&C(a===O,I.getCurrentItem(),null)}function x(a,e){return b(a).text().replace(/[^0-9]/g,"").length*e+5}function N(a,e,c,d,K){a=b(a)[0];a!==oa&&null!==a&&(a.setAttribute("x1",e),a.setAttribute("y1",
c),a.setAttribute("x2",d),a.setAttribute("y2",K))}function na(a,e,c){var d=b(a)[0];d!==oa&&null!==d&&(d.setAttribute("x",e),d.setAttribute("y",c),a=b(a+" tspan"),a!==oa&&null!==a&&2===a.length&&(a[0].setAttribute("x",e),a[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),a[1].setAttribute("x",e),a[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function U(a){if(!b("#imageBlock #main-image-container #dimension-ingress-outer-container").length||b("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!b("#imageBlock #main-image-container #dimension-ingress-outer-container").length){a=
G(a.color);if(null===a)return;if(a in L)P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&L[a].clone().appendTo(b(fa));else{var e=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");e.length?(P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&e.clone().appendTo(b(fa)),L[a]=e):M(a)}}v(O)}}function M(a){try{setTimeout(function(){da++;var e=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");
e.length?(a in L||(L[a]=e),b("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=b("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&e.clone().appendTo(b(fa)),v(O)):100>da&&M(a)},100)}catch(e){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+e)}}function P(a){return"true"===b(a).attr("data-should-use-in-hero")}
function C(a,e,c){var d=k.colorImages[e.color],K=b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");K&&0<K.length?(d=F(d),J(d,a,e,c)):Q(d,a,e,c)}function Q(a,e,c,d){try{setTimeout(function(){R++;var K=b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");K&&0<K.length?(K=F(a),J(K,e,c,d)):100>R?Q(a,e,c,d):(m.postCountMetric("dpcc_dimensionIngress_hero_data_not_found"),
K=a[0],J(K,e,c,d))},100)}catch(K){console.log("ImageBlockImmersiveViewDimensionIngress lazy load seller image loop:"+K)}}function F(a){for(var e=b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image").attr("variant"),c=a[0],d=0;d<a.length;d++){var K=a[d];K.variant===e&&(c=K)}c===a[0]&&m.postCountMetric("dpcc_dimensionIngress_no_image_data_found_for_seller_image_variant");return c}function J(a,e,d,h){e?((e=ba.find(".item.dimensionItemNo"+
d.thumbnailIndex))&&e.remove(),e=d.thumbnailIndex,h=B(a,h),d=ba.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate"),d.addClass("image item dimensionItemNo"+e+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":e+1}),d.find(".placeHolder").replaceWith(h),d.find(".a-declarative").attr("data-action","dimension-hero-click"),ba.find(".list").append(d),l.loadImageManually(h),
h=e=d,d=V.css("height"),null!==d&&h.find(".imgTagWrapper").css("height",d),h.addClass("selected"),k.imgTagWrapperClasses&&h.find(".imgTagWrapper").addClass(k.imgTagWrapperClasses),S.dispatch("loadMagnifier"),h=e,k.useIV&&c.isDefined(a.hiRes)&&h.css("cursor","pointer"),l.trigger("dp:image-block:update",a)):(H(a),f(b("#iv-seller"),b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper")))}function H(a){var e=b("#ivDimensionTab #ivLargeDimensions");if(0<e.find(".imgTagWrapper").length){var c=b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");
return r(e,c)}c=b("\x3cdiv\x3e\x3c/div\x3e");c.addClass("imgTagWrapper");var d=b("\x3cimg\x3e");c.html(d);e.append(c);c=b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");c.attr("src",a.hiRes);return r(e,c)}function r(a,b){a=a.closest("#ivStageDimensions");var e=a.width();a={height:"auto","max-height":a.height(),"max-width":e,"text-align":"center"};b.css(a);b=b.closest(".imgTagWrapper");b.css(a);return b}function B(a,e){var d="a-dynamic-image";if(!k.acEnabled){var h;b.each(a.main,function(a,
b){c.isDefined(h)||(h=parseFloat(b[1]/b[0])<=parseFloat(k.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=h}var K=c.getMaxDimensionsOfMainImage(a.main,V,k),f=K[0],t=K[1];K=b("\x3cdiv\x3e\x3c/div\x3e");f={"max-height":f,"max-width":t};K.addClass(d).css(f).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:e}).data("a-dynamic-image",a.main);return K}function q(){var a='\x3ca href\x3d"#"\x3e'+k.staticStrings.clickForFullView+"\x3c/a\x3e";b("#image-canvas-caption #canvasCaption").html(a);
a=b("#image-canvas-caption #canvasCaption a");l.declarative.create(a,"dimension-hero-click")}function G(a){var b=k.colorToAsin[a];return b&&b.asin?a=k.colorToAsin[a].asin:a=k.mediaAsin?k.mediaAsin:null}function d(){b("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");b("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",-1)}function w(){null!==b(O.euclidSvg)&&0!==b(O.euclidSvg).length?(b("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden"),
b("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",2)):C(O,I.getCurrentItem(),null)}function A(a,b){k.usePeekHover&&"click"!==b.type||c.selectGivenThumbnail(b.$declarativeParent,a)}function y(a){a.action="dimensionIngressClick";a.data=W;S.dispatch("dimensionIngressClick",a)}function D(){ka=Date.now();if(ia&&!b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var a=G(I.getCurrentItem().color);if(null!==a){b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");
var e=b("#ivDimensionTab #ivLargeDimensions").length;console.log("checkImmersiveViewContainer",e);a in L?L[a].clone().appendTo(b("#ivDimensionTab #ivLargeDimensions")):(e=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),e.length?(e.clone().appendTo(b("#ivDimensionTab #ivLargeDimensions")),L[a]=e):E(a));g.populateTitle(b("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),160,k);g.populateVariationSelection(b("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));
ma();ia=!1}a=b("#iv-tab-view-container").find("#ivThumbsDimensions");a.find(".ivRow").not(".placeholder").remove();e=a.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(a);var c=0<b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container").length,d=0<b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container").length;if("true"===b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").attr("data-should-show-thumbnails-in-iv")){if(c){if(!b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").length){var h=
k.colorImages[I.getCurrentItem().color];h=F(h);H(h);b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").addClass("aok-hidden")}t(a,e,h.thumb,b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper"),"iv-seller")}d&&(h=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container image").attr("data"),t(a,e,h,b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container"),"iv-euclid"))}}u()}function u(){Y=b("#ivDimensionTab").height();if(0!==
Y){g.detachImmersiveViewResizeHandler(D);var a=b("#ivDimensionTab #ivMainDimensions"),e=b("#ivDimensionTab").height(),c=b("#ivDimensionTab").width();a.css("height",e);a.css("width",c);c=a.find("#ivTitleDimensions").outerHeight(!0);var d=a.find("#ivVariationSelectionDimensions").outerHeight(!0),h=a.find("#ivThumbsDimensions"),f=g.getDimension(h,"margin-top")+g.getDimension(h,"margin-bottom");h.css("height",e-c-d-f);c=a.find("#ivStageDimensions");a=(a[0]&&a[0].getBoundingClientRect&&Math.floor(a[0].getBoundingClientRect().width)||
a.width())-g.getDimension(a,"padding-left")-g.getDimension(a,"padding-right")-a.find("#ivThumbColumnDimensions").width()-g.getDimension(c,"margin-left")-g.getDimension(c,"margin-right");c.css("width",a);c.css("height",e);v(aa)}}function t(a,b,c,d,h){a=a.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:h}).appendTo(b);a.find(".ivThumbImage").css("background",'url("'+g.getResizedThumbnailURL(c)+'") center no-repeat');d.hasClass("aok-hidden")||a.addClass("selected");T(a,d)}function T(a,
b){a.click(function(){f(a,b)})}function f(a,b){a.parent().find(".ivThumb").removeClass("selected");a.addClass("selected");b.hasClass("imgTagWrapper")&&r(b,b.find("img"));b.parent().find("#dimension-ingress-outer-container").addClass("aok-hidden");b.parent().find(".imgTagWrapper").addClass("aok-hidden");b.removeClass("aok-hidden")}function E(a){try{setTimeout(function(){h++;var c=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");c.length?(a in L||(L[a]=c),b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&
0>=b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&c.clone().appendTo(b("#ivDimensionTab #ivLargeDimensions")),u()):100>h&&E(a)},100)}catch(e){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+e)}}function X(a,e){n&&clearTimeout(n);"mouseenter"===e.type&&(n=setTimeout(function(){U(a);b("#image-canvas-caption #canvasCaption").empty();q();A(ea,e)},c.getHoveringDelayTimer()));"mouseleave"===e.type&&q()}var p,k,I,S,ea,ba,V,W,ia=!0,ja,ka,n,z,L=
{},da=0,h=0,R=0,fa="#imageBlock #main-image-container",Y,O={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",
euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},aa={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",
euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},ma=l.once(function(){g.attachImmersiveViewResizeHandler(D)});l.on.resize(function(){P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&v(O)});return function(a,e,f,t){p=this;k=a;I=e;S=t;k.isMediaBlock&&(fa="#imageBlock #main-image-container #dimension-ingress-container");a=k.mediaAsin;e=[];k&&k.dimensionIngressAtfData&&
k.dimensionIngressAtfData.initial&&(e=k.dimensionIngressAtfData.initial.dimensionVariantList);c.setDimensionIngressData(a,k.dimensionIngressEnabled,e);p.render=function(a,e,d,f,t,l,g,n){ea=f;ba=2!==k.unrolledImageBlockTreatment&&3!==k.unrolledImageBlockTreatment?d:b(".unrolledScrollBox");V=t;ia=!0;b("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();b("#ivDimensionTab #ivLargeDimensions").empty();
h=da=0;d=G(I.getCurrentItem().color);if(null!==d){if(c.isDimensionIngressEnabled(d)&&(!k.twisterInteractionSimplificationEnabled||"swatchClick"!==n)&&k.dimensionIngressThumbURL&&k.dimensionIngressThumbURL.initial&&k.dimensionIngressThumbURL.initial.length){if(!k.isMediaBlock){n=c.getDimensionVariantList(d);if(n.includes("DIMN")||n.includes("DCMN"))Array.isArray(n)||(n=JSON.parse(n.replace(/(\w+)/g,'"$1"'))),n.push("DIMN"),n.push("DCMN");if(n&&0<n.length)for(d=k.colorImages[a],t=f.find(".item.imageThumbnail"),
l=0;l<t.length&&l<k.maxAlts-1;l++)if(g=d[l].variant,"MAIN"!=g&&n.includes(g)&&(g=t.eq(l)))g.remove(),e--;e===k.maxAlts&&(f.find(".item.imageThumbnail").last().remove(),e--);W={type:"dimension-ingress-image",index:0,thumbnailIndex:e,variant:"Main"};c.createThumbnail(W,k.dimensionIngressThumbURL.initial,f,"dimension-ingress-imageblock-thumbnail");f=k.dimensionIngressAtfData.initial.thumbnailCaption;f=b("\x3cspan /\x3e").html(f);f.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");
f.attr("id","dimensionCaption");b(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");b(".dimension-ingress-imageblock-thumbnail").append(f);e++}b("#ivDimensionTabHeading").removeClass("aok-hidden");G(a)!==k.mediaAsin&&0===b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&b("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return e}b("#ivDimensionTabHeading").addClass("aok-hidden")}};p.update=function(a){var e=a.data;
I.setCurrentEvent(a);k.isMediaBlock&&(W=a.data);"dimension-ingress-image"===e.type?(e.interaction=a.type,e.isUserGenerated=!0,"mouseenter"===a.type&&(ja=Date.now(),m.postCountMetric("dpcc_dimensionIngressHovered")),c.isImageBlockGridViewHoverDelayEnabled()?X(e,a):(U(e),k.isMediaBlock||(b("#image-canvas-caption #canvasCaption").empty(),A(ea,a)),q()),"click"===a.type&&c.useTabbedImmersiveView(k)&&(y(a),m.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===a.type?e.color===I.getCurrentItem().color&&
"dimension-ingress-image"===I.getCurrentItem().type?w():d():c.isImageBlockGridViewHoverDelayEnabled()?(I.setToPreviousItem(),"mouseenter"===a.type&&(z&&clearTimeout(z),z=setTimeout(function(){I.setToCurrentItem(e);d()},c.getHoveringDelayTimer())),"mouseleave"===a.type&&z&&clearTimeout(z),"click"===a.type&&(I.setToCurrentItem(e),d())):d()};g.attachTabSelectHandler("ivDimensionTab",D);l.declarative("dimension-hero-click",["click"],y)}});"use strict";F.when("A","jQuery","imageBlockUtils","postMetric",
"imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(l,b,c,g,m){function r(){m.populateTitle(d.find("#ivTitle"),160,q)}function v(){var b=G.getCurrentItem().color;A=q.colorImages[b];w=q.heroImage[b];y=D=0;c.isDefined(w)&&(y=w.length);c.isDefined(A)&&(D=A.length)}function x(b){return b.hiRes||b.large||b.main[b.main.length-1]}function N(){var b=d.find("#ivStage").find("#ivLargeImage"),c=b.width(),l=b.height(),g=b.find(".fullscreen");g.removeAttr("style");var k=g.width(),
m=g.height();0<g.length&&(g[0].naturalWidth&&(k=g[0].naturalWidth),g[0].naturalHeight&&(m=g[0].naturalHeight));b.css("cursor","auto");k=0===k?1:k;m=0===m?1:m;var p=Math.min(c/k,l/m),n=m*p,w=k*p;1>p?(t?b.css("cursor","url('"+q.staticImages.zoomIn+"'), auto"):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in")),E=!0):E=!1;k=Math.min(w,k);m=Math.min(n-20,m);g.css({"margin-top":(l-m)/2,"margin-left":(c-k)/2,height:m,width:k});b.css("visibility","visible");f=!1}
function F(b){var c=d.find("#ivLargeImage");c.css("visibility","hidden");c.empty();m.animateStageIn(c);c.append(b);N()}function U(f){d.find("#ivLargeImage").css("display","none");d.find("#ivLargeImage").css("display","block");var g;"hero-image"===f?c.isDefined(w)&&(g=x(w[u.index])):c.isDefined(A)&&(g=x(A[u.index]));if(c.isDefined(g)){d.find(".fullscreen").remove();var t=b("\x3cimg\x3e").attr("src",g).addClass("fullscreen"),k=d.find("#ivLargeImage");m.animateStageOut(k,function(){t.load(function(){F(t);
l.trigger("dp:image-block:imageBlockImmersiveImageLoad",u.index)});if(t[0].complete)F(t),l.trigger("dp:image-block:imageBlockImmersiveImageLoad",u.index);else{k.empty();var c=(k.height()-104)/2,d=(k.width()-80)/2;b("\x3cimg\x3e").attr("src",q.staticImages.spinner).css({position:"relative",top:c+"px",left:d+"px"}).appendTo(k)}})}}function M(b){d.find(".ivThumb").removeClass("selected");b.addClass("selected");b.hasClass("ivHeroImage")?u.type="hero-image":u.type="image";u.index=b.attr("id").split("_")[1];
U(u.type);g.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(u.index,10)+1)+"_"+(y+D))}function P(){q.isMediaBlock&&d.undelegate(".ivThumb","click");d.delegate(".ivThumb","click",function(){var c=b(this);M(c)})}function C(b,c){return 0<c?c/2:Math.min(0,Math.max(c,b))}function Q(b){var c=p.top-(b.pageY-I[1])*k;b=C(p.left-(b.pageX-I[0])*k,X.left);c=C(c,X.top);d.find(".fullscreen").css({left:b,top:c})}function la(){q.isMediaBlock&&d.undelegate("#ivLargeImage","click");d.delegate("#ivLargeImage","click",
function(b){if(f)N();else if(E){d.find(".fullscreen").removeAttr("style");if(E){var c=d.find("#ivLargeImage"),l=c.find(".fullscreen");t?c.css("cursor","url('"+q.staticImages.zoomOut+"'), auto"):(c.css("cursor","-webkit-zoom-out"),c.css("cursor","-moz-zoom-out"),c.css("cursor","zoom-out"));f=!0;var m=d.find("#ivLargeImage");X.left=m.width()-l.width();X.top=m.height()-l.height();m=c.height()/2;var w=c.width()/2;I=[c.offset().left+w,c.offset().top+m];p.top=m-l.height()/2;p.left=w-l.width()/2;l.css({position:"relative",
left:p.left,top:p.top});k=Math.max(l.height()/c.height(),l.width()/c.width())}Q(b);g.postCountMetric("dpcc_iv_largeImageCLick")}});q.isMediaBlock&&d.undelegate("#ivLargeImage","mousemove");d.delegate("#ivLargeImage","mousemove",function(b){f&&Q(b)})}function J(){d.find("#ivLargeImage").empty()}function H(f){T?ha():r();f=b("#ivImagesTab").height();d.css("height",f);var g=d.find("#ivTitle").outerHeight(!0),t=d.find("#ivVariationSelection").outerHeight(!0),l=d.find("#ivThumbs"),k=m.getDimension(l,"margin-top")+
m.getDimension(l,"margin-bottom");l.css("height",f-g-t-k);d.find("#ivLargeImage").css("height",f);f=d.find("#ivStage");g=d[0]&&d[0].getBoundingClientRect&&Math.floor(d[0].getBoundingClientRect().width)||d.width();f.css("width",g-m.getDimension(d,"padding-left")-m.getDimension(d,"padding-right")-d.find("#ivThumbColumn").width()-m.getDimension(f,"margin-left")-m.getDimension(f,"margin-right"));u=G.getCurrentItem();f="hero-image"===u.type?d.find("#ivHeroImage_"+u.index):"image"===u.type?d.find("#ivImage_"+
u.index):c.isDefined(w)?d.find("#ivHeroImage_"+u.index):d.find("#ivImage_"+u.index);c.isjQueryObjDefined(f)||(f=d.find("#ivImage_0"));M(f)}function ha(f){d=b("#ivMain");v();u=G.getCurrentItem();r();m.populateVariationSelection(d.find("#ivVariationSelection"));var g=d.find("#ivThumbs");g.find(".ivRow").not(".placeholder").remove();var l=y+D,t=!1;q&&q.dimensionIngressAtfData&&q.dimensionIngressAtfData.initial&&(t=q.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);for(var k=
0,p=0;k<l;)for(var E=g.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(g),n=0;4>n&&k<l;n++,k++,p++)if(p<y){var z=w[k].thumb,x=g.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+k,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":k+1}).appendTo(E);x.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(z)+
'") center no-repeat')}else if(p>=y&&p<D+y){z=q.colorToAsin[G.getCurrentItem().color]&&q.colorToAsin[G.getCurrentItem().color].asin;z||(z=q.mediaAsin);if((x=c.isDimensionIngressEnabled(z))&&t){if((z=c.getDimensionVariantList(z))&&z.includes(A[k-y].variant)){n--;continue}}else if(x&&"DIMN"===A[k-y].variant){n--;continue}z=A[k-y].thumb;x=g.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(k-y),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image",
"data-csa-c-posy":k-y+1}).appendTo(E);x.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(z)+'") center no-repeat')}f?(P(),la(),m.attachImmersiveViewResizeHandler(H),m.attachTabDeselectHandler("ivImagesTab",J)):S();T=!1}var B,q,G,d,w,A,y,D,u,t=navigator.userAgent.match(/msie|trident/i),T=!0,f=!1,E=!1,X={},p={},k,I;T=!0;var S=l.once(function(){P();la();m.attachImmersiveViewResizeHandler(H);m.attachTabDeselectHandler("ivImagesTab",J)});return function(c,d,f,g){B=this;q=c;G=d;B.render=
function(c,d,f,g,l,k,t,h){T=!0;q.isMediaBlock&&"updatedData"===h?ha(q.isMediaBlock):v();0===y+D?m.hideTabHeading("ivImagesTabHeading"):m.unhideTabHeading("ivImagesTabHeading");1===y+D?b("#ivThumbs").hide():b("#ivThumbs").show()};B.update=function(b){};m.attachTabSelectHandler("ivImagesTab",H)}});"use strict";F.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(l,b,c,g,m,ca,
v){function x(){var c=P.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),g=c.find(".a-popover-inner");c=c.height()-v.getDimension(g,"padding-top")-v.getDimension(g,"padding-bottom");b("#iv-tab-view-container").css("height",c);la=b("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==b(this).css("display")}).length;1<la?(b("#iv-tab-view-container ul.iv-tab-views li").parent().show(),g=b("#iv-tab-view-container ul.iv-tab-views li").parent().height(),c-=
g):b("#iv-tab-view-container ul.iv-tab-views li").parent().hide();b("#iv-tab-view-container .iv-tab-content").css("height",c);l.trigger("dp:image-block:immersive-view:resize")}function N(){l.trigger("dp:image-block:immersive-view:reset")}function na(d){if(c.isImmersiveViewEnabled(M,P.getCurrentItem().color))if(H){var w=d.$event.originalEvent;w.acknowledge&&w.acknowledge(d.$currentTarget[0]);m.isEnabled&&ca.logImmersiveViewRequestServed(m);g.postCountMetric("dppc_immersiveViewOpened");c.isDefined(d)&&
("button-360-click"===d.action?b("#iv360TabHeading").click():"videoIngressClick"===d.action?(J=d.clickTimeStamp,b("#ivVideosTabHeading").click()):"showroomIngressClick"===d.action?(J=d.clickTimeStamp,b("#ivShowroomTabHeading").click()):"dimensionIngressClick"===d.action?(J=d.clickTimeStamp,b("#ivDimensionTabHeading").click()):b("#ivImagesTabHeading").click());w=P.getImmersiveViewModalInstance();if(c.isDefined(w))w.show();else{d=b("#auiImmersiveViewDiv");w=Math.min(Math.max(b(r).height()-150,540),
1080);var q=Math.min(Math.max(b(r).width()-75,990),1980);w=H.create(d,{name:"immersiveView",activate:"onclick",width:q,height:w,popoverLabel:"ImmersiveView",hideHeader:!0});P.setImmersiveViewModalInstance(w);d.click()}Q&&(Q=!1,ha(),l.trigger("dp:image-block:immersive-view:init"))}else r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else g.postCountMetric("immersiveViewNotExistsClickCount")}var U,M,P,C,Q=
!0,la=0,J,H;F.when("a-modal").execute(function(b){H=b});var ha=l.once(function(){l.on("a:popover:afterUpdatePosition:immersiveView",x);l.on("a:popover:afterShow:immersiveView",x);l.on("a:popover:afterHide:immersiveView",N)}),B,q=l.once(function(){B=b("#iv-tab-view-container ul.iv-tab-views li");B.bind("click",function(c){var d=B.filter(".iv-active");d.attr("id")!==b(this).attr("id")&&l.trigger("dp:ivTabs:"+d.find("a").attr("data-iv-tab-view")+":deselect",c);B.removeClass("iv-active");b(this).addClass("iv-active");
b("#iv-tab-view-container .iv-tab-content").hide();d=b(this).find("a").attr("data-iv-tab-view");b("#"+d).show();"ivVideosTab"===d&&(c.clickTimeStamp=J||c.timeStamp);l.trigger("dp:ivTabs:"+d+":select",c);g.postCountMetric("dppc_"+d);return!1})}),G=function(){B.unbind("click");B=b("#iv-tab-view-container ul.iv-tab-views li");B.bind("click",function(c){var d=B.filter(".iv-active");d.attr("id")!==b(this).attr("id")&&l.trigger("dp:ivTabs:"+d.find("a").attr("data-iv-tab-view")+":deselect",c);B.removeClass("iv-active");
b(this).addClass("iv-active");b("#iv-tab-view-container .iv-tab-content").hide();d=b(this).find("a").attr("data-iv-tab-view");b("#"+d).show();"ivVideosTab"===d&&(c.clickTimeStamp=J||c.timeStamp);l.trigger("dp:ivTabs:"+d+":select",c);g.postCountMetric("dppc_"+d);return!1})};return function(b,w,v,x){U=this;M=b;P=w;m.refToModel=P;C=x;U.render=function(b,c,d,l,f,m,q,p){M.isMediaBlock&&"updatedData"===p&&G();g.postCountMetric("dpcc_altThumbs_"+c);Q=!0};U.update=function(b){};U.getTitle=function(){};U.getVariationSelectionInfo=
function(){};q();c.isImmersiveViewEnabled(M,P.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");C.register("imageClick",na);C.register("button360Click",na);(M.collapsibleThumbnails||"T1"===M.desktopCollapsibleThumbnailsExperience||"T2"===M.desktopCollapsibleThumbnailsExperience)&&l.declarative("thumb-action",["click"],function(b){if(M.isMediaBlock?"openImageImmersiveView"===b.data.actionOnClick:b.$declarativeParent.hasClass("overlayRestOfImages"))na(b),"T1"===M.desktopCollapsibleThumbnailsExperience?
g.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT1"):"T2"===M.desktopCollapsibleThumbnailsExperience&&g.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT2")});c.useTabbedImmersiveView(M)&&(C.register("videoIngressClick",na),C.register("showroomIngressClick",na),C.register("dimensionIngressClick",na),C.register("captionClick",na))}});"use strict";F.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",
function(l,b,c,g,m,ca,v,x){function N(a){return a.hiRes||a.large||a.main[a.main.length-1]}function na(){h.find("#ivTitle").click(function(){da.hide()})}function U(){e=eb?{type:"360-spin"}:z.getCurrentItem()}function M(){var a=h.find("#ivStage"),b=da.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner");b=b.height()-x.getDimension(c,"padding-top")-x.getDimension(c,"padding-bottom");h.css("height",b);c=h.find("#ivTitle").outerHeight(!0);var e=h.find("#ivVariationSelection").outerHeight(!0),
d=h.find("#ivMediaSelection").outerHeight(!0),f=h.find("#ivThumbs"),g=x.getDimension(f,"margin-top")+x.getDimension(f,"margin-bottom");f.css("height",b-c-e-d-g);h.find("#ivLargeImage").css("height",b);a.css("width",h.width()-x.getDimension(h,"padding-left")-x.getDimension(h,"padding-right")-h.find("#ivThumbColumn").width()-x.getDimension(a,"margin-left")-x.getDimension(a,"margin-right"))}function P(){h.find("#ivMediaSelect").change(function(){var a=b(this).val();"all"===a?(h.find("#ivVideoList").hide(),
h.find("#ivThumbs").show(),h.find(".ivThumbVideo").show(),"chromeful-video"===e.type&&h.find("#ivVideo_"+e.index).click()):"images"===a?(h.find("#ivVideoList").hide(),h.find("#ivThumbs").show(),h.find(".ivThumbVideo").hide(),"chromeful-video"===e.type&&(0===aa&&0===O?h.find("#iv360").click():0===aa?h.find("#ivHeroImage_0").click():h.find("#ivImage_0").click())):"videos"===a&&(h.find("#ivVideoList").show(),h.find("#ivThumbs").hide(),"chromeful-video"!==e.type?h.find("#ivVideoList_0").click():h.find("#ivVideoList_"+
e.index).click())})}function C(){var a=h.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var d=e.width(),f=e.height();0<e.length&&(e[0].naturalWidth&&(d=e[0].naturalWidth),e[0].naturalHeight&&(f=e[0].naturalHeight));a.css("cursor","auto");d=0===d?1:d;f=0===f?1:f;var g=Math.min(b/d,c/f),l=f*g,k=d*g;1>g?(fb?a.css("cursor","url('"+n.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor",
"zoom-in")),Na=!0):Na=!1;d=Math.min(k,d);f=Math.min(l-20,f);e.css({"margin-top":(c-f)/2,"margin-left":(b-d)/2,height:f,width:d});a.css("visibility","visible");Ma=!1}function Q(a){var b=h.find("#ivLargeImage");b.css("visibility","hidden");b.empty();x.animateStageIn(b);b.append(a);C()}function la(){db&&db.pause();h.find("#ivLarge360").css("display","none");h.find("#ivLargeVideo").css("display","none");h.find("#ivLargeImage").css("display","none");G()}function J(a){la();h.find("#ivLargeImage").css("display",
"block");var d;"hero-image"===a?c.isDefined(R)&&(d=N(R[e.index])):c.isDefined(fa)&&(d=N(fa[e.index]));if(c.isDefined(d)){h.find(".fullscreen").remove();var ra=b("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),f=h.find("#ivLargeImage");x.animateStageOut(f,function(){ra.load(function(){Q(ra)});if(ra[0].complete)Q(ra);else{f.empty();var a=(f.height()-104)/2,c=(f.width()-80)/2;b("\x3cimg\x3e").attr("src",n.staticImages.spinner).css({position:"relative",top:a+"px",left:c+"px"}).appendTo(f)}})}}function H(){var a;
c.isDefined(Y)&&(a=Y[e.index]);c.isDefined(a)&&la()}function ha(){U();var a="hero-image"===e.type?h.find("#ivHeroImage_"+e.index):"image"===e.type?h.find("#ivImage_"+e.index):"chromeful-video"===e.type||"chromeless-video"===e.type?h.find("#ivVideo_"+e.index):"360-spin"===e.type?h.find("#iv360"):c.isDefined(R)?h.find("#ivHeroImage_"+e.index):h.find("#ivImage_"+e.index);c.isjQueryObjDefined(a)||(a=h.find("#ivImage_0"));B(a)}function B(a){h.find(".ivThumb").removeClass("selected");a.addClass("selected");
a.hasClass("ivThumbVideo")?(e.type="chromeful-video",e.index=a.attr("id").split("_")[1],H()):a.hasClass("ivHeroImage")?(e.type="hero-image",e.index=a.attr("id").split("_")[1],J(e.type)):a.hasClass("iv360Image")?(e.type="360-spin",e.index=0,q()):(e.type="image",e.index=a.attr("id").split("_")[1],J(e.type))}function q(){la();h.find("#ivLarge360").css("display","block");D();var a=h.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});x.animateStageIn(a)},200);w();m.postCountMetric("dppc_click360");
za=Date.now()}function G(){0<za&&(d("dppc_duration360",Date.now()-za),za=0)}function d(a,b){r.ue&&r.ue.count(a,b)}function w(){if(0<ua){var a=h.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function A(a,c){if(ua<a.length){var e=b("\x3cimg /\x3e").css({display:"block",width:6*ta+"px",height:wa+"px"});e.hide();c.append(e);e.get(0).onload=function(){c.closest(document.documentElement).length&&(ua++,1===ua&&(w(),0<za&&d("dppc_loadTime360",Date.now()-za)),0<$a&&d("dppc_perSpriteloadTime360",
Date.now()-$a),h.find("#iv360Spinner").hide(),e.show(),Ja=5*Z.imageLocations[Math.floor(Ia/Z.imageLocations[0].length)][Ia%Z.imageLocations[0].length],A(a,c))};e.attr("src",a[ua].replace(/(\._SP)\d+(,)\d+/,"$1"+ya+"$2"+xa));$a=Date.now()}}function y(a){if(c.isDefined(Z.spriteWidthSizes)&&0<Z.spriteWidthSizes.length){var b=Z.spriteWidthSizes,e=b.length,d=b[0],f=b[e-1];if(a<=d)return d;if(a>f)return f;for(d=0;d<e;d++)if(a>b[d]&&a<=b[d+1])return b[d+1]}else return a}function D(){var a=h.find("#ivLarge360");
a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",n.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),
Ya=!0,u())}function u(){if(c.isDefined(Z.spriteURLs)&&c.isDefined(h)&&Ya&&!Za){var a=h.find("#ivLarge360"),e=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(Z.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",Z.staticImages.hint360).appendTo(e);b("\x3cdiv\x3e").css({"text-align":"center"}).text(n.staticStrings.dragToSpin).appendTo(e);e.appendTo(a);e=Z.imageWidth;
var d=Z.imageHeight,g=a.parent().width(),l=a.parent().height(),k=0,m=0;e/d>g/l?(ya=y(g),xa=Math.round(d/e*ya),ta=Math.ceil(g),wa=Math.ceil(xa/ya*g),m=(l-wa)/2):(xa=y(l),ya=Math.round(e/d*xa),wa=Math.ceil(l),ta=Math.ceil(ya/xa*l),k=(g-ta)/2);a.css({"margin-left":k,"margin-top":m,width:ta+"px",height:wa+"px",overflow:"hidden",position:"relative"});a.children("#image-360-sprites").css("width",6*ta+"px");A(Z.spriteURLs,h.find("#image-360-sprites"),0);e=h.find("#ivLarge360");e.bind("mousedown",E);e.bind("touchstart",
t);e.bind("touchmove",T);e.bind("touchend",f);b(document).bind("mousemove",X);b(document).bind("mouseup",p);c.isDefined(n.staticImages.grab)&&a.css("cursor","url('"+n.staticImages.grab+"'), auto");Za=!0}}function t(a){La=!0;Xa=a.originalEvent.targetTouches[0].clientX}function T(a){La&&(k(a.originalEvent.targetTouches[0].clientX-Xa),Xa=a.originalEvent.targetTouches[0].clientX)}function f(a){La&&(La=!1)}function E(a){Ka=!0;Wa=a.originalEvent.clientX;c.isDefined(n.staticImages.grabbing)&&(a=h.find("#ivLarge360"),
a.css("cursor","url('"+n.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+n.staticImages.grabbing+"'), auto"));return!1}function X(a){Ka&&(k(a.originalEvent.clientX-Wa),Wa=a.originalEvent.clientX)}function p(a){Ka&&(Ka=!1,c.isDefined(n.staticImages.grab)&&(a=h.find("#ivLarge360"),a.css("cursor","url('"+n.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function k(a){for(a=Ja-=a/ta*180;0>a;)a+=360;for(;360<a;)a-=360;Ja=
a;a=360;for(var b=0;b<ua;b++)for(var e=0;e<Z.imageLocations[b].length;e++){var d=Math.abs(Ja-5*Z.imageLocations[b][e]);if(d<a){a=d;var f=b*Z.imageLocations[0].length+e}}f!==Ia&&(a=Math.floor(f/Z.imageLocations[0].length),a!==Math.floor(Ia/Z.imageLocations[0].length)&&(c.isDefined(ab)||(ab=document.createElement("canvas").getContext("2d")),b=h.find("#image-360-sprites").children(),ab.drawImage(b[a],0,0)),a=h.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},
750)));Ia=f;a=f%Z.imageLocations[0].length*-1*ta;f=-1*Math.floor(f/Z.imageLocations[0].length)*wa;b=h.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+f+"px, 0)");b.css("transform","translate3d("+a+"px, "+f+"px, 0)")}function I(){h.delegate(".ivThumb","click",function(){var a=b(this);B(a)});h.delegate(".ivThumbVideoListOuter","click",function(){h.find(".ivThumbVideoListOuter").removeClass("selected");var a=b(this);a.addClass("selected");e.type="chromeful-video";
e.index=a.attr("id").split("_")[1];H()})}function S(){h.find("#ivLargeImage").empty();G()}function ea(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function ba(a){var c=va.left-(a.pageX-Qa[0])*Pa;l.capabilities.rtl&&(c=va.left-(b(r).width()-a.pageX-Qa[0])*Pa);a=va.top-(a.pageY-Qa[1])*Pa;c=ea(c,Oa.left);a=ea(a,Oa.top);h.find(".fullscreen").css({left:c,top:a})}function V(){h.delegate("#ivLargeImage","click",function(a){if(Ma)C();else if(Na){h.find(".fullscreen").removeAttr("style");if(Na){var b=h.find("#ivLargeImage"),
c=b.find(".fullscreen");fb?b.css("cursor","url('"+n.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Ma=!0;var e=h.find("#ivLargeImage");Oa.left=e.width()-c.width();Oa.top=e.height()-c.height();e=b.height()/2;var d=b.width()/2;Qa=[b.offset().left+d,b.offset().top+e];va.top=e-c.height()/2;va.left=d-c.width()/2;c.css({position:"relative",left:va.left,top:va.top});Pa=Math.max(c.height()/b.height(),c.width()/b.width())}ba(a)}});
h.delegate("#ivLargeImage","mousemove",function(a){Ma&&ba(a)})}function W(e){if(c.isImmersiveViewEnabled(n,z.getCurrentItem().color))if(cb){var d=e.$event.originalEvent;d.acknowledge&&d.acknowledge(e.$currentTarget[0]);eb=c.isDefined(e)&&"button-360-click"===e.action;ca.isEnabled&&v.logImmersiveViewRequestServed(ca);m.postCountMetric("dppc_immersiveViewOpened");if(c.isDefined(da))da.show();else{e=b("#auiImmersiveViewDiv");d=b(r).height()-150;var f=b(r).width()-75;da=cb.create(e,{name:"immersiveView",
activate:"onclick",width:f,height:d,popoverLabel:"ImmersiveView",hideHeader:!0});e.click()}if(bb){h=b("#ivMain");e=z.getCurrentItem().color;fa=n.colorImages[e];R=n.heroImage[e];Y=n.useChildVideos?n.colorToVideo[e]:n.videos;K=ja()&&n.spin360ColorEnabled[e];Z=ja()?n.spin360ColorData[e]:oa;U();a=O=ma=aa=0;c.isDefined(R)&&(O=R.length);c.isDefined(fa)&&(aa=fa.length);c.isDefined(Y)&&(ma=Y.length);K&&(a=1);x.populateTitle(h.find("#ivTitle"),45,n);x.populateVariationSelection(h.find("#ivVariationSelection"));
e=h.find("#ivMediaSelect");0===aa+a||0===ma?(e.parent().hide(),h.find("#ivThumbs").addClass("noMediaSelection")):(e.empty(),b("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(n.staticStrings.allMedia+" ("+(O+aa+a+ma)+")").appendTo(e),b("\x3coption/\x3e").attr("value","images").text(n.staticStrings.images+" ("+(O+aa+a)+")").appendTo(e),b("\x3coption/\x3e").attr("value","videos").text(n.staticStrings.videos+" ("+ma+")").appendTo(e),e.parent().show(),e.val("all"));e=h.find("#ivThumbs");
e.find(".ivRow").not(".placeholder").remove();d=O+aa+ma+a;for(var g=f=0;f<d;)for(var k=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),t=0;3>t&&f<d;t++,f++,g++)if(g<O){var p=R[f].thumb,q=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+f).appendTo(k);q.find(".ivThumbImage").css("background",'url("'+x.getResizedThumbnailURL(p)+'") center no-repeat')}else if(g>=O&&g<aa+O)p=fa[f-O].thumb,q=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(f-O)).appendTo(k),q.find(".ivThumbImage").css("background",'url("'+x.getResizedThumbnailURL(p)+'") center no-repeat');else if(g>=O+aa&&g<aa+O+a)q=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(k),q.find(".ivThumbImage").css("background",'url("'+(c.isDefined(n.staticImages.icon360)?x.getResizedThumbnailURL(n.staticImages.icon360,!0):"")+'") center no-repeat');else if(p=Y[f-aa-O-a],q=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(f-aa-O-a)).appendTo(k),q.find(".ivThumbImage").css("background",'url("'+p.thumbUrl+'") center no-repeat'),c.isDefined(p)){var T={position:"triggerTop"},E=h.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");E.find(".ivVideoPopoverTitle").text(p.title);E.find(".ivVideoPopoverDuration").text(p.durationTimestamp);T.inlineContent=E[0];l.declarative.create(q,"a-tooltip",T)}e=h.find("#ivVideoList");e.find(".ivThumbVideoListOuter").not(".placeholder").remove();
d=e.find(".placeholder");for(f=0;f<ma;f++)g=Y[f],k=d.clone().removeClass("placeholder").appendTo(e),k.attr("id","ivVideoList_"+f),k.find(".ivThumbImage").css("background",'url("'+g.thumbUrl+'") center no-repeat'),k.find(".ivThumbTitle").text(g.title),k.find(".ivThumbDuration").text(g.durationTimestamp);h.find("#ivLarge360").empty();ua=0;bb=Za=Ya=!1;Fb()}}else r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+
1);else m.postCountMetric("immersiveViewNotExistsClickCount")}function ia(a){var b=n.colorToAsin[a],e={},f=500;if(b&&b.asin){e.params={asin:b.asin};var h="360"+b.asin,k=Date.now();e.success=function(b){d("dppc_asyncRequestTime360",Date.now()-k);b&&c.isDefined(b.spin360.spin360Model)?(c.ajaxState(h,"success"),n.spin360ColorData[a]=b.spin360.spin360Model,a===z.getCurrentItem().color&&(Z=n.spin360ColorData[a],u())):e.error()};e.error=function(){m.postCountMetric("dppc_asyncFailed360");d("dppc_asyncRequestTime360",
Date.now()-k);f*=2;16E3>=f?setTimeout(function(){k=Date.now();g.load("/gp/product/features/apparel-main-image/360.html",e)},f):c.ajaxState(h,"fail")};c.ajaxState(h)&&"fail"!==c.ajaxState(h)||(g.load("/gp/product/features/apparel-main-image/360.html",e),c.ajaxState(h,"sent"))}}function ja(){return c.isDefined(n.spin360ConfigEnabled)&&n.spin360ConfigEnabled}var ka,n,z,L,da,h,R,fa,Y,O,aa,ma,a,e,db,Z,K,ta,wa,xa,ya,Wa,Xa,eb=!1,Ya=!1,Za=!1,Ja=0,Ia=0,za=0,$a=0,Ka=!1,La=!1,ua=0,ab,fb=navigator.userAgent.match(/msie|trident/i),
bb=!0,Ma=!1,Na=!1,Oa={},va={},Pa,Qa,cb;F.when("a-modal").execute(function(a){cb=a});var Fb=l.once(function(){P();I();V();l.on("a:popover:afterUpdatePosition:immersiveView",M);l.on("a:popover:afterShow:immersiveView",ha);l.on("a:popover:afterHide:immersiveView",S);na()});return function(a,e,d,f){ka=this;n=a;z=e;ca.refToModel=z;L=f;ja()&&(n.spin360ColorData[n.landingAsinColor]=n.spin360ColorData[n.defaultColor],n.spin360ColorEnabled[n.landingAsinColor]=n.spin360ColorEnabled[n.defaultColor]);c.isDefined(n.staticImages.icon360)&&
b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",x.addStyleCodeToURL(n.staticImages.icon360,"_FMpng_RI_"));ka.render=function(a,b,e,d,f,g){bb=!0;ja()&&n.spin360ColorEnabled[a]&&!c.isDefined(n.spin360ColorData[a])&&(n.spin360ColorData[a]={},ia(a));c.isImmersiveViewEnabled(n,z.getCurrentItem().color)&&ja()&&n.spin360ColorEnabled[a]&&(b===n.maxAlts&&(a=d.find(".item.imageThumbnail"),e=d.find(".item.videoThumbnail"),c.isDefined(e)&&1<e.length?e.last().remove():a.last().remove(),
b--),a=d.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),l.declarative.create(a,"button-360-click"),d.append(a),b++,m.postCountMetric("dppc_display360"));return b};ka.update=function(a){};c.isImmersiveViewEnabled(n,z.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");L.register("imageClick",W);L.register("button360Click",W);L.register("captionClick",W)}});"use strict";F.when("A","jQuery","imageBlockUtils","ImageBlockLoader",
"nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(l,b,c,g,m,r,v,x,F){function N(){var a=b("#iv360Tab").height();p.css("height",a);var e=p.find("#ivTitle360").outerHeight(!0),c=p.find("#ivVariationSelection360").outerHeight(!0),d=p.find("#ivThumbs360"),f=v.getDimension(d,"margin-top")+v.getDimension(d,"margin-bottom");d.css("height",a-e-c-f);a=p.find("#ivStage360");e=p[0]&&p[0].getBoundingClientRect&&
Math.floor(p[0].getBoundingClientRect().width)||p.width();a.css("width",e-v.getDimension(p,"padding-left")-v.getDimension(p,"padding-right")-p.find("#ivThumbColumn360").width()-v.getDimension(a,"margin-left")-v.getDimension(a,"margin-right"))}function U(){Q();var a=p.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});v.animateStageIn(a)},200);M()}function M(){if(0<R){var a=p.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function P(a,e){if(R<
a.length){var c=b("\x3cimg /\x3e").css({display:"block",width:6*I+"px",height:S+"px"});c.hide();e.append(c);c.get(0).onload=function(){e.closest(document.documentElement).length&&(R++,1===R&&(M(),0<z&&(m.time("dppc_loadTime360",Date.now()-z,f.mediaAsin),r.postTimeMetric("dppc_loadTime360",Date.now()-z))),0<L&&(m.time("dppc_perSpriteloadTime360",Date.now()-L,f.mediaAsin),r.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-L)),p.find("#iv360Spinner").hide(),c.show(),ka=5*k.imageLocations[Math.floor(n/
k.imageLocations[0].length)][n%k.imageLocations[0].length],P(a,e))};c.attr("src",a[R].replace(/(\._SP)\d+(,)\d+/,"$1"+ba+"$2"+ea));L=Date.now()}}function C(a){if(c.isDefined(k.spriteWidthSizes)&&0<k.spriteWidthSizes.length){var b=k.spriteWidthSizes,d=b.length,f=b[0],g=b[d-1];if(a<=f)return f;if(a>g)return g;for(f=0;f<d;f++)if(a>b[f]&&a<=b[f+1])return b[f+1]}else return a}function Q(){var a=p.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),
a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",f.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),ia=!0,ca())}function ca(){if(c.isDefined(k.spriteURLs)&&c.isDefined(p)&&ia&&!ja){var a=p.find("#ivLarge360"),
e=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(k.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",k.staticImages.hint360).appendTo(e);b("\x3cdiv\x3e").css({"text-align":"center"}).text(f.staticStrings.dragToSpin).appendTo(e);e.appendTo(a);e=k.imageWidth;var d=k.imageHeight,g=a.parent().width(),h=a.parent().height(),l=0,t=0;e/d>g/h?(ba=C(g),ea=Math.round(d/
e*ba),I=Math.ceil(g),S=Math.ceil(ea/ba*g),t=(h-S)/2):(ea=C(h),ba=Math.round(e/d*ea),S=Math.ceil(h),I=Math.ceil(ba/ea*h),l=(g-I)/2);a.css({"margin-left":l,"margin-top":t,width:I+"px",height:S+"px",overflow:"hidden",position:"relative"});a.children("#image-360-sprites").css("width",6*I+"px");P(k.spriteURLs,p.find("#image-360-sprites"),0);e=p.find("#ivLarge360");e.bind("mousedown",B);e.bind("touchstart",J);e.bind("touchmove",H);e.bind("touchend",ha);b(document).bind("mousemove",q);b(document).bind("mouseup",
G);c.isDefined(f.staticImages.grab)&&a.css("cursor","url('"+f.staticImages.grab+"'), auto");ja=!0}}function J(a){h=!0;W=a.originalEvent.targetTouches[0].clientX}function H(a){h&&(d(a.originalEvent.targetTouches[0].clientX-W),W=a.originalEvent.targetTouches[0].clientX)}function ha(a){h&&(h=!1)}function B(a){da=!0;V=a.originalEvent.clientX;c.isDefined(f.staticImages.grabbing)&&(a=p.find("#ivLarge360"),a.css("cursor","url('"+f.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor",
"url('"+f.staticImages.grabbing+"'), auto"));return!1}function q(a){da&&(d(a.originalEvent.clientX-V),V=a.originalEvent.clientX)}function G(a){da&&(da=!1,c.isDefined(f.staticImages.grab)&&(a=p.find("#ivLarge360"),a.css("cursor","url('"+f.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function d(a){ka-=a/I*180;Y&&(m.count("dppc_360dragToSpin",f.mediaAsin),r.postCountMetric("dppc_360dragToSpin"));Y=!1;for(a=ka;0>a;)a+=360;for(;360<a;)a-=360;ka=a;a=360;for(var b=
0;b<R;b++)for(var d=0;d<k.imageLocations[b].length;d++){var g=Math.abs(ka-5*k.imageLocations[b][d]);if(g<a){a=g;var h=b*k.imageLocations[0].length+d}}h!==n&&(a=Math.floor(h/k.imageLocations[0].length),a!==Math.floor(n/k.imageLocations[0].length)&&(c.isDefined(fa)||(fa=document.createElement("canvas").getContext("2d")),b=p.find("#image-360-sprites").children(),fa.drawImage(b[a],0,0)),a=p.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));
n=h;a=h%k.imageLocations[0].length*-1*I;h=-1*Math.floor(h/k.imageLocations[0].length)*S;b=p.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+h+"px, 0)");b.css("transform","translate3d("+a+"px, "+h+"px, 0)")}function w(){if(aa){p=b("#ivMain360");var a=E.getCurrentItem().color;y()&&D(a);k=y()?f.spin360ColorData[a]:oa;v.populateTitle(p.find("#ivTitle360"),160,f);v.populateVariationSelection(p.find("#ivVariationSelection360"));p.find("#ivLarge360").empty();
R=0;ja=ia=!1;n=ka=0;ma();aa=!1}0!==b("#iv360Tab").height()&&(v.detachImmersiveViewResizeHandler(w),N(),U(),z=Date.now(),O=Y=!0,m.count("dppc_click360",f.mediaAsin),r.postCountMetric("dppc_click360"))}function A(a,b,d){a=f.colorToAsin[d];var e={},h=500;if(!a||!a.asin)if(d===f.defaultColor)a={asin:f.winningAsin};else return;e.params={asin:a.asin};var k="360"+a.asin,l=Date.now();e.success=function(a){m.time("dppc_asyncRequestTime360",Date.now()-l,f.mediaAsin);r.postTimeMetric("dppc_asyncRequestTime360",
Date.now()-l);a&&c.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&x.setData(a),c.ajaxState(k,"success")):e.error()};e.error=function(){m.count("dppc_asyncFailedTransient360",f.mediaAsin);r.postCountMetric("dppc_asyncFailedTransient360");m.time("dppc_asyncRequestTime360",Date.now()-l,f.mediaAsin);r.postTimeMetric("dppc_asyncRequestTime360",Date.now()-l);h*=2;16E3>=h?setTimeout(function(){l=Date.now();g.load("/gp/product/features/apparel-main-image/360.html",e)},h):(m.count("dppc_asyncFailed360",
f.mediaAsin),r.postCountMetric("dppc_asyncFailed360"),c.ajaxState(k,"fail"))};c.ajaxState(k)&&"fail"!==c.ajaxState(k)||(g.load("/gp/product/features/apparel-main-image/360.html",e),c.ajaxState(k,"sent"))}function y(){return f&&c.isDefined(f.spin360ConfigEnabled)&&f.spin360ConfigEnabled}function D(a){return c.isDefinedAndNotEmpty(f.spin360ColorData[a])?!0:c.isDefined(f.spin360LazyLoadEnabled)&&f.spin360LazyLoadEnabled}function u(){O&&(m.time("dppc_duration360",Date.now()-z,f.mediaAsin),r.postTimeMetric("dppc_duration360",
Date.now()-z),O=!1)}function t(a){a=f.colorToAsin[a.color]&&f.colorToAsin[a.color].asin;a||(a=f.mediaAsin);return a}var T,f,E,X,p,k,I,S,ea,ba,V,W,ia=!1,ja=!1,ka=0,n=0,z=0,L=0,da=!1,h=!1,R=0,fa,Y=!0,O=!1,aa=!0,ma=l.once(function(){v.attachImmersiveViewResizeHandler(w);v.attachImmersiveViewResizeHandler(N);v.attachImmersiveViewResetHandler(u);v.attachTabDeselectHandler("iv360Tab",u)});return function(a,e,d,g){T=this;f=a;E=e;X=g;a=f.landingAsinColor;e=f.defaultColor;c.isDefined(f.staticImages.icon360)&&
b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",v.addStyleCodeToURL(f.staticImages.icon360,"_FMpng_RI_"));y()&&(f.spin360ColorData||(f.spin360ColorData={}),a===e&&c.isDefinedAndEmpty(f.spin360ColorData[e])&&delete f.spin360ColorData[e]);l.on(F.TWISTER_DATA_EVENT,function(a){t(E.getCurrentItem())===a&&(k=x.getData(a),ca(),a={type:"updatedData",data:E.getCurrentItem()},X.dispatch("updateView",a))});T.render=function(a,e,d,g,h,k){aa=!0;!y()||c.isDefinedAndEmpty(f.spin360ColorData[a])&&
!x.getData(t(E.getCurrentItem()))?v.hideTabHeading("iv360TabHeading"):(f.spin360ColorData[a]=x.getData(t(E.getCurrentItem())),c.isDefinedAndNotEmpty(f.spin360ColorData[a])?(b("#ivThumbs360").hide(),v.unhideTabHeading("iv360TabHeading"),c.isImmersiveViewEnabled(f,E.getCurrentItem().color)&&y()&&D(a)&&(e===f.maxAlts&&(a=g.find(".item.imageThumbnail"),d=g.find(".item.videoThumbnail"),c.isDefined(d)&&1<d.length?d.last().remove():a.last().remove(),e--),a=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
l.declarative.create(a,"button-360-click"),g.append(a),m.count("dppc_display360",f.mediaAsin),r.postCountMetric("dppc_display360"))):c.isDefined(f.spin360LazyLoadEnabled)&&f.spin360LazyLoadEnabled?(f.spin360ColorData[a]={},v.hideTabHeading("iv360TabHeading"),A(g,e,a)):v.hideTabHeading("iv360TabHeading"))};T.update=function(a){};v.attachTabSelectHandler("iv360Tab",w)}});F.register("nexusLogger360",function(){return{count:function(l,b){r.ue&&r.ue.event({asin:b,metricName:l,metricValue:1},"hit-360",
"hit360.clientEvent.3")},time:function(l,b,c){r.ue&&r.ue.event({asin:c,metricName:l,metricValue:b},"hit-360","hit360.clientEvent.3")}}});F.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});F.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(l,b){var c={};return{setData:function(g){var m=g.asin;c[m]||(c[m]=g,l.trigger(b.TWISTER_DATA_EVENT,m))},getData:function(b){return c[b]}}});"use strict";F.when("postMetric").register("ImageBlockImmersiveViewShowroom",
function(l){function b(){this.render=function(){};this.update=function(){}}return function(c,g,m,r){var v=!1,x=new b;F.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(b){b!==oa&&(v=!0,x=new b(c,g,m,r))});c&&!0===c.showroomEnabled&&!1===v&&l.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return x}});"use strict";F.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",
function(l,b,c,g,m,F,v){function x(){A.delegate(".ivThumb","click",function(){var c=b(this);A.find(".ivThumb").removeClass("selected");c.addClass("selected");c.hasClass("ivThumbVideo")&&(y.type="chromeful-video",y.index=c.attr("id").split("_")[1])})}function N(){if(ia){var c=b("#ivVideosTab").height();A.css("height",c);var d=A.find(".vse-lb-container");D=c-m.getDimension(d,"padding-top")-m.getDimension(d,"padding-bottom");d.css({"max-height":c,overflow:"hidden"});if(ea){A.css({"max-width":Math.floor(1.77*
D)});return}c=A.find(".vse-player-container");d=A.find(".vse-video-action-strip");var f=A.find(".vse-lb-video-metadata"),g=Math.floor(D-m.getDimension(f,"height")-m.getDimension(d,"height")),h=Math.floor(1.77*g);c.css({"max-height":g,"max-width":h,marginLeft:"auto",marginRight:"auto"});f.css({"max-width":h,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":h,marginLeft:"auto",marginRight:"auto"})}ba&&(c=A.find(".vse-vertical-scroll"),d=m.getDimension(c,"margin-top")+m.getDimension(c,"margin-bottom"),
c.css("max-height",D-d))}function ca(){U();u&&u.pause();V=!1;I=!0;E=null;W=!0;ia=!1}function U(){V=!1;u&&u.pause()}function M(f){E=f.clickTimeStamp?f.clickTimeStamp:l.now();c.isDefined(w)&&(w.eventTimestamp=E);V=!0;S&&(v.get(l,"#ivVideoBlock",d,h,R),A=b("#ivVideoBlock"),G.getCurrentItem(),y=G.getCurrentItem(),z(),H());N();S=!1;Q()}function P(c){S&&(A=b("#ivVideoBlock"),G.getCurrentItem(),y=G.getCurrentItem(),z());V&&Q();N()}function C(b){u=b.player;g.postTimeMetric("vse_ib_desktop_player_initialisation_duration",
l.now()-n);q.imageBlockRenderingStartTime&&g.postTimeMetric("vse_ib_desktop_time_to_player_interactive",l.now()-q.imageBlockRenderingStartTime);ia&&(H(),Q())}function Q(){if(u&&V&&(A.find(".vse-lb-container").animate({opacity:1},200),u.play(w),g.postCountMetric("dpcc_vse_videoBlock_video_played"),I)){var b=r.ue;b&&(b=b.count("dpcc_vse_videoingressclick"),b=(new Date).getTime()-b,g.postTimeMetric("dpcc_vse_vitff",b),I=!1)}}function la(){l.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function J(b){t=
b.popover.$popover;ia=!0;H()}function H(){if(ia&&W&&V&&u){t.addClass(l.$(t).find(".vse-lb-container").data("cssClass"));var b=w;ja&&(b=ka,ja=!1);l.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:b});N();W=!1}}function ha(b){document.getElementsByClassName("videoBlockIngress")[0].click();ka=b;ja=!0}var B,q,G,d,w,A,y,D,u,t,T,f,E,X,p,k,I=!0,S=!0,ea=!1,ba=!1,V=!1,W=!0,ia=!1,ja=!1,ka,n=0,z=l.once(function(){x();m.attachImmersiveViewResizeHandler(P);m.attachTabDeselectHandler("ivVideosTab",
U);m.attachImmersiveViewResetHandler(ca)}),L=function(c,d,f){b("#ivVideoBlockSpinner").addClass("aok-hidden");g.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);ea=!0;b("#ivVideoBlock").css({"max-width":1.77*D,margin:"0 auto"})},da=function(c,f,g){S||v.get(c,"#ivVideoBlock",d,h,R);b("#ivVideoBlockSpinner").addClass("aok-hidden")},h=function(b,c,d){ba=!0;N()},R=function(b,c,d){g.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+c.pageContext.placement+"_"+c.configuration.type)};
return function(b,g,h,t){B=this;q=b;G=g;B.render=function(b,a,e,g,h,t){b=G.getCurrentItem().color;a=c.getVideoHash(b,0,q);!0===t?T=q.mediaAsin:(T=q.colorToAsin[b]&&q.colorToAsin[b].asin,T=c.isDefined(T)?T:q.mediaAsin);f=!0===q.useVSEVideos?"VIDEO_ID":"physicalID";X=q.contentWeblab;p=q.contentWeblabTreatment;k=q.parentAsin||"";S=!0;-1===a?m.hideTabHeading("ivVideosTabHeading"):(m.unhideTabHeading("ivVideosTabHeading"),d={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:a.marketPlaceID,
locale:a.languageCode,product:{contentID:T,contentIDType:"ASIN",parentContentID:k,parentContentIDType:"ASIN"},video:{contentID:a.mediaObjectId,contentIDType:f,videoURL:a.url,imageURL:a.slateUrl,rankingStrategy:a.rankingStrategy},requestId:q.dpRequestId,weblabContext:[{name:X,assignment:p,ignoreForG2S2Key:!0}],metadata:{ProductTitle:q.title}},w={videoUrl:d.video.videoURL,contentId:d.video.contentID,duration:0,vendorCode:"",eventTimestamp:c.isDefined(E)?E:l.now(),imageUrl:d.video.imageURL,productAsin:d.product.contentID,
rankingStrategy:d.video.rankingStrategy,index:0},c.isDefinedAndNotEmpty(u)&&(u.destroy(),u=null),n=l.now(),F.get(l,"#ivVideoBlock",d,da,L))};B.update=function(b){};m.attachTabSelectHandler("ivVideosTab",M);l.on("vsePlayer-detailpage-imageblock",C);l.on("a:popover:afterShow:immersiveView",J);l.on("a:popover:beforeHide:immersiveView",la);l.on("detailpage-imageblock-leave-pip",ha)}});"use strict";F.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockShoppableSceneImmersiveView",
function(l,b,c,g,m){function r(c,g){if(c){w=q.getCurrentItem();0==Object.entries(u).length&&v();var f=w.shoppableScene;f==oa?(c=H(Object.values(u)[0]),f=Object.values(u)[0].shoppableScene):c=H(d[w.index]);D=f.physicalId;var l=b(".shoppable-scene-image-block-placeholder-in-iv");if(0<l.length){var t=b("\x3cimg\x3e");t.attr("id","shoppableSceneIvImage");t.attr("src",c);t.css({"max-height":"500px","max-width":"650px"});l.replaceWith(t);c=x(f);f=b(".shoppable-scene-image-block-tags-in-iv");f.empty();c.appendTo(f)}else G.hide(),
C();na();c=w.shoppableScene?w.shoppableScene:Object.values(u)[0].shoppableScene;U(c);Q(g,A,null,D)}}function v(){d=B.colorImages[w.color];A=B.colorToAsin[w.color].asin;d.forEach(function(b){b.shoppableScene!=oa&&(u[b.shoppableScene.physicalId]=b)})}function x(c){var d=b("\x3cspan\x3e");l.each(c.tags,function(f){var g=b("\x3cdiv\x3e").css({position:"absolute",left:100*f.left+"%",top:100*f.top+"%",height:"auto",width:"auto"});g.append(N(!1));g.append(N(!0));l.declarative.create(g,"scenes-show-details-tags-ib-iv-click",
{tagId:f.link,physicalId:c.physicalId});d.append(g)});return d.children()}function N(c){var d=b("\x3cimg src\x3d'"+(c?B.staticImages.shoppableSceneDotHighlighted:B.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");d.css({display:c?"none":"inline-block"});d.addClass("mirai-scene-tag-in-iv").addClass(c?"active-tag":"inactive-tag");return d}function na(){var c=b(".ivBottomThumbImagesShoppableScene");c.empty();Object.keys(u).forEach(function(d){var f=u[d],g=b("\x3cimg\x3e");f=H(f);g.attr("id","shoppable-scene-thumbnail-"+
d);g.attr("src",f);g.addClass("shoppable-scene-thumbnail");l.declarative.create(g,"scenes-thumbnail-ib-iv-click",{physicalId:d});g.appendTo(c)})}function U(b){J();F.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-render",function(){l.trigger("mirai:scene-immersive-recommendation-col-init",{scene:b})})}function M(b,c){J();F.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){l.trigger("mirai:scene-immersive-recommendation-col-update",
{tagId:b,physicalId:c})})}function P(){var c=u[D].shoppableScene,d=b(".shoppable-scene-image-block-tags-in-iv");d.hide();c=x(c);d.empty();c.appendTo(d);d.show();G.show()}function C(){var c=H(u[D]),d=b("#shoppableSceneIvImage");d.bind("load",P);d.attr("src",c)}function Q(b,c,d,g){var f="shoppable-scene-dp-iv:mirai:"+b;F.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){l.trigger("mirai:scene-immersive-publish-metric",{nexusTargetName:b,
csmCounterName:f,asin:c,tagId:d,physicalId:g})})}function la(){var c=b(".shoppable-scene-image-block-tags-in-iv").find(".mirai-scene-tag-in-iv");c.removeClass("mirai-scene-dot-pulsate").addClass("mirai-scene-dot-pulsate");l.delay(function(){c.removeClass("mirai-scene-dot-pulsate")},3600)}function J(){var c=b("#shoppable-scene-iv-recommendation-waiting-spinner");0<c.length&&c.remove();c=b("#shoppableSceneRecommendationColumn");b(".shoppable-scene-recommendation-iv").hide();var d=b("\x3cimg\x3e");d.attr("id",
"shoppable-scene-iv-recommendation-waiting-spinner");d.attr("src",B.staticImages.spinner);d.css({position:"relative"}).appendTo(c)}function H(b){return b.hiRes||b.large||b.main[b.main.length-1]}var ha=void 0,B=void 0,q=void 0,G=void 0,d=void 0,w=void 0,A=void 0,y=void 0,D=void 0,u={};l.declarative("shoppable-scene-image-click","click",function(b){r(!0,"IMAGE_BLOCK_SHOPPABLE_SCENE")});l.declarative("scenes-show-details-tags-ib-iv-click","click",function(b){var c=b.$currentTarget;if(null!=y){var d=
y.find(".active-tag"),g=y.find(".inactive-tag");d.css({display:"none"});g.css({display:"inline-block"})}d=c.find(".active-tag");g=c.find(".inactive-tag");d.css({display:"inline-block"});d.addClass("mirai-scene-dot-pulsate");g.css({display:"none"});y=c;la();M(b.data.tagId,b.data.physicalId);Q("IMMERSIVE_VIEW_PRODUCT_TAG",A,b.data.tagId,b.data.physicalId)});l.declarative("scenes-thumbnail-ib-iv-click","click",function(b){D=b.data.physicalId;C();U(u[D].shoppableScene)});return function(c,d,f,g){ha=this;
B=c;q=d;G=b("#ivMainShoppableScene");ha.render=function(b,c,d,f,g,l){};ha.update=function(b){};(c=document.getElementById("ivShoppableSceneHeading"))&&c.addEventListener("click",function(b){b=q.getCurrentItem();r(null==w||w.index!=b.index,"IMMERSIVE_VIEW_TAB")})}})});
/* ******** */
(function(b){var e=window.AmazonUIPageJS||window.P,h=e._namespace||e.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):e;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,e,h){b.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,d){try{var c=a.$,k=c("#featurebullets_feature_div"),l=c("#productOverview_feature_div");if(k&&0<k.length&&(d.postCountMetric("FeatureBulletsRendered.GV"),l&&
0<l.length)){d.postCountMetric("FeatureBulletsRenderedWithPO.GV");var e=c("#featurebullets_feature_div .a-expander-container");e&&0<e.length&&"feature-bullets-expander"===e.data("aExpanderName")&&(d.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){d.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){d.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(w){b.log("Feature bullets metric logging failed with error: ( "+
w+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";b.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,d,c,k,l){var b=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=c.colorImages,d=0,f;for(f in a)a[f]&&a[f].length&&(d+=a[f].length);a="image_size_bucket:gt"+b[b.length-1];for(f=1;f<b.length;f++)if(d<=b[f]){a="image_size_bucket:"+b[f-1]+"-"+b[f];break}l.postCountMetric(a);k.addTag(a)})();(function(){var a=d.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,e.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=c.lazyLoadExperienceDisabled;k.isDefined(c.lazyLoadExperienceDisabled)&&!a&&(l.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),k.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";b.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});b.register("postEarlyMetric",function(){return null});"use strict";b.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var d=e.ue;if(d){var c=d.count(a)||0;d.count(a,c+1)}}},postTimeMetric:function(a,d){if("undefined"!==typeof a&&"undefined"!==typeof d){var c=e.ue;c&&c.count(a,d)}},emitNexusMetric:function(a){e.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.6",{ssd:!1})},buildNexusMetric:function(a,d,c,b,l,v,w,q,f,r){var k=10<arguments.length&&arguments[10]!==h?arguments[10]:"",m="",n=q||"";try{m=e.location.href;var g=m.match(/\/dp\/([A-Z0-9]{10})|\/gp\/product\/([A-Z0-9]{10})|\/gp\/aw\/d\/([A-Z0-9]{10})/);
g&&(g[1]||g[2]||g[3])&&(n=g[1]||g[2]||g[3])}catch(p){(g=e.ue)&&g.count("PostMetricsUtil:cannotBuildNexusPayload",1)}return{eventSource:"IBCarousel",placementContext:r,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:+d,videoAsin:c,videoAsinList:k,rankingStrategy:b===h?"":b,groupType:v===h?"":v,pageUrl:m,pageAsin:n,weblabIds:f===h?"":f,customerId:l||""}}}});"use strict";b.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,d,b){var c=
a.state("desktop-landing-image-data");c&&(c=a.values(c),d=d.getResourceTimeByName("img",c),a.each(d,function(a){a&&(a.responseEnd!=h&&b.postCountMetric("ibDesktopLandingImageDownloadTime",e.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?b.postCountMetric("ibDesktopLandingImageCached",1):(b.postCountMetric("ibDesktopLandingImageSizeInBytes",e.parseInt(a.transferSize)),b.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});"use strict";b.when("A","jQuery","ImageBlockAPI","postMetric",
"atf").register("media-block-config",function(a,b,c,e,l){return{mediaTypeTag:{IMAGE:{elementTags:["img.media-block-image-tag","div.media-block-image-tag"]},VIDEO:{elementTags:["img.media-block-video-tag","div.media-block-video-tag","div.vse-player-container"]},DIMENSION:{elementTags:["svg#hit-pd-angled-front-svg","div.dimension-ingress-seller-image"]}},mediaBlockEntities:["primaryViewCarousel"]}});b.when("A","ImageBlockAPI","postMetric","atf","media-block-config").execute(function(a,b,c,h,l){function d(a,
b,d,c,e){if(d&&c){var g=[],n=b.length;b.each(function(){try{var b=this.getAttribute(e),d=this.getAttribute("data-csa-c-content-id"),c=this.getAttribute("data-csa-c-media-type");if(d&&c){var n=null,h=null,k=null;try{var p=l.mediaTypeTag[c];if(!p){f("mediaBlock.entities."+a+".unknownMediaType."+c);return}var m=p.elementTags;if(m&&0<m.length){var q=t(this);for(p=0;p<m.length&&!(n=q.find(m[p]),0<n.length);p++);}n&&0<n.length&&(h=n.height(),k=n.width(),0<h&&0<k||(k=h=null))}catch(u){f("mediaBlock.entities."+
a+".slot.dimensionNotFound"),r(u,"WARN")}g.push({slotId:b,mediaType:c,contentId:d,height:h,width:k})}else f("mediaBlock.entities."+a+".carouselContentNotfound")}catch(u){f("mediaBlock.entities."+a+".carouselSlotNotfound"),r(u,"WARN")}});g&&0<g.length&&q(n,a,g,d,c)}else f("mediaBlock.entities."+a+".carouselNotfound")}function k(b){function c(){var a=t("#imageBlock.primaryViewGridContainer"),c=a.find(".desktop-media-mainView li.item"),g=a.height();a=a.width();d(b,c,g,a,"data-csa-c-posx")}c();a.on("PageRefresh:ATF",
c)}function q(a,b,c,d,e){csa("Events",{producerId:"dppinfo"})("log",{schemaId:"dppinfo.mediaBlockContentRender.1",totalSlots:a,entityName:b,asin:m,entityHeight:d,entityWidth:e,slotContentMetadataList:c},{ent:"all"})}function f(a){e.ue&&ue.count(a,(ue.count(a)||0)+1)}function r(a,b){b={logLevel:b,attribution:"DetailPageImageBlockSubAssets"};e.ueLogError&&e.ueLogError(a,b)}var t=a.$,m=null;(function(){m=t("#mediaBlock_feature_div").attr("data-csa-c-asin");for(var a=0;a<l.mediaBlockEntities.length;a++){var b=
l.mediaBlockEntities[a];try{switch(b){case "primaryViewCarousel":k(b)}}catch(p){f("mediaBlock.entities."+b+".carouselNotfound"),r(p,"WARN")}}})()})});
/* ******** */
(function(h){var l=window.AmazonUIPageJS||window.P,p=l._namespace||l.attributeErrors,d=p?p("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):l;d.guardFatal?d.guardFatal(h)(d,window):d.execute(function(){h(d,window)})})(function(h,l,p){h.when("A","jQuery").execute(function(d,g){d.on("a:image:load:landingImage",function(){l.performance&&performance.now&&l.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});d.loadDynamicImage(g("#landingImage"))});"use strict";
h.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(d,g){function k(a,c){if(c.repositionHeroImage){c=a[1];a=a[0];if(768>=(l.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((l.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function e(a,c,b){if(b.repositionHeroImage){var d=l.innerWidth||document.documentElement.clientWidth||
document.body.clientWidth;b=b.heroFocalPoint;if(g.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var f=Math.max((d-a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-f+(d-420-23)/2-a/c[1]*b}}return e}function f(a,c,b){a=a.heroImage;return!(g.isDefined(a)&&g.isDefined(a[c])&&g.isDefined(a[c][b])&&g.isDefined(a[c][b].main))||1>d.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:f,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!g.isDefined(b)){b=f(a,
c.color,c.index);if(-1===b)return;c=d.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=e(c[0],b,a);return{height:c[1],width:c[0],xPos:a,yPos:75}}}}});"use strict";h.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(d,g,k){function e(a,c){var b=d.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var e=-1,f=0;f<a.length;f++){var g=a.charAt(f);if(" "===g||"."===g||"?"===g||";"===g||","===g||":"===g)e=f;if(f===c-4){b=a.substring(0,-1===e?f:e);break}}}catch(m){b=
a.substring(0,c-3)}b+="..."}return b}function f(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){d.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){d.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){d.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){d.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){d.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){g("#"+a).hide()},unhideTabHeading:function(a){g("#"+a).show()},addStyleCodeToURL:f,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return f(a,b)},populateVariationSelection:function(a){h.now("desktop-twister",
"twister-dim-util").execute(function(c,b){if(c&&b){a.empty();var d=c.state();c=new b(c.tvm);for(var e in d){var f=d[e];b=f.dimKey;var k=f.val;f=c.getDimensionDisplayText(b);(b=c.getDimensionValueFromIndex(b,k))&&g("\x3cdiv/\x3e").addClass("ivVariations").text(f+":"+b).appendTo(a)}}})},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(e(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},100,c)},logError:function(a,
c,b,d){l.ueLogError&&l.ueLogError(d,{logLevel:a,attribution:c,message:b})}}});"use strict";h.when("A","ImageBlockATF").register("MediaBlockTwisterRefreshDataLoader",function(d,g){function k(){d.trigger("twisterRefreshData",e)}var e={},f=!1;g&&g.isMediaBlock&&(d.on("PageRefresh:ATF",function(){f||(k(),f=!0)}),d.on("PageRefresh:Success",function(){f||k();f=!1}));return{setMediaBlockData:function(a){e=a}}});"use strict";h.when("A").register("ImageBlockLoader",function(d){return{load:function(g,k){k=
k||{};k.timeout=k.timeout||4E3;d.ajax(g,k)}}});"use strict";h.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(d,g){h.register("vse_ns_preLoaderHook",function(){function k(e,f){try{var a=e.A,c=e.block,b=e.request,t=e.handleFailure,h=e.handleSuccess,l=a.$;f--;var m=3-f-1,n=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(e){var f=
a.now()-n;d.postTimeMetric("vse_preLoaderHook:success:",f);d.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+m);l(c).html(e);h(a,b,e)},error:function(c){d.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=c.http.status&&599>=c.http.status)&&0<f?k(e,f):(d.postCountMetric("vse_preLoaderHook:error:",1),t(a,b,c))}})}catch(q){g.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(d,f,a,c,b){k({A:d,block:f,
request:a,handleFailure:b,handleSuccess:c},3)}}});h.register("vse_ns_lazyLoaderHook",function(){function k(e,f,a){try{var c=e.A,b=e.context,h=e.handleFailure,l=e.handleSuccess;f.attr("data-configuration");var p=atob(f.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,configuration:m},q=c.now();a--;var r=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var e=
c.now()-q;d.postTimeMetric("vse_lazyLoaderHook:success:",e);d.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+m.type+":"+r);f.html(a);l(c,n,a)},error:function(g){d.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+r);(0===g.http.status||500<=g.http.status&&599>=g.http.status)&&0<a?k(e,f,a):(d.postCountMetric("vse_lazyLoaderHook:error:",1),h(c,n,g))}})}catch(u){g.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(d,
f,a,c,b){var e=d.$;e(f+" div[data-configuration]").each(function(){k({A:d,context:a,handleFailure:b,handleSuccess:c},e(this),3)})}}});h.register("vse_ns_videoPlayer",function(){function k(e,f,a){try{var c=e.A,b=e.block,h=e.request,l=e.handleFailure,p=e.handleSuccess,m=c.$;a--;var n=3-a-1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:h,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:h.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-
q;d.postTimeMetric("vse_lightPlayerLoaderHook:success:",e);d.postCountMetric("vse_lightPlayerLoaderHook:success:"+h.page+":"+h.placement+":"+n);m(b).html(a);p(c,h,a)},error:function(b){d.postCountMetric("vse_lightPlayerLoaderHook:error:"+h.page+":"+h.placement+":"+n);(0===b.http.status||500<=b.http.status&&599>=b.http.status)&&0<a?k(e,a):(d.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(c,h,b))}})}catch(r){g.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",r)}}return{get:function(d,
f,a,c,b){k({A:d,block:f,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
(function(q){var t=window.AmazonUIPageJS||window.P,r=t._namespace||t.attributeErrors,b=r?r("DetailPagePaymentOptionsJavascript",""):t;b.guardFatal?b.guardFatal(q)(b,window):b.execute(function(){q(b,window)})})(function(q,t,r){"use strict";q.when("A","payment-options-constants").register("payment-options-client-side-metric",function(b,d){function e(){return Date.now().toString(10)+Math.random().toString(16).substring(2,13)}function f(c,a){m(d.metricPrefix,c,a)}function l(c,a){m(d.metricPrefixUFO,c,
a)}function m(c,a,b){if("undefined"!==typeof k&&"undefined"!==typeof k.count&&a&&c){if(b===r||null===b)b=1;c+=a;k.count(c,(k.count(c)||0)+b);"undefined"!==typeof t.csa&&(b=t.csa("Events",{producerId:"dp-rpcx"}),a=k.count(c),b("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:c,valueToLog:a},{ent:"all"}))}}function g(c){if(c)this.timerName=c,this.startTime=0;else throw Error("timerName must be non empty string");}function h(c){if(c)this.timerName=c,this.startTime=0;else throw Error("timerName must be non empty string");
}var k=t.ue;g.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&f(this.timerName,Date.now()-this.startTime)}};h.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&f(this.timerName,Date.now()-this.startTime)}};return{increment:function(c){f(c,1)},incrementWithValue:f,incrementWithValuePriceBlockMessaging:function(c,a){m(d.metricPrefixPriceblock,c,a)},logNexusEventForMonthlyPaymentSelection:function(c){if(t.ue&&
k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId=c.data.optionId;a.ranking=parseInt(c.data.executionInfo.offerRank);a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=!0;a.isOfferSelected=!0;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=
!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!0;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,d.nexus.producerId,
d.nexus.schemaId,{ssd:!0});l("MonthlyPaymentSelection",1)}},logNexusEventForComparePlansLink:function(c){if(t.ue&&k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=
!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId=c.data.executionInfo.trackingId;a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!0;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;
a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});l("ComparePlansLink",1)}},logNexusEventForSwatchExpansion:function(c){if(t.ue&&k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;
a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=!0;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=
!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});l("SwatchExpansion",1)}},logNexusEventForComparePlansOfferSelection:function(c){if(t.ue&&k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;
a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId=c.data.optionId;a.ranking=-1;a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=
!0;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});l("ComparePlansOfferSelection",1)}},logNexusEventForChangePlansLink:function(c){if(t.ue&&k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;
a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId=c.data.executionInfo.trackingId;a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";
a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!0;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});l("ComparePlansChangePlan",1)}},logNexusEventForCancelPlan:function(c){if(t.ue&&k.event){var a={};a.requestId=c.data.requestId;
a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId=
"undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!0;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});l("ComparePlansCancelPlan",1)}},logNexusEventForCheckoutPlan:function(c){if(t.ue&&
k.event){var a={};a.requestId=c.data.requestId;a.sessionId=c.data.sessionId;a.marketplaceId=c.data.marketplaceId;a.customerId=c.data.customerId;a.asin=c.data.asin;a.websiteDisplayGroup=c.data.websiteDisplayGroup;a.parentAsin=c.data.parentASIN;a.buyingOptionType=c.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=c.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=
d.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!0;k.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});l("ComparePlansCheckoutPlan",
1)}},Timer:g,TimerPriceBlockMessaging:h}});"use strict";q.when("A","payment-options-constants","payment-options-expander-actions","payment-options-client-side-metric").register("multi-card-exp-payment-options",function(b,d,e,f){function l(){f.increment("Expander:Auto:Collapse");var d=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection;e.collapsePaymentOptions(d);b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=
!1}function m(){if(document.getElementById("payment-options-expander-header")){var d=JSON.parse(b.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander"));d.isAutoExpand=!0;d.forceExpand=!0;b.trigger("a:declarative:expand-payment-options-expander",{data:d})}}return function(){var e=b.$(d.selector.multiCardExperimentElement).data(d.selector.multiCardExperimentData);if(!e||!e.treatment)return{};var f=b.$(d.selector.activeTPlusCards).val();if(!f||!f.length)return{};f=
f.split(",");return{expTreatment:e.treatment,isFirstCard:f[0]===d.featureRegistration.featureName,collapseCard:l,autoExpandCard:m}}()});"use strict";q.when("A").register("payment-options-constants",function(b){return{featureRegistration:{featureName:"paymentOptions",featureAttribution:"C/T/I"},nexus:{producerId:"ufo-dev",schemaId:"ufo_dev.DPXAwarenessAndConversion.7"},validators:{itemType:"paymentOfferInfo",offerTypes:["EQUAL_PAY","ONE_TIME_PAYMENT"],cartTypes:["ADD_TO_CART"],cardTypes:["PLCC"]},
metricConstants:{skipLearnMoreMetricForDesktop:"skipLearnMoreMetricForDesktop"},parameters:{itemType:"paymentOfferInfo",selectionType:{ADD:"add",DELETE:"delete"},offerTypes:{equalPay:"EQUAL_PAY",oneTimePayment:"ONE_TIME_PAYMENT"},cartTypes:{addToCart:"ADD_TO_CART",buyNow:"BUY_NOW"},cardTypes:{plcc:"PLCC"}},paymentOfferInputElement:{inputType:"hidden",name:"paymentOfferInfo"},imagesToLoad:".payment-options-financing-option-card-image .payment-options-expander-heading-image-container .payment-options-side-sheet-header .payment-options-side-sheet-option-summary .payment-options-side-sheet-comparison-group-container .payment-options-comparison-sheet-comparison-card-option".split(" "),
ajaxStatusText:{timeout:"Request Timeout"},selector:{expanderContainer:".payment-options-container",skeletonLoader:".payment-option-skeleton-loader",twisterPlusFadeIn:"twister-plus-cc-card-fadeIn",paymentOptionExpand:"payment-options-expander-content-expand",skeletonLoaderExpand:"payment-option-skeleton-loader-expand",checkmark:".payment-options-selected-checkmark",subtitle:".payment-options-subtitle",subtitleText:".payment-options-subtitle-text",cardImage:".payment-options-selected-card-image",expanderIcon:".payment-options-expander-icon",
toggleButton:"#payment-options-toggle-button",expanderContent:".payment-options-expander-content",swatch:".payment-options-swatch",oneTimePaymentOption:".payment-options-default-option",financingOptions:".payment-options-financing-option",financingOptionTitle:".payment-options-financing-option-title",swatchOption:".payment-options-option",swatchHeading:".payment-options-option-heading",selectedHeading:"payment-options-selected-heading",selectedOption:"payment-options-selected-option",unavailableOption:"payment-options-unavailable-option",
unselectedHeading:"payment-options-unselected-heading",swatchDetail:".payment-options-option-detail",refreshCCText:"#payment_options_refresh_cc_text",refreshToggle:"#payment_options_refresh_cc_text_container",multiCardExperimentData:"wireless-multi-card",multiCardExperimentElement:"[data-wireless-multi-card]",activeTPlusCards:"#twister-plus-active-cards",sideSheetButton:".payment-option-side-sheet-comparison-button",selectedButton:"payment-option-side-sheet-comparison-button-selected",unselectedButton:"payment-option-side-sheet-comparison-button-unselected",
disabledSwatch:"payment-option-disabled",monthlyPaymentAction:"payment-options-monthly-payment-action",paymentOptionsWeblabs:"#payment-options-weblabs",paymentOptionsWeblabsAttribute:"data-enabled-weblabs",paymentOptionsDefaultPickupBuyingOptionData:"#payment-options-default-buyingOption-pickup",isBuyingOptionOverridePresentAttribute:"data-is-pickup-buying-option-override-present",pickUpBuyingOptionIndex:"data-pickup-buying-option-index",payPlanColumnSelector:".payment-plan-column-selector",paymentDetailColumnSelector:".payment-details-column-selector",
interestColumnSelector:".interest-column-selector",payPlanAplliesSelector:".pay-plan-applies-to-column-selector",cardRewardColumnSelector:".card-reward-column-selector",oneTimePaymentHeadButton:".payment-option-onetimepayment-button",paymentOptionApplicabilityMessageLayout:".payment-option-applicibility-message-layout",paymentOptionApplicabilityMessage:".payment-option-applicibility-message-layout .payment-option-applicibility-message",swatchActionButton:".payment-options-swatch-action-button",toggleExpanderButton:".toggle-payment-options-expander-button",
setDynamicHeight:{paymentPlanRow:{rowElementsSelector:".payment-options-payment-plan-head, .payment-option-payment-plan-row-value"},paymentOptionDetailsRow:{columnValueElementsSelector:".monthly-payment-table-payment-details-column-value",rowElementsSelector:".payment-option-payment-details-row-value, .payment-options-payment-details-head"},interestRow:{rowElementsSelector:".payment-option-interest-row-value, .payment-options-interest-head"},planAppliesToRow:{rowElementsSelector:".payment-options-plan-applies-to-head, .payment-option-plan-applies-to-row-value"}}},
comparePlansSelector:{comparePlansSidesheetSelector:"#compare-all-plans-sideSheet",comparePlansContentSelector:"#compare-all-plans-content",viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#compare-all-plans-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".compare-plans-sidesheet-ajax-error",skeletonLoaderClass:".compare-plans-sidesheet-skeleton-loader",
comparePlansPaymentOptionSelector:".payment-plan-",comparePlansPaymentOptionWithLearnMoreSelector:".payment-plan-column-",comparePlansButtonIdSelector:"#monthlyPaymentOption",comparePlansColumnSelector:".payment-option-table-column",comparePlansColumnWithLearnMoreSelector:".payment-option-table-monthly-payments-column",comparePlansButtonSelector:".payment-option-side-sheet-comparison-button"},learnMoreSelector:{learnMoreSidesheetSelector:"#payment-option-learn-more-sideSheet",learnMoreContentSelector:"#payment-options-learn-more-ajax",
viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#payment-options-learn-more-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".learn-more-sidesheet-ajax-error",skeletonLoaderClass:".learn-more-sidesheet-skeleton-loader"},ajaxErrorReasons:{timeoutStatus:"Request Timeout"},classes:{hideSwatchMainViewClass:"payment-option-list-item-hidden",paymentOptionsList:".payment-options-list",
unavailableCompareAllPlansOption:"payment-options-comparison-sheet-unavailable-option",disabledComparisonPlanButton:"payment-option-comparison-sheet-disabled",auiDisabledButtonClass:"a-button-disabled",auiEnabledButtonClass:"a-button-normal",popOverHideClass:"popover-hide",popOverShowClass:"popover-show",colLeftRightBorder:"Payment-option-side-sheet-left-right-column-border",colTopBorder:"Payment-option-side-sheet-top-border",colBottomBorder:"Payment-option-side-sheet-bottom-border",cardRewardHideClass:"payment-options-card-reward-hide",
normalLeftBorder:"payment-option-column-normal-left-border",normalRightBorder:"payment-option-column-normal-right-border",selectedPaymentOptionBorder:"payment-option-selected-column-border",normalPaymentOptionBorder:"payment-option-column-normal-border",selectedButtonClass:"payment-option-side-sheet-comparison-button-selected",unselectedButtonClass:"payment-option-side-sheet-comparison-button-unselected",disabledPaymentOptionOrder:"payment-option-disabled-column-order",disabledPaymentOptionClass:"payment-option-disabled-column"},
animationTimeoutUnit:200,metricPrefix:"DPX:TwisterPlusCCCard:PaymentOptions:",metricPrefixPriceblock:"DPX:PriceBlockMessaging:PaymentOptions:",metricPrefixUFO:"DPX:UnifiedFinancingOffers:PaymentOptions:",classSelector:".",disabledPaymentOptionSelecter:"titleSupplement",popOverText:"popover",attributes:{ariaChecked:"aria-checked",ariaExpanded:"aria-expanded"}}});"use strict";q.when("A","cc-manager","payment-options-constants","payment-options-expander-state","payment-options-expander-actions","payment-options-client-side-metric",
"multi-card-exp-payment-options","payment-plan-state").register("payment-options-registration",function(b,d,e,f,l,m,g,h){function k(a){return"string"===typeof a}function c(a){for(var c=a.length-1;0<=c;c--){var b=a.get(c).id;if(b!==r&&!v("#"+b).parent().parent().parent().hasClass(e.classes.hideSwatchMainViewClass)){v("#"+b).parent().parent().parent().addClass(e.classes.hideSwatchMainViewClass);break}}}function a(){var a;var c=(a=v(e.selector.paymentOptionsDefaultPickupBuyingOptionData))&&"true"===
a.attr(e.selector.isBuyingOptionOverridePresentAttribute);a=a&&c?(a=a.attr(e.selector.pickUpBuyingOptionIndex))?a:r:void 0;return"#paymentOption_"+(a?a:b.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0)}function n(a){var c=a.executionInfo;c.cartType=e.parameters.cartTypes.addToCart;return{itemType:e.parameters.itemType,price:a.price,selectionType:e.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,
interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,isOrderLevel:a.isOrderLevel,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,formData:[{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:c}]}}var v=b.$;g=g.expTreatment;var p="T2"!==g&&"T3"!==g,w=e.featureRegistration.featureName;d.registerFeature(e.featureRegistration,
{init:function(c){b.$(a()).removeClass("a-hidden")},validateInputParams:function(a){return a&&a.formData&&1===a.formData.length&&a.itemType===e.validators.itemType&&k(a.priceAndTermCountDisplayString)&&k(a.orderSummaryDisplayString)&&k(a.interestDisplayString)&&"number"===typeof a.price&&"number"===typeof a.interestAmount&&k(a.bottomSheetFootnoteDisplayString)?!0:!1},cardCollapse:function(){var a=h.paymentOptionSelected.paymentOptionClickedFromSideSheet;p&&!a&&(m.increment("Expander:Auto:Collapse"),
a=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,l.collapsePaymentOptions(a),b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1)},refreshCard:function(){b.$(e.selector.refreshToggle).removeClass("refresh-toggle");b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand&&b.$(e.selector.refreshCCText).removeClass("a-hidden")},switchBuyingOption:function(a,m,
h,g,k,p){g=p&&-1!==p?p:a;b.$("[id^\x3dpaymentOption_]").addClass("a-hidden");a=b.$(".payment-options-selected-option").closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action");var q;b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander")!==r&&(m=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,a===r&&!0===m&&(q=b.$("[data-payment-options-emp-action]").data("payment-options-emp-action")));
var t;a&&(t=a.offerGroup);b.$("#paymentOption_"+g).removeClass("a-hidden");var y=v("#paymentOption_"+g).find("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander");m=v("#paymentOption_"+g+" #oneTimePaymentOptionSwatch");b.$(m).click();b.delay(function(){y.isExpand||v(e.selector.subtitleText).text(y.collapseSubtitle)},100);h=m=!1;d.ccRemovedSelectionsClear(w);a===r&&q!==r&&(k=b.$("#paymentOption_"+g+" [data-payment-options-emp-action]").data("payment-options-emp-action"),
m=k!==r,!0===m&&(v(e.selector.subtitleText).text(k.preselectionSubtitle),f.expanderSubtitle.monthlyPaymentOptionsCollapsedSubtitle=k.preselectionSubtitle,f.expanderSubtitle.monthlyPaymentOptionsExpandedSubtitle=k.preselectionSubtitle),!1===m&&d.ccRemovedSelectionUpdate(w,n(q)));if(t){q=v("#paymentOption_"+g+" .payment-options-financing-option");g=q.length;m=0<g;for(k=0;k<g;k++){p=q.get(k);var z=b.$(p).closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action"),
A=v("#"+p.id).parent().parent().parent(),C=A.hasClass(e.classes.hideSwatchMainViewClass);if(z&&t===z.offerGroup){h=!0;C&&(c(q),A.removeClass(e.classes.hideSwatchMainViewClass));b.$(p).click();var D=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection}}(!m||m&&!h)&&d.ccRemovedSelectionUpdate(w,n(a));l.collapsePaymentOptions(D)}}})});"use strict";q.when("A","cc-manager","payment-options-constants","payment-options-registration").register("cc-payment-options",
function(b,d,e){function f(c){var a=g("form#buyNowCheckout");if(0<a.length){var b=a.find("input[name\x3d"+e.parameters.itemType+"]");c=c.executionInfo;c.cartType=e.parameters.cartTypes.buyNow;c=JSON.stringify(c);1>b.length?g("\x3cinput\x3e").attr({type:e.paymentOfferInputElement.inputType,name:e.paymentOfferInputElement.name,value:c,id:"bnMshopPaymentOfferInfo"}).appendTo(a):(a=g("#bnMshopPaymentOfferInfo"),1<b.length?a.detach():a.val(c))}}function l(c){var a=c.executionInfo;a.sessionId=c.sessionId;
a.customerId=c.customerId;a.marketplaceId=c.marketplaceId;a.requestId=c.requestId;a.deviceType=c.deviceType;a.asin=c.asin;a.buyingOptionType=c.buyingOptionType;a.parentASIN=c.parentASIN;a.websiteDisplayGroup=c.websiteDisplayGroup}function m(c,a){return{itemType:e.parameters.itemType,price:c.price,selectionType:e.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:c.priceAndTermCountDisplayString,interestDisplayString:c.interestDisplayString,interestAmount:c.interestAmount,orderSummaryDisplayString:c.orderSummaryDisplayString,
isOrderLevel:c.isOrderLevel,bottomSheetFootnoteDisplayString:c.bottomSheetFootnoteDisplayString,termCount:c.termCount,termType:"mo",formData:a}}var g=b.$,h=e.featureRegistration.featureName,k;return{updatePaymentOptionSelection:function(c){if(!c)return!1;d.ccSelectionsClear(h);clearTimeout(k);g("#bnMshopPaymentOfferInfo").detach();var a=[],b;if(c.hasOwnProperty("executionDetails")&&0!==Object.keys(c.executionDetails).length){var v=c.executionDetails;Object.keys(v).forEach(function(b){if("paymentOfferInfoType"===
b){var d=JSON.parse(c.executionDetails.paymentOfferInfoType);d.sessionId=c.sessionId;d.customerId=c.customerId;d.marketplaceId=c.marketplaceId;d.requestId=c.requestId;d.deviceType=c.deviceType;d.asin=c.asin;d.buyingOptionType=c.buyingOptionType;d.parentASIN=c.parentASIN;d.websiteDisplayGroup=c.websiteDisplayGroup;c.executionDetails.paymentOfferInfoType=JSON.stringify(d);a.push([{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:JSON.parse(v[b])}])}else a.push([{inputType:e.paymentOfferInputElement.inputType,
inputName:b,inputValue:v[b]}])});for(var p=0;p<a.length;p++)if(b=m(c,a[p]),b=d.ccSelectionUpdate(h,b),!b)return!1}else if(c.hasOwnProperty("executionInfo")&&0!==Object.keys(c.executionInfo).length)l(c),a.push([{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:c.executionInfo}]),b=m(c,a[0]),b=d.ccSelectionUpdate(h,b);else return!0;f(c);k=setTimeout(function(){f(c)},1E3);return b}}});"use strict";q.when("A","cc-payment-options").register("payment-options-actions",
function(b,d){b.declarative("select-payment-option","click",function(b){d.updatePaymentOptionSelection(b.data)})});"use strict";q.when("A","po-sidesheet-ajax-state","payment-plan-state","payment-options-constants","payment-options-state","payment-options-client-side-metric").register("po-compare-plans-actions",function(b,d,e,f,l,m){function g(){d.resetComparePlansState();u(f.comparePlansSelector.skeletonLoaderClass).addClass("aok-hidden");u(f.comparePlansSelector.ajaxErrorMessageSelector).removeClass("aok-hidden")}
function h(a,b){a=u(a);var d=f.comparePlansSelector.viewModelFailedSelector,e=f.comparePlansSelector.preselectiedOptionSelector,g=f.comparePlansSelector.paymentOptionsCountSelector,h=f.comparePlansSelector.firsOfferIdSelector,l=c(),e=e+"-"+l,g=g+"-"+l,h=h+"-"+l;return 0!==a.filter(d+"-"+l).length?(m.incrementWithValue("Ajax:Inconsistency:ViewModelFailed",1),!0):0!==a.filter(e).length?(m.incrementWithValue("Ajax:Inconsistency:PreselectionPresent",1),!0):a.filter(g).data("paymentPlansCount")!==b.numberOfPaymentOptions?
(m.incrementWithValue("Ajax:Inconsistency:OffersCountNotSame",1),!0):a.filter(h).data("firstOfferId")!==b.firstOfferId?(m.incrementWithValue("Ajax:Inconsistency:OfferIdNotSame",1),!0):!1}function k(e){u(f.comparePlansSelector.comparePlansSidesheetSelector).html(d.getComparePlansState("ajaxContent"));var m=f.comparePlansSelector.comparePlansContentSelector+"-"+c();u(m).removeClass("aok-hidden");b.loadDescendantImagesManually(u(".payment-options-side-sheet-header"));b.loadDescendantImagesManually(u(".payment-options-side-sheet-option-summary"));
b.loadDescendantImagesManually(u(".payment-options-side-sheet-comparison-group-container"));b.loadDescendantImagesManually(u(".payment-options-comparison-sheet-comparison-card-option"));a(e)}function c(){return b.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0}function a(a){var c=e.paymentOptionSelected.paymentOptionSelectedButtonId,b=e.paymentOptionSelected.paymentOptionDisabledButtonId;w(a.data.selectText);B(c,a.data.selectedText);q(b);requestAnimationFrame(function(a){n(a)})}
function n(a){var c=f.selector.setDynamicHeight;Object.keys(c).forEach(function(a){var b=c[a];Object.keys(b).forEach(function(a){a=document.querySelectorAll(b[a]);if(0!==a.length){var c=v(a);0!==c&&p(a,c)}})});a=document.querySelectorAll(".payment-option-table-head");a=v(a);var b=document.querySelectorAll(".payment-option-table-column");p(b,a)}function v(a){for(var c=0,b=0;b<a.length;b++)void 0,void t.getComputedStyle(a[b]).height,a[b].offsetHeight>c&&(c=a[b].offsetHeight);return c}function p(a,c){for(var b=
0;b<a.length;b++)a[b].style.height=c.toString()+"px"}function w(a){u(r.oneTimePaymentHeadButton).removeClass(r.selectedButton);u(r.oneTimePaymentHeadButton).addClass(r.unselectedButton);u(r.oneTimePaymentHeadButton).text(a);u(f.comparePlansSelector.comparePlansColumnSelector).removeClass(f.classes.selectedPaymentOptionBorder);u(f.comparePlansSelector.comparePlansColumnSelector).addClass(f.classes.normalPaymentOptionBorder);u(f.comparePlansSelector.comparePlansColumnSelector).removeClass(f.classes.disabledPaymentOptionClass);
u(f.comparePlansSelector.comparePlansColumnWithLearnMoreSelector).removeClass(f.classes.disabledPaymentOptionOrder);u(f.comparePlansSelector.comparePlansButtonSelector).removeClass(f.classes.selectedButtonClass);u(f.comparePlansSelector.comparePlansButtonSelector).removeClass(f.classes.auiDisabledButtonClass);u(f.comparePlansSelector.comparePlansButtonSelector).addClass(f.classes.unselectedButtonClass);u(f.comparePlansSelector.comparePlansButtonSelector).text(a)}function B(a,b){if(""!==a)if("oneTimePaymentOption"===
a)u(r.oneTimePaymentHeadButton).addClass(r.selectedButton),u(r.oneTimePaymentHeadButton).removeClass(r.unselectedButton),u(r.oneTimePaymentHeadButton).text(b);else{var c=f.comparePlansSelector.comparePlansPaymentOptionSelector+a.match(/\d+/g)[0];u(c).addClass(f.classes.selectedPaymentOptionBorder);u(c).removeClass(f.classes.normalPaymentOptionBorder);u("#"+a).addClass(f.classes.selectedButtonClass);u("#"+a).removeClass(f.classes.unselectedButtonClass);u("#"+a).text(b)}}function q(a){if(a&&""!==a){a=
a.match(/\d+/g)[0];u("#"+f.disabledPaymentOptionSelecter+a).text("("+e.paymentOptionSelected.paymentOptionUnAvailableMsg+")");var b=f.comparePlansSelector.comparePlansPaymentOptionSelector+a,c=f.comparePlansSelector.comparePlansPaymentOptionWithLearnMoreSelector+a;u(f.comparePlansSelector.comparePlansButtonIdSelector+a).addClass(f.classes.auiDisabledButtonClass);u(c).addClass(f.classes.disabledPaymentOptionOrder);u(b).addClass(f.classes.disabledPaymentOptionClass);u("[id\x3d"+f.popOverText+a+"cell]").addClass(f.classes.popOverShowClass);
u("[id\x3d"+f.popOverText+a+"cell]").removeClass(f.classes.popOverHideClass)}}var u=b.$,r=f.selector;b.on("PageRefresh:ATF",function(){d.resetComparePlansState()});return{loadAjaxContent:function(a){var c=u("#twister-plus-asin").val();if(null===c||""===c)m.incrementWithValue("Ajax:Inconsistency:AsinEmpty",1),g();else if(d.getComparePlansState("isAjaxContentLoaded")&&!d.checkInconsistentState())k(a);else{var e={asin:c,showFeatures:"compareAllPlansSidesheetAjax,paymentOptions"},l=new m.Timer("Ajax:Loading:Time");
l.start();u(f.comparePlansSelector.skeletonLoaderClass).removeClass("aok-hidden");u(f.comparePlansSelector.ajaxErrorMessageSelector).addClass("aok-hidden");b.ajax("/gp/product/ajax/paymentOptionsAjaxExperience?",{method:"get",timeout:1E4,params:e,success:function(b){null===b||/^\s*$/.test(b)?(m.incrementWithValue("Ajax:Inconsistency:EmptyResponse",1),g()):h(b,a.data)?g():(d.setComparePlansState("ajaxContent",b),d.setComparePlansState("isAjaxContentLoaded",!0),d.setComparePlansState("ajaxContentAsin",
c),k(a),l.stop())},error:function(a,b){b===f.ajaxErrorReasons.timeoutStatus?m.incrementWithValue("Ajax:Failure:Timeout",1):m.incrementWithValue("Ajax:Failure",1);g()}})}},renderPreselection:a}});"use strict";q.when("A","compare-plan-row-constants").register("compare-plan-row-height-updater",function(b,d){var e=[d.COMPARE_PLAN_PAYMENT_DETAILS,d.COMPARE_PLAN_INTEREST_ROW];return{updateRowHeight:function(d){for(var l=0;l<e.length;l++){for(var m=b.$(d).find(e[l]),g,h=g=0;h<m.length;h++)m[h].offsetHeight>
g&&(g=m[h].offsetHeight);if(0<g)for(h=0;h<m.length;h++)m[h].style.height=g.toString()+"px"}}}});"use strict";q.when("A").register("compare-plan-row-constants",function(b){return{COMPARE_PLAN_CARD_OPTION:".comparison-table-comparison-card-option",COMPARE_PLAN_PAYMENT_DETAILS:".comparison-table-payment-details",COMPARE_PLAN_INTEREST_ROW:".comparison-table-interest-row-value",COMPARE_PLAN_TOTAL_AMOUNT:".comparison-table-total-amount",COMPARE_PLAN_APPLIES_TO_ROW:".comparison-table-plan-applies-to-row-value",
COMPARE_PLAN_REWARD_ROW:".comparison-table-card-reward-row-value"}});"use strict";q.when("A").register("po-sidesheet-ajax-state",function(b){var d=b.$,e={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""},f={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""};return{getComparePlansState:function(b){return e[b]},setComparePlansState:function(b,d){e[b]=d},getLearnMoreState:function(b){return f[b]},setLearnMoreState:function(b,d){f[b]=d},checkInconsistentState:function(){if(e.isAjaxContentLoaded&&
f.isAjaxContentLoaded){if(e.ajaxContentAsin!==f.ajaxContentAsin)return this.resetComparePlansState(),this.resetLearnMoreState(),!0;var b=d("#twister-plus-asin").val();if(e.ajaxContentAsin!==b)return this.resetComparePlansState(),this.resetLearnMoreState(),!0}return!1},resetComparePlansState:function(){this.setComparePlansState("ajaxContent","");this.setComparePlansState("isAjaxContentLoaded",!1);this.setComparePlansState("ajaxContentAsin","")},resetLearnMoreState:function(){this.setLearnMoreState("ajaxContent",
"");this.setLearnMoreState("isAjaxContentLoaded",!1);this.setLearnMoreState("ajaxContentAsin","")}}});"use strict";q.when("A","payment-options-state","po-compare-plans-actions").register("ufo-compare-payment-plans",function(b,d,e){var f=b.$;b.declarative("compare-payment-plans","click",function(f){b.trigger("a:declarative:side-sheet:click",f);d.getWeblabData().isDesktopComparePlansAjaxEnabled?b.trigger("a:declarative:compare-payment-plans-ajax:click",f):e.renderPreselection(f)});b.declarative("price-block-compare-payment-plans",
"click",function(f){b.trigger("a:declarative:open-payment-options-side-sheet:click",f);d.getWeblabData().isDesktopComparePlansAjaxEnabled?b.trigger("a:declarative:compare-payment-plans-ajax:click",f):e.renderPreselection(f)});b.declarative("compare-payment-plans-ajax","click",function(b){e.loadAjaxContent(b)});b.declarative("overflow-sidesheet","click",function(d){var e=f(d.$currentTarget);e!==r&&null!==e&&(f("#"+d.data.paymentOptionSelectButtonId)[0].classList.contains("a-button-disabled")||b.trigger("a:declarative:monthly-payment-option-selection:click",
d))})});"use strict";q.when("A","po-sidesheet-ajax-state","payment-options-constants","payment-options-state","payment-options-client-side-metric","payment-plan-state").register("po-learn-more-actions",function(b,d,e,f,l,m){function g(){d.resetLearnMoreState();p(e.learnMoreSelector.skeletonLoaderClass).addClass("aok-hidden");p(e.learnMoreSelector.ajaxErrorMessageSelector).removeClass("aok-hidden")}function h(a,b){a=p(a);var d=c(),f=e.learnMoreSelector.preselectiedOptionSelector+"-"+d,m=e.learnMoreSelector.paymentOptionsCountSelector+
"-"+d,g=e.learnMoreSelector.firsOfferIdSelector+"-"+d;return 0!==a.filter(e.learnMoreSelector.viewModelFailedSelector+"-"+d).length?(l.incrementWithValue("Ajax:Inconsistency:ViewModelFailed",1),!0):0!==a.filter(f).length?(l.incrementWithValue("Ajax:Inconsistency:PreselectionPresent",1),!0):a.filter(m).data("paymentPlansCount")!==b.numberOfPaymentOptions?(l.incrementWithValue("Ajax:Inconsistency:OffersCountNotSame",1),!0):a.filter(g).data("firstOfferId")!==b.firstOfferId?(l.incrementWithValue("Ajax:Inconsistency:OfferIdNotSame",
1),!0):!1}function k(f,m,g){p(e.learnMoreSelector.learnMoreSidesheetSelector).html(d.getLearnMoreState("ajaxContent"));g=e.learnMoreSelector.learnMoreContentSelector+"-"+g;g+=c();p(g).removeClass("aok-hidden");b.loadDescendantImagesManually(p(".payment-options-side-sheet-header"));b.loadDescendantImagesManually(p(".payment-options-side-sheet-option-summary"));b.loadDescendantImagesManually(p(".payment-options-side-sheet-comparison-group-container"));b.loadDescendantImagesManually(p(".payment-options-comparison-sheet-comparison-card-option"));
a(f,m)}function c(){return b.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0}function a(a,b){n(m.paymentOptionSelected.paymentOptionSelectedButtonId,a,b)}function n(a,b,c){v(b);p(function(){p("[id\x3d"+a+"]").removeClass(w.unselectedButton);p("[id\x3d"+a+"]").addClass(w.selectedButton);p("[id\x3d"+a+"]").children(0).children(0).text(c);p("[id\x3d"+a+"]").text(c)})}function v(a){p(w.sideSheetButton).removeClass(w.selectedButton);p(w.sideSheetButton).addClass(w.unselectedButton);
p(w.sideSheetButton).text(a);p(w.oneTimePaymentHeadButton).removeClass(w.selectedButton);p(w.oneTimePaymentHeadButton).addClass(w.unselectedButton);p(w.oneTimePaymentHeadButton).text(a)}var p=b.$,w=e.selector;b.on("PageRefresh:ATF",function(){d.resetLearnMoreState()});return{loadAjaxContent:function(a){var c=a.data.selectText,f=a.data.selectedText,m=p("#twister-plus-asin").val();null===m||""===m?(l.incrementWithValue("Ajax:Inconsistency:AsinEmpty",1),g()):d.getLearnMoreState("isAjaxContentLoaded")&&
!d.checkInconsistentState()?k(c,f,a.data.index):(p(e.learnMoreSelector.skeletonLoaderClass).removeClass("aok-hidden"),p(e.learnMoreSelector.ajaxErrorMessageSelector).addClass("aok-hidden"),b.ajax("/gp/product/ajax/paymentOptionsAjaxExperience?",{method:"get",timeout:1E4,params:{asin:m,showFeatures:"paymentOptionsLearnMoreSidesheetAjax,paymentOptions"},success:function(b){null===b||/^\s*$/.test(b)?(l.incrementWithValue("Ajax:Inconsistency:EmptyResponse",1),g()):h(b,a.data)?g():(d.setLearnMoreState("ajaxContent",
b),d.setLearnMoreState("isAjaxContentLoaded",!0),d.setLearnMoreState("ajaxContentAsin",m),k(c,f,a.data.index))},error:function(a,b){b===e.ajaxErrorReasons.timeoutStatus?l.incrementWithValue("Ajax:Failure:Timeout",1):l.incrementWithValue("Ajax:Failure",1);g()}}))},stopEventPropagation:function(a){a.$event.preventDefault();a.$event.stopImmediatePropagation()},preRenderSelectedFinancingOption:a}});"use strict";q.when("A","payment-options-state","po-learn-more-actions","payment-options-client-side-metric",
"payment-options-constants").register("payment-options-learn-more-events",function(b,d,e,f,l){b.declarative("payment-options-learn-more","click",function(m){f.increment("SideSheet:Link:Click");e.stopEventPropagation(m);b.trigger("a:declarative:side-sheet:click",m);!m.data.isComparePlansEvent&&d.getWeblabData().isDesktopLearnMoreAjaxEnabled?b.trigger("a:declarative:payment-options-learn-more-ajax:click",m):e.preRenderSelectedFinancingOption(m.data.selectText,m.data.selectedText)});b.declarative("payment-options-gil-skip-learn-more",
"click",function(b){f.incrementWithValue(l.metricConstants.skipLearnMoreMetricForDesktop,1);t.open(b.data.partnerUrl,"_blank","noopener")});b.declarative("payment-options-learn-more-ajax","click",function(b){e.loadAjaxContent(b)})});"use strict";q.when("A","payment-options-expander-actions","payment-options-expander-state","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(b,d,e,f,l){function m(b){if(a===r||null===a||null===b.data.isExpand||b.data.isExpand===r){if(null===
b.data.isExpand||b.data.isExpand===r)h("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1,b.data.isExpand=!1;d.initSubtitle(b);n&&d.hideLoaderAnimation(b.data.isExpand)}}function g(b){a=!0;var c=b.data.renderPreselection;e.autoScroll=!b.data.isAutoExpand;c||n?d.expandPaymentOptions(n,c):(v.isStarted||v.start(),d.expandSkeletonLoader(c));f.logNexusEventForSwatchExpansion(b)}var h=b.$,k=l.expTreatment,c=l.isFirstCard&&"T1"===k||"T2"===k||"T3"===k,a,n=e.isLoaded,
v=new f.Timer("Desktop:Expander:Loading:UserWaiting:Time"),p=new f.Timer("Desktop:Expander:Loading:Time");p.start();q.when("cc-payment-options").execute(function(){p.stop();v.isStarted&&v.stop();n=!0;d.hideLoaderAnimation(a);f.incrementWithValue("Container:Swatch:Amount",h(".payment-options-list-item").length)});b.declarative("toggle-payment-options-expander",["click","keydown"],function(c){if("keydown"!==c.type||13===c.$event.keyCode||32===c.$event.keyCode){m(c);a=c.data.isExpand;var e=c.data.renderPreselection;
!0===a?(a=!1,f.increment("Desktop:Expander:Click:Collapse"),d.collapsePaymentOptions(e)):!1===a&&g(c);h("[data-toggle-payment-options-expander]").each(function(){h(this).data("toggle-payment-options-expander").isExpand=a});b.trigger("a:declarative:expander-update-visible-payment-options:click",c)}});b.declarative("expand-payment-options-expander",function(a){if(!k||a.data.forceExpand)m(a),g(a),h("[data-toggle-payment-options-expander]").each(function(){h(this).data("toggle-payment-options-expander").isExpand=
!0})});c&&l.autoExpandCard()});"use strict";q.when("A","payment-options-expander-state","payment-options-constants","payment-options-client-side-metric","payment-options-swatch-actions","cc-manager").register("payment-options-expander-actions",function(b,d,e,f,l,m){function g(){if(d.autoScroll){var b=a(n.expanderContainer),c=b.offset().top+b.outerHeight();if(a(t).scrollTop()+a(t).height()<c){var c=b.offset().top,e=a(t).height(),b=b.height(),b=c-(e-b)/2;a("html, body").animate({scrollTop:b},d.animationTimeoutUnit)}}}
function h(b,c){b=b?p.monthlyPaymentOptionsExpandedSubtitle:c?p.monthlyPaymentOptionsExpandedSubtitle:p.loadingSubtitle;a(n.subtitleText).text(b);!1===c&&a(n.cardImage).fadeOut(e.animationTimeoutUnit)}function k(b){""!==p.monthlyPaymentOptionsCollapsedSubtitle&&a(n.subtitleText).text(p.monthlyPaymentOptionsCollapsedSubtitle);!1===b&&a(n.cardImage).fadeIn(e.animationTimeoutUnit)}function c(b,c){a(b)&&a(b).attr(v.ariaExpanded,c)}var a=b.$,n=e.selector,v=e.attributes,p=d.expanderSubtitle;return{initSubtitle:function(a){var b=
a.data.expandSubtitle;p.monthlyPaymentOptionsCollapsedSubtitle=a.data.collapseSubtitle;p.monthlyPaymentOptionsExpandedSubtitle=b},expandPaymentOptions:function(d,l){f.increment("Desktop:Expander:Click:Expand");f.increment("Desktop:Expander:Click:Expand:loading");a(n.expanderContent).addClass(n.paymentOptionExpand);a(n.expanderIcon).addClass("rotate");m.cardExpanded(e.featureRegistration.featureName);b.delay(function(){a(n.swatch).addClass(n.twisterPlusFadeIn);h(d,l);g()},e.animationTimeoutUnit);b.$(n.refreshToggle).hasClass("refresh-toggle")||
b.$(n.refreshCCText).removeClass("a-hidden");c(n.toggleExpanderButton,!0)},expandSkeletonLoader:function(d){f.increment("Desktop:Expander:Click:Expand");a(n.expanderContent).addClass(n.skeletonLoaderExpand);a(n.expanderIcon).addClass("rotate");b.delay(function(){d||(a(n.skeletonLoader).addClass(n.twisterPlusFadeIn),h(!1,d),g())},e.animationTimeoutUnit);c(n.toggleExpanderButton,!0)},hideLoaderAnimation:function(c,d){c&&a(n.skeletonLoader).removeClass(n.twisterPlusFadeIn);b.delay(function(){a(n.skeletonLoader).hide();
a(n.swatch).removeClass("invisible");c&&(a(n.subtitleText).text(p.monthlyPaymentOptionsExpandedSubtitle),a(n.expanderContent).addClass(n.paymentOptionExpand),b.delay(function(){a(n.swatch).addClass(n.twisterPlusFadeIn);h(!0,d);g()},e.animationTimeoutUnit))},e.animationTimeoutUnit)},collapsePaymentOptions:function(f){a(n.swatch).removeClass(n.twisterPlusFadeIn);d.isLoaded||f||a(n.skeletonLoader).removeClass(n.twisterPlusFadeIn);a(n.expanderIcon).removeClass("rotate");b.delay(function(){a(n.expanderContent).removeClass(n.paymentOptionExpand);
a(n.expanderContent).removeClass(n.skeletonLoaderExpand);k(f)},e.animationTimeoutUnit);c(n.toggleExpanderButton,!1);b.$(n.refreshCCText).hasClass("a-hidden")||b.$(n.refreshCCText).addClass("a-hidden")},showSubtitleInCollapsedView:k,showSubtitleInExpandedView:h,scrollToShowCompleteExpander:g}});"use strict";q.when("A","payment-options-state","payment-options-client-side-metric","cc-manager","payment-options-constants","payment-options-actions").register("payment-options-auto-expand",function(b,d,e,
f,l){var m=!1,g=function(){var g=document.getElementById("payment-options-expander-header"),k=d.getWeblabData().isAutoExpandWeblabInT1||d.getWeblabData().isAutoExpandWeblabInT2;if(g){if(g=k)g=f.getRenderedFeaturesList(),k=g[0]===l.featureRegistration.featureName,g=1===g.length&&k;g&&(g=JSON.parse(b.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander")),g.isAutoExpand=!0,b.trigger("a:declarative:expand-payment-options-expander",{data:g}),e.increment("Expander:AutoExpanded"),
m=!0)}};g();b.on("a:pageUpdate",g);return{isAutoExpanded:m}});"use strict";q.when("A").register("payment-options-expander-state",function(b){return{expanderSubtitle:{monthlyPaymentOptionsCollapsedSubtitle:"",monthlyPaymentOptionsExpandedSubtitle:"",loadingSubtitle:"Loading options..."},get isLoaded(){return this.property},set isLoaded(b){this.property=b}}});"use strict";q.when("A","payment-options-swatch-actions","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(b,
d,e,f){var l=b.$,m=!f.expTreatment||"T3"===f.expTreatment;b.declarative("payment-options-otp-action",["click","keydown"],function(g){if("keydown"!==g.type||13===g.$event.keyCode||32===g.$event.keyCode){e.increment("Swatch:OneTimePayment:Click");b.trigger("a:declarative:select-payment-option:click",{data:{}});var h=l(g.$currentTarget);h!==r&&null!==h&&(d.updateDefaultOptionSubtitle(g.data.defaultPOSubtitle,g.data.oneTimePaymentPOSubtitle),b.trigger("a:declarative:otp-selection:click",g),m||f.collapseCard())}});
b.declarative("payment-options-monthly-payment-action",["click","keydown"],function(d){if("keydown"!==d.type||13===d.$event.keyCode||32===d.$event.keyCode){var h=l(d.$currentTarget);h!==r&&null!==h&&(b.trigger("a:declarative:monthly-payment-option-selection:click",d),m||f.collapseCard(),e.logNexusEventForMonthlyPaymentSelection(d))}});b.declarative("payment-options-overflow","click",function(b){d.manageOverflow(b)});b.declarative("expander-update-visible-payment-options","click",function(b){var e=
l(b.$currentTarget);e!==r&&null!==e&&d.resetOverflowDefaultOptions(b)});b.declarative("update-swatch","click",function(b){"oneTimePaymentOption"===b.data.selectedPaymentOptionId?d.updateSwatchStyle(b.data.selectedPaymentOptionId):(d.updateSwatchStyle(b.data.selectedPaymentOptionId),d.updateFinancingOptionSubtitle(b.data.subtitleMessage,b.data.cardImageUrl))});b.declarative("disable-swatch","click",function(b){d.disableSwatch(b.$currentTarget)});b.declarative("enable-swatch","click",function(b){d.enableSwatch(b.$currentTarget)})});
"use strict";q.when("A","payment-options-expander-state","payment-options-constants","payment-plan-state").register("payment-options-swatch-actions",function(b,d,e,f){function l(b){h(k.swatchOption).removeClass(k.selectedOption);var c=h(k.swatchActionButton);c&&c.attr(a.ariaChecked,!1);b="oneTimePaymentOption"===b?h(k.oneTimePaymentOption):h("#"+b+"Swatch");b.addClass(k.selectedOption);(b=b.closest(k.swatchActionButton))&&b.attr(a.ariaChecked,!0)}function m(a){a.addClass(c.hideSwatchMainViewClass)}
function g(a,b){a.removeClass(c.hideSwatchMainViewClass);l(b);f.paymentOptionSelected.paymentOptionSelectedButtonId=b;f.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0}var h=b.$,k=e.selector,c=e.classes,a=e.attributes,n=d.expanderSubtitle;return{updateSwatchStyle:l,updateDefaultOptionSubtitle:function(a,b){n.monthlyPaymentOptionsCollapsedSubtitle=a;n.monthlyPaymentOptionsExpandedSubtitle=b;h(k.subtitleText).text(b);h(k.subtitle).removeClass("a-color-success");h(k.subtitle).addClass("a-color-tertiary");
h(k.checkmark).addClass("a-hidden");h(k.cardImage).attr("src","https://images-na.ssl-images-amazon.com/images/G/01/x-locale/common/transparent-pixel._V192234675_.gif")},updateFinancingOptionSubtitle:function(a,b){n.monthlyPaymentOptionsCollapsedSubtitle=a;n.monthlyPaymentOptionsExpandedSubtitle=a;h(k.subtitleText).text(a);h(k.subtitle).removeClass("a-color-tertiary");h(k.subtitle).addClass("a-color-success");h(k.checkmark).removeClass("a-hidden");h(k.cardImage).attr("src",b)},disableSwatch:function(a){var b=
a.find(k.financingOptions);b.removeClass(k.selectedOption);b.addClass(k.unavailableOption);a.addClass(k.disabledSwatch)},enableSwatch:function(a){a.find(k.financingOptions).removeClass(k.unavailableOption);a.removeClass(k.disabledSwatch)},manageOverflow:function(a){f.paymentOptionSelected.paymentOptionUnAvailableMsg=a.data.unAvailableMsg;var b=h("#"+a.data.paymentOptionSelectButtonId+"Swatch").parent().parent().parent();if(b.hasClass(c.hideSwatchMainViewClass)){for(var d=h(c.paymentOptionsList)[0].children,
e="",k=d.length-2;0<=k;k--)if(!h(d[k]).hasClass(c.hideSwatchMainViewClass)){e=h(d[k]);break}m(e);g(b,a.data.paymentOptionSelectButtonId)}else l(a.data.paymentOptionSelectButtonId),f.paymentOptionSelected.paymentOptionSelectedButtonId=a.data.paymentOptionSelectButtonId,f.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0},hideLastSwatch:m,unhideCorrespondingSwatch:g,resetOverflowDefaultOptions:function(a){if(!(3>=parseInt(a.data.numberOfPaymentOptions))){var b=h(c.paymentOptionsList)[0].children;
a="";for(var d=b.length-2;0<=d;d--)if(!h(b[d]).hasClass(c.hideSwatchMainViewClass)){a=h(b[d]);break}b=h(h(h(a.children()[0]).children()[0]).children()[0])[0];b.classList.contains(k.selectedOption)||"3"===b.id.match(/\d+/g)[0]||(m(a),h("#monthlyPaymentOption03Swatch").parent().parent().parent().removeClass(c.hideSwatchMainViewClass))}}}});"use strict";q.when("A").register("payment-plan-state",function(b){return{paymentOptionSelected:{paymentOptionSelectedButtonId:"oneTimePaymentOption",paymentOptionClickedFromSideSheet:!1,
paymentOptionDisabledButtonId:"",paymentOptionDisabledTitleSuppliment:"",paymentOptionUnAvailableMsg:""},get isSelected(){return this.property},set isSelected(b){this.property=b}}});"use strict";q.when("A","payment-plan-state","payment-options-constants","payment-options-client-side-metric").execute(function(b,d,e,f){var l=b.$;b.declarative("otp-selection","click",function(e){var g=l(e.$currentTarget[0].parentNode);e=e.data.paymentOptionSelectButtonId;"payment-options-list-item"===g[0].parentNode.className?
d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(f.increment("SideSheet:OneTimePayment:Click"),d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);d.paymentOptionSelected.paymentOptionSelectedButtonId=e;b.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:d.paymentOptionSelected.paymentOptionSelectedButtonId}})});b.declarative("monthly-payment-option-selection","click",function(e){e.data.hasOwnProperty("optionId")&&""!==e.data.optionId&&f.increment("Swatch:Financing:"+
e.data.optionId+":Click");f.increment("Swatch:MonthlyPayment:Click");b.trigger("a:declarative:select-payment-option:click",e);var g=l(e.$currentTarget);if(g!==r&&null!==g){var g=e.data.posubtitle,h=e.data.cardImageUrl,k=l(e.$currentTarget[0].parentNode),c=e.data.paymentOptionSelectButtonId;"payment-options-list-item"===k[0].parentNode.className?d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(e.data.hasOwnProperty("optionId")&&""!==e.data.optionId?f.increment("SideSheet:Financing:"+e.data.optionId+
":Click"):f.increment("SideSheet:Financing:"+e.data.executionInfo.offerType+":"+e.data.termType+":"+e.data.termCount+":Click"),d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);d.paymentOptionSelected.paymentOptionSelectedButtonId=c;b.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:d.paymentOptionSelected.paymentOptionSelectedButtonId,subtitleMessage:g,cardImageUrl:h}});b.trigger("a:declarative:payment-options-overflow:click",e)}});b.declarative("compare-payment-plans-disable",
"click",function(b){d.paymentOptionSelected.paymentOptionUnAvailableMsg=b.data.paymentOptionUnAvailableMsg;b=b.data.disabledPaymentOptionId;var f=b.match(/\d+/g)[0],f="#"+e.disabledPaymentOptionSelecter+f;d.paymentOptionSelected.paymentOptionDisabledButtonId=b;d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment=l(f).text()});b.declarative("compare-payment-plans-enable","click",function(b){(b=b.data.enablePaymentOptionId)&&""!==b&&(b=b.match(/\d+/g)[0],d.paymentOptionSelected.paymentOptionDisabledButtonId=
"",l("#"+e.disabledPaymentOptionSelecter+b).text(d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment),d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment="",l("[id\x3d"+e.popOverText+b+"cell]").removeClass(e.classes.popOverShowClass),l("[id\x3d"+e.popOverText+b+"cell]").addClass(e.classes.popOverHideClass))})});"use strict";q.when("A","cc-payment-options","payment-options-client-side-metric").execute(function(b,d,e){b.declarative("payment-options-emp-action","change",function(b){d.updatePaymentOptionSelection(b.data)});
var f=b.debounce(function(){var d=b.$,f=d("#PaymentOptionsEmpAction");0<f.length&&f.trigger("change");0<d("#monthly-payments-not-applicable").length&&e.increment("Container:Render:Error");0<d(".payment-options-container").length&&e.increment("Container:Render:Success")},100);f();b.on("PageRefresh:ATF",f)});"use strict";q.when("A","payment-options-client-side-metric","cc-payment-options","payment-options-constants").execute(function(b,d,e,f){var l=b.$;d=new d.Timer("Expander:Loading:Images:Time");
d.start();e=function(){b.loadDescendantImagesManually(l(".payment-options-financing-option-card-image"));b.loadDescendantImagesManually(l(".payment-options-expander-heading-image-container"));b.loadDescendantImagesManually(l(".payment-option-detailed-feature-scroll"));b.loadDescendantImagesManually(l(".payment-options-side-sheet-header"));b.loadDescendantImagesManually(l(".payment-options-side-sheet-option-summary"));b.loadDescendantImagesManually(l(".payment-options-side-sheet-comparison-group-container"));
b.loadDescendantImagesManually(l(".payment-options-comparison-sheet-comparison-card-option"))};e();b.on("a:pageUpdate",e);d.stop()});"use strict";q.when("A","payment-options-swatch-actions","payment-options-constants","payment-options-state","cc-manager").execute(function(b,d,e,f,l){function m(a){var b=a.executionInfo;b.cartType=e.parameters.cartTypes.addToCart;return{itemType:e.parameters.itemType,price:a.price,selectionType:e.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,
interestDisplayString:a.interestDisplayString,interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,isOrderLevel:!0,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,maxQuantity:a.maxQuantity,displayQuantityMessage:!0,formData:[{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:b}]}}var g=b.$,h=e.selector,k=e.featureRegistration.featureName,
c;b.on("a:dropdown:selected:quantity",function(a){var n=g("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0,q=g("#paymentOption_"+n+" .payment-options-list-item"),n=g("#paymentOption_"+n+" #oneTimePaymentOptionSwatch");a=a.value;for(var p=b.$(e.classSelector+h.selectedOption).closest(".payment-options-list-item").find("span.a-declarative").data(h.monthlyPaymentAction),t=1;t<q.length;t++){var r=q.eq(t).find("span.a-declarative").data(h.monthlyPaymentAction),x=r.maxQuantity;
x&&(a>x?(d.disableSwatch(q.eq(t)),x={data:{paymentOptionUnAvailableMsg:r.unAvailableText,numberOfPaymentOptions:r.numberOfPaymentOptions,disabledPaymentOptionId:r.paymentOptionSelectButtonId}},f.getWeblabData().isComparePlansRefactorWeblabInT1?b.trigger("a:declarative:compare-payment-plans-disable:click",x):d.disableOptionInCompareAllPlans(x),p&&r.offerGroup===p.offerGroup&&(g(n).click(),l.ccRemovedSelectionUpdate(k,m(r)),c=r.offerGroup)):(d.enableSwatch(q.eq(t)),f.getWeblabData().isComparePlansRefactorWeblabInT1?
b.trigger("a:declarative:compare-payment-plans-enable:click",{data:{enablePaymentOptionId:r.paymentOptionSelectButtonId}}):d.enableOptionInCompareAllPlans(r.numberOfPaymentOptions),c&&r.offerGroup===c&&(g(".tp-bbm-info-message-quantity-restriction-container").hasClass("tp-bbm-info-message-displayable")&&b.trigger("a:declarative:payment-options-monthly-payment-action:click",{$currentTarget:q.eq(t).find("span.a-declarative"),data:r}),l.ccRemovedSelectionsClear(k))))}})});"use strict";q.when("A","price-block-ajax-weblab-trigger",
"price-block-ajax-constants").execute("price-block-ajax-rendering",function(b,d,e){var f=b.$;0<f(e.COMPARE_PLAN_LINK_CLASS).length&&d.triggerWeblab();var l=b.debounce(function(){0<f(e.COMPARE_PLAN_LINK_CLASS).length&&d.triggerWeblab()},1500);b.on("PageRefresh:ATF",l)});"use strict";q.when("A","ready").register("price-block-ajax-constants",function(b){return{COMPARE_PLAN_LINK_CLASS:".compare-plan-link"}});"use strict";q.when("A").register("price-block-ajax-weblab-trigger",function(b){var d=b.$;return{triggerWeblab:function(){if(t.ue&&
t.ue.trigger){var b=d("#priceBlockAjaxRenderingTreatment"),f=d('[data-action\x3d"price-block-compare-plans"]');b.length&&f.length&&(f=f.data("priceBlockComparePlans").customerId)&&"undef"!==f&&t.ue.trigger("PAYTECH_UFO_DP_PRICEBLOCK_AJAX_1157799",b.data("treatment"))}}}});"use strict";q.when("A","payment-options-constants").register("payment-options-state",function(b,d){function e(){if(!l||0===Object.keys(l).length){var b=f(d.selector.paymentOptionsWeblabs).attr(d.selector.paymentOptionsWeblabsAttribute);
b&&(l=JSON.parse(b))}return l}var f=b.$,l={};b={getWeblabData:e};e();return b});"use strict";q.when("A").register("payment-options-opt-out-state",function(b){return{paymentOptionOptOutSelected:{isOneTimePaymentPreferenceSet:!1,changePlanEventData:""},secondaryViewInstance:null}});"use strict";q.when("A","a-modal","payment-options-opt-out-state","price-block-messaging-constants","payment-options-client-side-metric","ready").execute("payment-options-modal",function(b,d,e,f,l){var m={};b.declarative("open-priceblock-change-plan-modal",
"click",function(b){l.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:Link:Click");var e="priceblock-change-plan-modal-"+b.data.buyingOptionIndex;Object.hasOwn(m,e)||(m[e]=d.create(b.$target,{header:b.data.optOutModalHeader,name:e,dataStrategy:"preload",width:484}));m[e].show()});b.declarative("priceblock-change-plan-modal-cancel-button","click",function(b){l.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:CancelButton:Click");m["priceblock-change-plan-modal-"+
b.data.buyingOptionIndex].hide()});b.declarative("priceblock-change-plan-modal-continue-button","click",function(g){l.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:ContinueButton:Click");g=e.paymentOptionOptOutSelected.changePlanEventData;for(var h=Object.keys(m),k=0;k<h.length;++k){var c=h[k];d.remove(c);delete m[c]}e.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet=!0;h=b.copy(g);h.data.paymentOptionSelectButtonId=f.ONE_TIME_PAYMENT_OPTION_ID;b.trigger("a:declarative:price-block-otp-action:click",
h);g=b.copy(g);b.trigger("a:declarative:price-block-compare-payment-plans:click",g)})});"use strict";q.when("A","price-block-messaging-constants","payment-options-client-side-metric").register("price-block-landing-page-events",function(b,d,e){b.declarative("acquisition-offer-see-details","click",function(b){e.incrementWithValuePriceBlockMessaging(d.metrics.ACQUISITION_OFFER_SEE_DETAILS_BUTTON_CLICK,1);try{var l=JSON.parse(b.data.landingPageUrl.paymentOfferInfoType).bannerDetailsPageUrl;t.open(l,"_blank")}catch(m){e.incrementWithValue("AcquisitionOffer:Desktop:LandingPageUrlParsingError",
1)}});b.declarative("acquisition-offer-learn-more","click",function(b){e.incrementWithValuePriceBlockMessaging(d.metrics.ACQUISITION_OFFER_LEARN_MORE_CLICK,1);try{var l=JSON.parse(b.data.landingPageUrl.paymentOfferInfoType).learnMoreUrl;t.open(l,"_blank")}catch(m){e.incrementWithValue("AcquisitionOffer:Desktop:LearnMoreUrlParsingError",1)}})});"use strict";q.when("A","price-block-messaging-constants","payment-options-client-side-metric","comparison-plans-actions").register("checkbox-price-block-actions",
function(b,d,e,f){function l(b){g(h.CHECKBOX_PRICE_BLOCK).data(h.CHECKBOX_PRICE_BLOCK_DATA_KEY,b)}function m(b){g(h.CHECKBOX_PRICE_BLOCK).data(h.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY,b)}var g=b.$,h=d.selector,k=d.actionData;return{getComparePlansV1SelectedOfferButtonId:function(){var b=h.COMPARE_PLAN_OFFER_BUTTON_ID_PREFIX,a=g(h.CHECKBOX_PRICE_BLOCK).data(h.CHECKBOX_PRICE_BLOCK_DATA_KEY);a||(a=b+"01",l(a));return a},getComparePlansV2SelectedOfferButtonId:function(){var b=g(h.CHECKBOX_PRICE_BLOCK).data(h.CHECKBOX_PRICE_BLOCK_DATA_KEY);
b||(b=h.CHECKBOX_PRICE_BLOCK_INITIAL_CP2_BUTTON,l(b));return b},getOptionNotSelectedString:function(){return g(h.CHECKBOX_PRICE_BLOCK).data(h.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY)},updateCheckboxPriceblockData:l,updateCheckboxPriceblockOptionNotSelectedString:m,updateCheckboxWithTopOffer:function(b){b=b.find(h.COMPARE_PLAN_LINK).find(h.DECLARATIVE_CLASS).data(k.COMPARE_PLAN_LINK_ACTION_DATA).buyingOptionIndex;b=f.getTopEnabledOfferDataInComparisonTable(b);l(d.ID_PREFIX+b.paymentOptionSelectButtonId);
m(b.optionNotSelectedString)},markCheckboxPriceblock:function(){document.getElementById(h.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!0},unmarkCheckboxPriceblock:function(){document.getElementById(h.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!1},triggerCheckboxSelectedActions:function(c,a){b.defer(function(){g(c).click();g(a).click()})},triggerCheckboxUnCheckedActions:function(b){g(b).click()},hasCheckboxPriceblock:function(){return g(h.CHECKBOX_PRICE_BLOCK).length}}});"use strict";q.when("A").register("compare-plan-2_5-weblab-trigger",
function(b){return{triggerWeblab:function(){var d=b.$("#comparePlan2_5Treatment");t.ue&&t.ue.trigger&&d.length&&t.ue.trigger("PAYTECH_UFO_DP_COMPARE_PLAN2_5_1317666",d.data("treatment"))}}})});
/* ******** */
(function(c){var a=window.AmazonUIPageJS||window.P,l=a._namespace||a.attributeErrors,b=l?l("DetailPageLoyaltyRewardPointsEarningsAssets",""):a;b.guardFatal?b.guardFatal(c)(b,window):b.execute(function(){c(b,window)})})(function(c,a,l){"undefined"===typeof a.EARNINGS_MODULES_REGISTERED&&(a.EARNINGS_MODULES_REGISTERED={});a.EARNINGS_MODULES_REGISTERED["diamonds-earnings-modal-desktop"]||(a.EARNINGS_MODULES_REGISTERED["diamonds-earnings-modal-desktop"]=!0,c.when("A","a-modal","earnings-bottom-sheet-aapi-util").register("diamonds-earnings-modal",
function(b,a,d){function f(g){var a=JSON.stringify({domain:g.currencyType,marketplaceId:g.marketplaceId,balanceTypes:[h.PRIMARY],consistencyType:h.CONSISTENCY_TYPE});d.getAAPIProductData(g.aapiEndpoint,g.csrfToken,g.language,a).done(function(a){a=k(a,h.PRIMARY);b.$(c.ajaxTextPointsDiv).text(parseInt(a).toLocaleString("en-US"));b.$(c.earningsSheetContentSpinner).addClass("aok-hidden");b.$(c.earningsBottomSheetContent).removeClass("aok-hidden")})}function k(a,b){return a&&a.entity&&a.entity.balances?
(a=a.entity.balances.find(function(a,e){return a.balanceType===b}))?a.amount:0:0}var h=Object.freeze({PRIMARY:"PRIMARY",LIFETIME_EARNINGS:"LIFETIME_EARNINGS",CONSISTENCY_TYPE:"STRICT"}),e=Object.freeze({MODAL_NAME:"diamonds-earnings-modal-content",WIDTH:"390",PADDING:"none",HIDE_HEADER:!0,CLOSE_TYPE:"icon"}),c={earningsBottomSheetContent:".earnings-sheet-content",ajaxTextPointsDiv:".earningsPointsBalance",earningsSheetContentSpinner:".earnings-bottom-sheet-spinner"};b.declarative("diamonds-earnings-modal",
"click",function(d){var k;if(k=a.get(e.MODAL_NAME)||a.create(d.$target,{name:e.MODAL_NAME,height:e.HEIGHT,width:e.WIDTH,padding:e.PADDING,hideHeader:e.HIDE_HEADER,closeType:e.CLOSE_TYPE}))b.$(c.earningsSheetContentSpinner).removeClass("aok-hidden"),b.$(c.earningsBottomSheetContent).addClass("aok-hidden"),k.show(),f(d.data)})}));a.EARNINGS_MODULES_REGISTERED["earning-shimmer-observer-desktop"]||(a.EARNINGS_MODULES_REGISTERED["earning-shimmer-observer-desktop"]=!0,c.when("A").register("earning-shimmer-observer-desktop",
function(b){function c(){if(a.IntersectionObserver){var b=new IntersectionObserver(function(a){a.forEach(function(a){a.isIntersecting&&.1<a.intersectionRatio&&d(a.target)})},{root:null,rootMargin:"50px 0px -50px 0px",threshold:[.1,.5]});document.querySelectorAll(".shimmer-earningsDesktopRewardIconContainer").forEach(function(a){b.observe(a)});return b}}function d(a){f(a).hasClass("shimmer-active")||(f(a).addClass("shimmer-active"),b.delay(function(){f(a).removeClass("shimmer-active")},4E3))}var f=
b.$;b.on.ready(function(){c()});return{initShimmerObserver:c,triggerShimmer:d}}));"use strict";c.when("A").register("earnings-bottom-sheet-aapi-util",function(a){var c=a.$,d=document.querySelector('meta[name\x3d"encrypted-slate-token"]'),d=d?d.content:d;return{getAAPIProductData:function(a,b,h,e){return c.ajax({url:"https://"+a+"/custom/marbleserviceaapicontracts/marblesservice-getbalances-aapi",type:"POST",headers:{Accept:'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.response/v1"',
"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.request/v1"',"x-api-csrf-token":b,"Accept-Language":h,"x-amzn-encrypted-slate-token":d},data:e,xhrFields:{withCredentials:!0}})}}})});
/* ******** */
(function(d){var b=window.AmazonUIPageJS||window.P,l=b._namespace||b.attributeErrors,c=l?l("DetailPageLoyaltyRewardPointsRedemptionAssets",""):b;c.guardFatal?c.guardFatal(d)(c,window):c.execute(function(){d(c,window)})})(function(d,b,l){var c=Object.freeze({PRIMARY:"PRIMARY",LIFETIME_EARNINGS:"LIFETIME_EARNINGS",CONSISTENCY_TYPE:"STRICT"}),k=Object.freeze({MODAL_NAME:"diamonds-redemption-modal-content",WIDTH:"395",PADDING:"none",HIDE_HEADER:!0,CLOSE_TYPE:"icon"});"undefined"===typeof b.REDEMPTION_MODULES_REGISTERED&&
(b.REDEMPTION_MODULES_REGISTERED={});b.REDEMPTION_MODULES_REGISTERED["redemption-bottom-sheet-desktop"]||(b.REDEMPTION_MODULES_REGISTERED["redemption-bottom-sheet-desktop"]=!0,d.when("A","a-modal","redemption-bottom-sheet-aapi-util").register("redemption-bottom-sheet",function(b,p,m){function h(g){function h(a,e){return a&&a.entity&&a.entity.balances?(a=a.entity.balances.find(function(a,b){return a.balanceType===e}))?a.amount:0:0}function l(g,f){if(g>=f)a(e.progressBarContents).addClass("aok-hidden");
else{var c=g/f*100;d.when("a-meter").execute(function(){b.$(e.progressBar).find(".a-meter-bar")["0"].attributes["1"].nodeValue="width: "+c+"%;background-color: #008296; margin-left: -6%;";a(e.progressBarContents).removeClass("aok-hidden")})}}var f=g.data,n;n||(n=p.create(g.$target,{name:k.MODAL_NAME,height:k.HEIGHT,width:k.WIDTH,padding:k.PADDING,hideHeader:k.HIDE_HEADER,closeType:k.CLOSE_TYPE}));a(e.redemptionSheetContentSpinnerClass).removeClass("aok-hidden");a(e.redemptionBottomSheetContentClass).addClass("aok-hidden");
n.show();g=JSON.stringify({domain:f.currencyType,marketplaceId:f.marketplaceId,balanceTypes:[c.PRIMARY,c.LIFETIME_EARNINGS],consistencyType:c.CONSISTENCY_TYPE});m.getAAPIProductData(f.aapiEndpoint,f.csrfToken,f.language,g).done(function(b){var g=h(b,c.PRIMARY);a(e.ajaxTextPointsDivClass).text(parseInt(g).toLocaleString(f.language));a(e.redemptionSheetContentSpinnerClass).addClass("aok-hidden");a(e.redemptionBottomSheetContentClass).removeClass("aok-hidden");f.lifetimeBalanceEnabled&&(b=h(b,c.LIFETIME_EARNINGS),
g=parseInt(f.minimumLifetimeBalanceThreshold),a(e.remainingDiamondsTextDiv).text(parseInt(g-b).toLocaleString(f.language)),a(e.diamondsCollected).text(parseInt(b).toLocaleString(f.language)),a(e.minimumLifetimeBalanceRequired).text(parseInt(f.minimumLifetimeBalanceThreshold).toLocaleString(f.language)),l(b,g))})}var a=b.$,e={redemptionBottomSheetContentClass:".redemption-bottom-sheet-container-class",ajaxTextPointsDivClass:".redemptionPointsTextDivClass",redemptionSheetContentSpinnerClass:".redemption-bottom-sheet-spinner-class",
remainingDiamondsTextDiv:"#remainingDiamondsToCollect",diamondsCollected:"#diamondsCollectedNumerator",progressBarContents:"#progressBarContents",progressBar:"#progress-bar-bottom-sheet",minimumLifetimeBalanceRequired:"#diamondsCollectedDenominator"};b.declarative("diamonds-redemption-modal","click",function(a){h(a)})}));b.REDEMPTION_MODULES_REGISTERED["redemption-shimmer-observer-desktop"]||(b.REDEMPTION_MODULES_REGISTERED["redemption-shimmer-observer-desktop"]=!0,d.when("A").register("redemption-shimmer-observer-desktop",
function(c){function d(){if(b.IntersectionObserver){var a=new IntersectionObserver(function(a){a.forEach(function(a){a.isIntersecting&&.1<a.intersectionRatio&&m(a.target)})},{root:null,rootMargin:"50px 0px -50px 0px",threshold:[.1,.5]});document.querySelectorAll(".shimmer-redemptionsDesktopRewardIconContainer").forEach(function(b){a.observe(b)});document.querySelectorAll(".shimmer-redemptionsDiamondIcon").forEach(function(b){a.observe(b)});return a}}function m(a){h(a).hasClass("shimmer-active")||
(h(a).addClass("shimmer-active"),c.delay(function(){h(a).removeClass("shimmer-active")},4E3))}var h=c.$;c.on.ready(function(){d()});return{initShimmerObserver:d,triggerShimmer:m}}));"use strict";d.when("A").register("redemption-bottom-sheet-aapi-util",function(b){var c=b.$,d=document.querySelector('meta[name\x3d"encrypted-slate-token"]'),d=d?d.content:d;return{getAAPIProductData:function(b,a,e,g){return c.ajax({url:"https://"+b+"/custom/marbleserviceaapicontracts/marblesservice-getbalances-aapi",
type:"POST",headers:{Accept:'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.response/v1"',"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.request/v1"',"x-api-csrf-token":a,"Accept-Language":e,"x-amzn-encrypted-slate-token":d},data:g,xhrFields:{withCredentials:!0}})}}})});
/* ******** */
